{"version":3,"file":"UppyPage.ea716cb4.js","sources":["../../node_modules/@uppy/utils/lib/getTimeStamp.js","../../node_modules/@uppy/core/lib/loggers.js","../../node_modules/nanoid/non-secure/index.js","../../node_modules/@transloadit/prettier-bytes/prettierBytes.js","../../node_modules/wildcard/index.js","../../node_modules/mime-match/index.js","../../node_modules/@uppy/core/lib/Restricter.js","../../node_modules/@uppy/utils/lib/hasProperty.js","../../node_modules/@uppy/utils/lib/Translator.js","../../node_modules/namespace-emitter/index.js","../../node_modules/lodash.throttle/index.js","../../node_modules/@uppy/store-default/lib/index.js","../../node_modules/@uppy/utils/lib/getFileNameAndExtension.js","../../node_modules/@uppy/utils/lib/mimeTypes.js","../../node_modules/@uppy/utils/lib/getFileType.js","../../node_modules/@uppy/utils/lib/generateFileID.js","../../node_modules/@uppy/core/lib/supportsUploadProgress.js","../../node_modules/@uppy/core/lib/getFileName.js","../../node_modules/@uppy/core/lib/locale.js","../../node_modules/@uppy/core/lib/Uppy.js","../../node_modules/@uppy/utils/lib/isDOMElement.js","../../node_modules/@uppy/utils/lib/findDOMElement.js","../../node_modules/@uppy/utils/lib/getTextDirection.js","../../node_modules/@uppy/core/lib/BasePlugin.js","../../node_modules/@uppy/core/lib/UIPlugin.js","../../node_modules/@uppy/core/lib/index.js","../../node_modules/@uppy/utils/lib/toArray.js","../../node_modules/@uppy/utils/lib/FOCUSABLE_ELEMENTS.js","../../node_modules/@uppy/dashboard/lib/utils/getActiveOverlayEl.js","../../node_modules/@uppy/dashboard/lib/utils/trapFocus.js","../../node_modules/@uppy/utils/lib/getSpeed.js","../../node_modules/@uppy/utils/lib/getBytesRemaining.js","../../node_modules/@uppy/status-bar/lib/StatusBarStates.js","../../node_modules/classnames/index.js","../../node_modules/@uppy/utils/lib/secondsToTime.js","../../node_modules/@uppy/utils/lib/prettyETA.js","../../node_modules/@uppy/status-bar/lib/Components.js","../../node_modules/@uppy/status-bar/lib/calculateProcessingProgress.js","../../node_modules/@uppy/status-bar/lib/StatusBar.js","../../node_modules/@uppy/status-bar/lib/locale.js","../../node_modules/@uppy/status-bar/lib/_StatusBar.js","../../node_modules/@uppy/status-bar/lib/index.js","../../node_modules/@uppy/informer/lib/FadeIn.js","../../node_modules/@uppy/informer/lib/TransitionGroup.js","../../node_modules/@uppy/informer/lib/Informer.js","../../node_modules/@uppy/informer/lib/index.js","../../node_modules/exifr/dist/mini.umd.js","../../node_modules/@uppy/utils/lib/dataURItoBlob.js","../../node_modules/@uppy/utils/lib/isObjectURL.js","../../node_modules/@uppy/utils/lib/isPreviewSupported.js","../../node_modules/@uppy/thumbnail-generator/lib/locale.js","../../node_modules/@uppy/thumbnail-generator/lib/index.js","../../node_modules/@uppy/utils/lib/findAllDOMElements.js","../../node_modules/@uppy/utils/lib/getDroppedFiles/utils/webkitGetAsEntryApi/getFilesAndDirectoriesFromDirectory.js","../../node_modules/@uppy/utils/lib/getDroppedFiles/utils/webkitGetAsEntryApi/index.js","../../node_modules/@uppy/utils/lib/getDroppedFiles/utils/fallbackApi.js","../../node_modules/@uppy/utils/lib/getDroppedFiles/index.js","../../node_modules/memoize-one/dist/memoize-one.esm.js","../../node_modules/lodash.debounce/index.js","../../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","../../node_modules/@uppy/utils/lib/isDragDropSupported.js","../../node_modules/is-shallow-equal/index.js","../../node_modules/@uppy/dashboard/lib/utils/getFileTypeIcon.js","../../node_modules/@uppy/dashboard/lib/components/FilePreview.js","../../node_modules/@uppy/dashboard/lib/components/FileItem/MetaErrorMessage.js","../../node_modules/@uppy/dashboard/lib/components/FileItem/FilePreviewAndLink/index.js","../../node_modules/@uppy/dashboard/lib/components/FileItem/FileProgress/index.js","../../node_modules/@uppy/utils/lib/truncateString.js","../../node_modules/@uppy/dashboard/lib/components/FileItem/FileInfo/index.js","../../node_modules/@uppy/dashboard/lib/utils/copyToClipboard.js","../../node_modules/@uppy/dashboard/lib/components/FileItem/Buttons/index.js","../../node_modules/@uppy/dashboard/lib/components/FileItem/index.js","../../node_modules/@uppy/dashboard/lib/components/VirtualList.js","../../node_modules/@uppy/dashboard/lib/components/FileList.js","../../node_modules/@uppy/dashboard/lib/components/AddFiles.js","../../node_modules/@uppy/dashboard/lib/components/AddFilesPanel.js","../../node_modules/@uppy/dashboard/lib/utils/ignoreEvent.js","../../node_modules/@uppy/dashboard/lib/components/PickerPanelContent.js","../../node_modules/@uppy/dashboard/lib/components/EditorPanel.js","../../node_modules/@uppy/dashboard/lib/components/PickerPanelTopBar.js","../../node_modules/@uppy/dashboard/lib/components/FileCard/index.js","../../node_modules/@uppy/dashboard/lib/components/Slide.js","../../node_modules/@uppy/dashboard/lib/components/Dashboard.js","../../node_modules/@uppy/dashboard/lib/locale.js","../../node_modules/@uppy/dashboard/lib/Dashboard.js","../../node_modules/@uppy/dashboard/lib/index.js","../../node_modules/shallow-equal/dist/index.esm.js","../../node_modules/@uppy/vue/lib/utils.js","../../node_modules/@uppy/vue/lib/dashboard.js","../../node_modules/@uppy/drag-drop/lib/locale.js","../../node_modules/@uppy/drag-drop/lib/DragDrop.js","../../node_modules/@uppy/drag-drop/lib/index.js","../../node_modules/@uppy/progress-bar/lib/ProgressBar.js","../../node_modules/@uppy/progress-bar/lib/index.js","../../src/components/custom/uppy/UppyDashboard.vue","../../src/views/plugins/UppyPage.vue"],"sourcesContent":["\"use strict\";\n\n/**\n * Adds zero to strings shorter than two characters.\n *\n * @param {number} number\n * @returns {string}\n */\nfunction pad(number) {\n  return number < 10 ? `0${number}` : number.toString();\n}\n/**\n * Returns a timestamp in the format of `hours:minutes:seconds`\n */\n\n\nfunction getTimeStamp() {\n  const date = new Date();\n  const hours = pad(date.getHours());\n  const minutes = pad(date.getMinutes());\n  const seconds = pad(date.getSeconds());\n  return `${hours}:${minutes}:${seconds}`;\n}\n\nmodule.exports = getTimeStamp;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.justErrorsLogger = exports.debugLogger = void 0;\n\n/* eslint-disable no-console */\nconst getTimeStamp = require(\"@uppy/utils/lib/getTimeStamp\"); // Swallow all logs, except errors.\n// default if logger is not set or debug: false\n\n\nconst justErrorsLogger = {\n  debug: () => {},\n  warn: () => {},\n  error: function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return console.error(`[Uppy] [${getTimeStamp()}]`, ...args);\n  }\n}; // Print logs to console with namespace + timestamp,\n// set by logger: Uppy.debugLogger or debug: true\n\nexports.justErrorsLogger = justErrorsLogger;\nconst debugLogger = {\n  debug: function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return console.debug(`[Uppy] [${getTimeStamp()}]`, ...args);\n  },\n  warn: function () {\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    return console.warn(`[Uppy] [${getTimeStamp()}]`, ...args);\n  },\n  error: function () {\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n\n    return console.error(`[Uppy] [${getTimeStamp()}]`, ...args);\n  }\n};\nexports.debugLogger = debugLogger;","let urlAlphabet =\n  'useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict'\nlet customAlphabet = (alphabet, defaultSize = 21) => {\n  return (size = defaultSize) => {\n    let id = ''\n    let i = size | 0\n    while (i--) {\n      id += alphabet[(Math.random() * alphabet.length) | 0]\n    }\n    return id\n  }\n}\nlet nanoid = (size = 21) => {\n  let id = ''\n  let i = size | 0\n  while (i--) {\n    id += urlAlphabet[(Math.random() * 64) | 0]\n  }\n  return id\n}\nexport { nanoid, customAlphabet }\n","// Adapted from https://github.com/Flet/prettier-bytes/\n// Changing 1000 bytes to 1024, so we can keep uppercase KB vs kB\n// ISC License (c) Dan Flettre https://github.com/Flet/prettier-bytes/blob/master/LICENSE\nmodule.exports = function prettierBytes (num) {\n  if (typeof num !== 'number' || isNaN(num)) {\n    throw new TypeError('Expected a number, got ' + typeof num)\n  }\n\n  var neg = num < 0\n  var units = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']\n\n  if (neg) {\n    num = -num\n  }\n\n  if (num < 1) {\n    return (neg ? '-' : '') + num + ' B'\n  }\n\n  var exponent = Math.min(Math.floor(Math.log(num) / Math.log(1024)), units.length - 1)\n  num = Number(num / Math.pow(1024, exponent))\n  var unit = units[exponent]\n\n  if (num >= 10 || num % 1 === 0) {\n    // Do not show decimals when the number is two-digit, or if the number has no\n    // decimal component.\n    return (neg ? '-' : '') + num.toFixed(0) + ' ' + unit\n  } else {\n    return (neg ? '-' : '') + num.toFixed(1) + ' ' + unit\n  }\n}\n","/* jshint node: true */\n'use strict';\n\n/**\n  # wildcard\n\n  Very simple wildcard matching, which is designed to provide the same\n  functionality that is found in the\n  [eve](https://github.com/adobe-webplatform/eve) eventing library.\n\n  ## Usage\n\n  It works with strings:\n\n  <<< examples/strings.js\n\n  Arrays:\n\n  <<< examples/arrays.js\n\n  Objects (matching against keys):\n\n  <<< examples/objects.js\n\n  While the library works in Node, if you are are looking for file-based\n  wildcard matching then you should have a look at:\n\n  <https://github.com/isaacs/node-glob>\n**/\n\nfunction WildcardMatcher(text, separator) {\n  this.text = text = text || '';\n  this.hasWild = ~text.indexOf('*');\n  this.separator = separator;\n  this.parts = text.split(separator);\n}\n\nWildcardMatcher.prototype.match = function(input) {\n  var matches = true;\n  var parts = this.parts;\n  var ii;\n  var partsCount = parts.length;\n  var testParts;\n\n  if (typeof input == 'string' || input instanceof String) {\n    if (!this.hasWild && this.text != input) {\n      matches = false;\n    } else {\n      testParts = (input || '').split(this.separator);\n      for (ii = 0; matches && ii < partsCount; ii++) {\n        if (parts[ii] === '*')  {\n          continue;\n        } else if (ii < testParts.length) {\n          matches = parts[ii] === testParts[ii];\n        } else {\n          matches = false;\n        }\n      }\n\n      // If matches, then return the component parts\n      matches = matches && testParts;\n    }\n  }\n  else if (typeof input.splice == 'function') {\n    matches = [];\n\n    for (ii = input.length; ii--; ) {\n      if (this.match(input[ii])) {\n        matches[matches.length] = input[ii];\n      }\n    }\n  }\n  else if (typeof input == 'object') {\n    matches = {};\n\n    for (var key in input) {\n      if (this.match(key)) {\n        matches[key] = input[key];\n      }\n    }\n  }\n\n  return matches;\n};\n\nmodule.exports = function(text, test, separator) {\n  var matcher = new WildcardMatcher(text, separator || /[\\/\\.]/);\n  if (typeof test != 'undefined') {\n    return matcher.match(test);\n  }\n\n  return matcher;\n};\n","var wildcard = require('wildcard');\nvar reMimePartSplit = /[\\/\\+\\.]/;\n\n/**\n  # mime-match\n\n  A simple function to checker whether a target mime type matches a mime-type\n  pattern (e.g. image/jpeg matches image/jpeg OR image/*).\n\n  ## Example Usage\n\n  <<< example.js\n\n**/\nmodule.exports = function(target, pattern) {\n  function test(pattern) {\n    var result = wildcard(pattern, target, reMimePartSplit);\n\n    // ensure that we have a valid mime type (should have two parts)\n    return result && result.length >= 2;\n  }\n\n  return pattern ? test(pattern.split(';')[0]) : test;\n};\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.defaultOptions = exports.RestrictionError = exports.Restricter = void 0;\n\n/* eslint-disable max-classes-per-file, class-methods-use-this */\n\n/* global AggregateError */\nconst prettierBytes = require(\"@transloadit/prettier-bytes\");\n\nconst match = require(\"mime-match\");\n\nconst defaultOptions = {\n  maxFileSize: null,\n  minFileSize: null,\n  maxTotalFileSize: null,\n  maxNumberOfFiles: null,\n  minNumberOfFiles: null,\n  allowedFileTypes: null,\n  requiredMetaFields: []\n};\nexports.defaultOptions = defaultOptions;\n\nclass RestrictionError extends Error {\n  constructor() {\n    super(...arguments);\n    this.isRestriction = true;\n  }\n\n}\n\nexports.RestrictionError = RestrictionError;\n\nif (typeof AggregateError === 'undefined') {\n  // eslint-disable-next-line no-global-assign\n  // TODO: remove this \"polyfill\" in the next major.\n  globalThis.AggregateError = class AggregateError extends Error {\n    constructor(errors, message) {\n      super(message);\n      this.errors = errors;\n    }\n\n  };\n}\n\nclass Restricter {\n  constructor(getOpts, i18n) {\n    this.i18n = i18n;\n\n    this.getOpts = () => {\n      const opts = getOpts();\n\n      if (opts.restrictions.allowedFileTypes != null && !Array.isArray(opts.restrictions.allowedFileTypes)) {\n        throw new TypeError('`restrictions.allowedFileTypes` must be an array');\n      }\n\n      return opts;\n    };\n  }\n\n  validate(file, files) {\n    const {\n      maxFileSize,\n      minFileSize,\n      maxTotalFileSize,\n      maxNumberOfFiles,\n      allowedFileTypes\n    } = this.getOpts().restrictions;\n\n    if (maxNumberOfFiles) {\n      const nonGhostFiles = files.filter(f => !f.isGhost);\n\n      if (nonGhostFiles.length + 1 > maxNumberOfFiles) {\n        throw new RestrictionError(`${this.i18n('youCanOnlyUploadX', {\n          smart_count: maxNumberOfFiles\n        })}`);\n      }\n    }\n\n    if (allowedFileTypes) {\n      const isCorrectFileType = allowedFileTypes.some(type => {\n        // check if this is a mime-type\n        if (type.includes('/')) {\n          if (!file.type) return false;\n          return match(file.type.replace(/;.*?$/, ''), type);\n        } // otherwise this is likely an extension\n\n\n        if (type[0] === '.' && file.extension) {\n          return file.extension.toLowerCase() === type.slice(1).toLowerCase();\n        }\n\n        return false;\n      });\n\n      if (!isCorrectFileType) {\n        const allowedFileTypesString = allowedFileTypes.join(', ');\n        throw new RestrictionError(this.i18n('youCanOnlyUploadFileTypes', {\n          types: allowedFileTypesString\n        }));\n      }\n    } // We can't check maxTotalFileSize if the size is unknown.\n\n\n    if (maxTotalFileSize && file.size != null) {\n      const totalFilesSize = files.reduce((total, f) => total + f.size, file.size);\n\n      if (totalFilesSize > maxTotalFileSize) {\n        throw new RestrictionError(this.i18n('exceedsSize', {\n          size: prettierBytes(maxTotalFileSize),\n          file: file.name\n        }));\n      }\n    } // We can't check maxFileSize if the size is unknown.\n\n\n    if (maxFileSize && file.size != null && file.size > maxFileSize) {\n      throw new RestrictionError(this.i18n('exceedsSize', {\n        size: prettierBytes(maxFileSize),\n        file: file.name\n      }));\n    } // We can't check minFileSize if the size is unknown.\n\n\n    if (minFileSize && file.size != null && file.size < minFileSize) {\n      throw new RestrictionError(this.i18n('inferiorSize', {\n        size: prettierBytes(minFileSize)\n      }));\n    }\n  }\n\n  validateMinNumberOfFiles(files) {\n    const {\n      minNumberOfFiles\n    } = this.getOpts().restrictions;\n\n    if (Object.keys(files).length < minNumberOfFiles) {\n      throw new RestrictionError(this.i18n('youHaveToAtLeastSelectX', {\n        smart_count: minNumberOfFiles\n      }));\n    }\n  }\n\n  getMissingRequiredMetaFields(file) {\n    const error = new RestrictionError(this.i18n('missingRequiredMetaFieldOnFile', {\n      fileName: file.name\n    }));\n    const {\n      requiredMetaFields\n    } = this.getOpts().restrictions; // TODO: migrate to Object.hasOwn in the next major.\n\n    const own = Object.prototype.hasOwnProperty;\n    const missingFields = [];\n\n    for (const field of requiredMetaFields) {\n      if (!own.call(file.meta, field) || file.meta[field] === '') {\n        missingFields.push(field);\n      }\n    }\n\n    return {\n      missingFields,\n      error\n    };\n  }\n\n}\n\nexports.Restricter = Restricter;","\"use strict\";\n\nfunction has(object, key) {\n  return Object.prototype.hasOwnProperty.call(object, key);\n}\n\nmodule.exports = has;","\"use strict\";\n\nfunction _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError(\"attempted to use private field on non-instance\"); } return receiver; }\n\nvar id = 0;\n\nfunction _classPrivateFieldLooseKey(name) { return \"__private_\" + id++ + \"_\" + name; }\n\nconst has = require(\"./hasProperty.js\");\n\nfunction insertReplacement(source, rx, replacement) {\n  const newParts = [];\n  source.forEach(chunk => {\n    // When the source contains multiple placeholders for interpolation,\n    // we should ignore chunks that are not strings, because those\n    // can be JSX objects and will be otherwise incorrectly turned into strings.\n    // Without this condition we’d get this: [object Object] hello [object Object] my <button>\n    if (typeof chunk !== 'string') {\n      return newParts.push(chunk);\n    }\n\n    return rx[Symbol.split](chunk).forEach((raw, i, list) => {\n      if (raw !== '') {\n        newParts.push(raw);\n      } // Interlace with the `replacement` value\n\n\n      if (i < list.length - 1) {\n        newParts.push(replacement);\n      }\n    });\n  });\n  return newParts;\n}\n/**\n * Takes a string with placeholder variables like `%{smart_count} file selected`\n * and replaces it with values from options `{smart_count: 5}`\n *\n * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE\n * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299\n *\n * @param {string} phrase that needs interpolation, with placeholders\n * @param {object} options with values that will be used to replace placeholders\n * @returns {any[]} interpolated\n */\n\n\nfunction interpolate(phrase, options) {\n  const dollarRegex = /\\$/g;\n  const dollarBillsYall = '$$$$';\n  let interpolated = [phrase];\n  if (options == null) return interpolated;\n\n  for (const arg of Object.keys(options)) {\n    if (arg !== '_') {\n      // Ensure replacement value is escaped to prevent special $-prefixed\n      // regex replace tokens. the \"$$$$\" is needed because each \"$\" needs to\n      // be escaped with \"$\" itself, and we need two in the resulting output.\n      let replacement = options[arg];\n\n      if (typeof replacement === 'string') {\n        replacement = dollarRegex[Symbol.replace](replacement, dollarBillsYall);\n      } // We create a new `RegExp` each time instead of using a more-efficient\n      // string replace so that the same argument can be replaced multiple times\n      // in the same phrase.\n\n\n      interpolated = insertReplacement(interpolated, new RegExp(`%\\\\{${arg}\\\\}`, 'g'), replacement);\n    }\n  }\n\n  return interpolated;\n}\n/**\n * Translates strings with interpolation & pluralization support.\n * Extensible with custom dictionaries and pluralization functions.\n *\n * Borrows heavily from and inspired by Polyglot https://github.com/airbnb/polyglot.js,\n * basically a stripped-down version of it. Differences: pluralization functions are not hardcoded\n * and can be easily added among with dictionaries, nested objects are used for pluralization\n * as opposed to `||||` delimeter\n *\n * Usage example: `translator.translate('files_chosen', {smart_count: 3})`\n */\n\n\nvar _apply = /*#__PURE__*/_classPrivateFieldLooseKey(\"apply\");\n\nclass Translator {\n  /**\n   * @param {object|Array<object>} locales - locale or list of locales.\n   */\n  constructor(locales) {\n    Object.defineProperty(this, _apply, {\n      value: _apply2\n    });\n    this.locale = {\n      strings: {},\n\n      pluralize(n) {\n        if (n === 1) {\n          return 0;\n        }\n\n        return 1;\n      }\n\n    };\n\n    if (Array.isArray(locales)) {\n      locales.forEach(_classPrivateFieldLooseBase(this, _apply)[_apply], this);\n    } else {\n      _classPrivateFieldLooseBase(this, _apply)[_apply](locales);\n    }\n  }\n\n  /**\n   * Public translate method\n   *\n   * @param {string} key\n   * @param {object} options with values that will be used later to replace placeholders in string\n   * @returns {string} translated (and interpolated)\n   */\n  translate(key, options) {\n    return this.translateArray(key, options).join('');\n  }\n  /**\n   * Get a translation and return the translated and interpolated parts as an array.\n   *\n   * @param {string} key\n   * @param {object} options with values that will be used to replace placeholders\n   * @returns {Array} The translated and interpolated parts, in order.\n   */\n\n\n  translateArray(key, options) {\n    if (!has(this.locale.strings, key)) {\n      throw new Error(`missing string: ${key}`);\n    }\n\n    const string = this.locale.strings[key];\n    const hasPluralForms = typeof string === 'object';\n\n    if (hasPluralForms) {\n      if (options && typeof options.smart_count !== 'undefined') {\n        const plural = this.locale.pluralize(options.smart_count);\n        return interpolate(string[plural], options);\n      }\n\n      throw new Error('Attempted to use a string with plural forms, but no value was given for %{smart_count}');\n    }\n\n    return interpolate(string, options);\n  }\n\n}\n\nfunction _apply2(locale) {\n  if (!(locale != null && locale.strings)) {\n    return;\n  }\n\n  const prevLocale = this.locale;\n  this.locale = { ...prevLocale,\n    strings: { ...prevLocale.strings,\n      ...locale.strings\n    }\n  };\n  this.locale.pluralize = locale.pluralize || prevLocale.pluralize;\n}\n\nmodule.exports = Translator;","/**\n* Create an event emitter with namespaces\n* @name createNamespaceEmitter\n* @example\n* var emitter = require('./index')()\n*\n* emitter.on('*', function () {\n*   console.log('all events emitted', this.event)\n* })\n*\n* emitter.on('example', function () {\n*   console.log('example event emitted')\n* })\n*/\nmodule.exports = function createNamespaceEmitter () {\n  var emitter = {}\n  var _fns = emitter._fns = {}\n\n  /**\n  * Emit an event. Optionally namespace the event. Handlers are fired in the order in which they were added with exact matches taking precedence. Separate the namespace and event with a `:`\n  * @name emit\n  * @param {String} event – the name of the event, with optional namespace\n  * @param {...*} data – up to 6 arguments that are passed to the event listener\n  * @example\n  * emitter.emit('example')\n  * emitter.emit('demo:test')\n  * emitter.emit('data', { example: true}, 'a string', 1)\n  */\n  emitter.emit = function emit (event, arg1, arg2, arg3, arg4, arg5, arg6) {\n    var toEmit = getListeners(event)\n\n    if (toEmit.length) {\n      emitAll(event, toEmit, [arg1, arg2, arg3, arg4, arg5, arg6])\n    }\n  }\n\n  /**\n  * Create en event listener.\n  * @name on\n  * @param {String} event\n  * @param {Function} fn\n  * @example\n  * emitter.on('example', function () {})\n  * emitter.on('demo', function () {})\n  */\n  emitter.on = function on (event, fn) {\n    if (!_fns[event]) {\n      _fns[event] = []\n    }\n\n    _fns[event].push(fn)\n  }\n\n  /**\n  * Create en event listener that fires once.\n  * @name once\n  * @param {String} event\n  * @param {Function} fn\n  * @example\n  * emitter.once('example', function () {})\n  * emitter.once('demo', function () {})\n  */\n  emitter.once = function once (event, fn) {\n    function one () {\n      fn.apply(this, arguments)\n      emitter.off(event, one)\n    }\n    this.on(event, one)\n  }\n\n  /**\n  * Stop listening to an event. Stop all listeners on an event by only passing the event name. Stop a single listener by passing that event handler as a callback.\n  * You must be explicit about what will be unsubscribed: `emitter.off('demo')` will unsubscribe an `emitter.on('demo')` listener,\n  * `emitter.off('demo:example')` will unsubscribe an `emitter.on('demo:example')` listener\n  * @name off\n  * @param {String} event\n  * @param {Function} [fn] – the specific handler\n  * @example\n  * emitter.off('example')\n  * emitter.off('demo', function () {})\n  */\n  emitter.off = function off (event, fn) {\n    var keep = []\n\n    if (event && fn) {\n      var fns = this._fns[event]\n      var i = 0\n      var l = fns ? fns.length : 0\n\n      for (i; i < l; i++) {\n        if (fns[i] !== fn) {\n          keep.push(fns[i])\n        }\n      }\n    }\n\n    keep.length ? this._fns[event] = keep : delete this._fns[event]\n  }\n\n  function getListeners (e) {\n    var out = _fns[e] ? _fns[e] : []\n    var idx = e.indexOf(':')\n    var args = (idx === -1) ? [e] : [e.substring(0, idx), e.substring(idx + 1)]\n\n    var keys = Object.keys(_fns)\n    var i = 0\n    var l = keys.length\n\n    for (i; i < l; i++) {\n      var key = keys[i]\n      if (key === '*') {\n        out = out.concat(_fns[key])\n      }\n\n      if (args.length === 2 && args[0] === key) {\n        out = out.concat(_fns[key])\n        break\n      }\n    }\n\n    return out\n  }\n\n  function emitAll (e, fns, args) {\n    var i = 0\n    var l = fns.length\n\n    for (i; i < l; i++) {\n      if (!fns[i]) break\n      fns[i].event = e\n      fns[i].apply(fns[i], args)\n    }\n  }\n\n  return emitter\n}\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = throttle;\n","\"use strict\";\n\nfunction _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError(\"attempted to use private field on non-instance\"); } return receiver; }\n\nvar id = 0;\n\nfunction _classPrivateFieldLooseKey(name) { return \"__private_\" + id++ + \"_\" + name; }\n\nconst packageJson = {\n  \"version\": \"2.1.1\"\n};\n/**\n * Default store that keeps state in a simple object.\n */\n\nvar _publish = /*#__PURE__*/_classPrivateFieldLooseKey(\"publish\");\n\nclass DefaultStore {\n  constructor() {\n    Object.defineProperty(this, _publish, {\n      value: _publish2\n    });\n    this.state = {};\n    this.callbacks = []; // TODO: use a Set instead, make it a private prop\n  }\n\n  getState() {\n    return this.state;\n  }\n\n  setState(patch) {\n    const prevState = { ...this.state\n    };\n    const nextState = { ...this.state,\n      ...patch\n    };\n    this.state = nextState;\n\n    _classPrivateFieldLooseBase(this, _publish)[_publish](prevState, nextState, patch);\n  }\n\n  subscribe(listener) {\n    this.callbacks.push(listener);\n    return () => {\n      // Remove the listener.\n      this.callbacks.splice(this.callbacks.indexOf(listener), 1);\n    };\n  }\n\n} // TODO: export the class instead in the next major.\n\n\nfunction _publish2() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  this.callbacks.forEach(listener => {\n    listener(...args);\n  });\n}\n\nDefaultStore.VERSION = packageJson.version;\n\nfunction defaultStore() {\n  return new DefaultStore();\n}\n\nmodule.exports = defaultStore;","\"use strict\";\n\nfunction getFileNameAndExtension(fullFileName) {\n  const lastDot = fullFileName.lastIndexOf('.'); // these count as no extension: \"no-dot\", \"trailing-dot.\"\n\n  if (lastDot === -1 || lastDot === fullFileName.length - 1) {\n    return {\n      name: fullFileName,\n      extension: undefined\n    };\n  }\n\n  return {\n    name: fullFileName.slice(0, lastDot),\n    extension: fullFileName.slice(lastDot + 1)\n  };\n}\n\n/**\n * Takes a full filename string and returns an object {name, extension}\n *\n * @param {string} fullFileName\n * @returns {object} {name, extension}\n */\nmodule.exports = getFileNameAndExtension;","\"use strict\";\n\n// ___Why not add the mime-types package?\n//    It's 19.7kB gzipped, and we only need mime types for well-known extensions (for file previews).\n// ___Where to take new extensions from?\n//    https://github.com/jshttp/mime-db/blob/master/db.json\nmodule.exports = {\n  md: 'text/markdown',\n  markdown: 'text/markdown',\n  mp4: 'video/mp4',\n  mp3: 'audio/mp3',\n  svg: 'image/svg+xml',\n  jpg: 'image/jpeg',\n  png: 'image/png',\n  gif: 'image/gif',\n  heic: 'image/heic',\n  heif: 'image/heif',\n  yaml: 'text/yaml',\n  yml: 'text/yaml',\n  csv: 'text/csv',\n  tsv: 'text/tab-separated-values',\n  tab: 'text/tab-separated-values',\n  avi: 'video/x-msvideo',\n  mks: 'video/x-matroska',\n  mkv: 'video/x-matroska',\n  mov: 'video/quicktime',\n  dicom: 'application/dicom',\n  doc: 'application/msword',\n  docm: 'application/vnd.ms-word.document.macroenabled.12',\n  docx: 'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n  dot: 'application/msword',\n  dotm: 'application/vnd.ms-word.template.macroenabled.12',\n  dotx: 'application/vnd.openxmlformats-officedocument.wordprocessingml.template',\n  xla: 'application/vnd.ms-excel',\n  xlam: 'application/vnd.ms-excel.addin.macroenabled.12',\n  xlc: 'application/vnd.ms-excel',\n  xlf: 'application/x-xliff+xml',\n  xlm: 'application/vnd.ms-excel',\n  xls: 'application/vnd.ms-excel',\n  xlsb: 'application/vnd.ms-excel.sheet.binary.macroenabled.12',\n  xlsm: 'application/vnd.ms-excel.sheet.macroenabled.12',\n  xlsx: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n  xlt: 'application/vnd.ms-excel',\n  xltm: 'application/vnd.ms-excel.template.macroenabled.12',\n  xltx: 'application/vnd.openxmlformats-officedocument.spreadsheetml.template',\n  xlw: 'application/vnd.ms-excel',\n  txt: 'text/plain',\n  text: 'text/plain',\n  conf: 'text/plain',\n  log: 'text/plain',\n  pdf: 'application/pdf',\n  zip: 'application/zip',\n  '7z': 'application/x-7z-compressed',\n  rar: 'application/x-rar-compressed',\n  tar: 'application/x-tar',\n  gz: 'application/gzip',\n  dmg: 'application/x-apple-diskimage'\n};","\"use strict\";\n\nconst getFileNameAndExtension = require(\"./getFileNameAndExtension.js\");\n\nconst mimeTypes = require(\"./mimeTypes.js\");\n\nfunction getFileType(file) {\n  var _getFileNameAndExtens;\n\n  if (file.type) return file.type;\n  const fileExtension = file.name ? (_getFileNameAndExtens = getFileNameAndExtension(file.name).extension) == null ? void 0 : _getFileNameAndExtens.toLowerCase() : null;\n\n  if (fileExtension && fileExtension in mimeTypes) {\n    // else, see if we can map extension to a mime type\n    return mimeTypes[fileExtension];\n  } // if all fails, fall back to a generic byte stream type\n\n\n  return 'application/octet-stream';\n}\n\nmodule.exports = getFileType;","\"use strict\";\n\nfunction encodeCharacter(character) {\n  return character.charCodeAt(0).toString(32);\n}\n\nfunction encodeFilename(name) {\n  let suffix = '';\n  return name.replace(/[^A-Z0-9]/ig, character => {\n    suffix += `-${encodeCharacter(character)}`;\n    return '/';\n  }) + suffix;\n}\n/**\n * Takes a file object and turns it into fileID, by converting file.name to lowercase,\n * removing extra characters and adding type, size and lastModified\n *\n * @param {object} file\n * @returns {string} the fileID\n */\n\n\nfunction generateFileID(file) {\n  // It's tempting to do `[items].filter(Boolean).join('-')` here, but that\n  // is slower! simple string concatenation is fast\n  let id = 'uppy';\n\n  if (typeof file.name === 'string') {\n    id += `-${encodeFilename(file.name.toLowerCase())}`;\n  }\n\n  if (file.type !== undefined) {\n    id += `-${file.type}`;\n  }\n\n  if (file.meta && typeof file.meta.relativePath === 'string') {\n    id += `-${encodeFilename(file.meta.relativePath.toLowerCase())}`;\n  }\n\n  if (file.data.size !== undefined) {\n    id += `-${file.data.size}`;\n  }\n\n  if (file.data.lastModified !== undefined) {\n    id += `-${file.data.lastModified}`;\n  }\n\n  return id;\n}\n\nmodule.exports = generateFileID;","\"use strict\";\n\nfunction supportsUploadProgress(userAgent) {\n  // Allow passing in userAgent for tests\n  if (userAgent == null && typeof navigator !== 'undefined') {\n    // eslint-disable-next-line no-param-reassign\n    userAgent = navigator.userAgent;\n  } // Assume it works because basically everything supports progress events.\n\n\n  if (!userAgent) return true;\n  const m = /Edge\\/(\\d+\\.\\d+)/.exec(userAgent);\n  if (!m) return true;\n  const edgeVersion = m[1];\n  let [major, minor] = edgeVersion.split('.');\n  major = parseInt(major, 10);\n  minor = parseInt(minor, 10); // Worked before:\n  // Edge 40.15063.0.0\n  // Microsoft EdgeHTML 15.15063\n\n  if (major < 15 || major === 15 && minor < 15063) {\n    return true;\n  } // Fixed in:\n  // Microsoft EdgeHTML 18.18218\n\n\n  if (major > 18 || major === 18 && minor >= 18218) {\n    return true;\n  } // other versions don't work.\n\n\n  return false;\n}\n\n// Edge 15.x does not fire 'progress' events on uploads.\n// See https://github.com/transloadit/uppy/issues/945\n// And https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/12224510/\nmodule.exports = supportsUploadProgress;","\"use strict\";\n\nfunction getFileName(fileType, fileDescriptor) {\n  if (fileDescriptor.name) {\n    return fileDescriptor.name;\n  }\n\n  if (fileType.split('/')[0] === 'image') {\n    return `${fileType.split('/')[0]}.${fileType.split('/')[1]}`;\n  }\n\n  return 'noname';\n}\n\nmodule.exports = getFileName;","\"use strict\";\n\nmodule.exports = {\n  strings: {\n    addBulkFilesFailed: {\n      0: 'Failed to add %{smart_count} file due to an internal error',\n      1: 'Failed to add %{smart_count} files due to internal errors'\n    },\n    youCanOnlyUploadX: {\n      0: 'You can only upload %{smart_count} file',\n      1: 'You can only upload %{smart_count} files'\n    },\n    youHaveToAtLeastSelectX: {\n      0: 'You have to select at least %{smart_count} file',\n      1: 'You have to select at least %{smart_count} files'\n    },\n    exceedsSize: '%{file} exceeds maximum allowed size of %{size}',\n    missingRequiredMetaField: 'Missing required meta fields',\n    missingRequiredMetaFieldOnFile: 'Missing required meta fields in %{fileName}',\n    inferiorSize: 'This file is smaller than the allowed size of %{size}',\n    youCanOnlyUploadFileTypes: 'You can only upload: %{types}',\n    noMoreFilesAllowed: 'Cannot add more files',\n    noDuplicates: \"Cannot add the duplicate file '%{fileName}', it already exists\",\n    companionError: 'Connection with Companion failed',\n    authAborted: 'Authentication aborted',\n    companionUnauthorizeHint: 'To unauthorize to your %{provider} account, please go to %{url}',\n    failedToUpload: 'Failed to upload %{file}',\n    noInternetConnection: 'No Internet connection',\n    connectedToInternet: 'Connected to the Internet',\n    // Strings for remote providers\n    noFilesFound: 'You have no files or folders here',\n    selectX: {\n      0: 'Select %{smart_count}',\n      1: 'Select %{smart_count}'\n    },\n    allFilesFromFolderNamed: 'All files from folder %{name}',\n    openFolderNamed: 'Open folder %{name}',\n    cancel: 'Cancel',\n    logOut: 'Log out',\n    filter: 'Filter',\n    resetFilter: 'Reset filter',\n    loading: 'Loading...',\n    authenticateWithTitle: 'Please authenticate with %{pluginName} to select files',\n    authenticateWith: 'Connect to %{pluginName}',\n    signInWithGoogle: 'Sign in with Google',\n    searchImages: 'Search for images',\n    enterTextToSearch: 'Enter text to search for images',\n    search: 'Search',\n    emptyFolderAdded: 'No files were added from empty folder',\n    folderAlreadyAdded: 'The folder \"%{folder}\" was already added',\n    folderAdded: {\n      0: 'Added %{smart_count} file from %{folder}',\n      1: 'Added %{smart_count} files from %{folder}'\n    }\n  }\n};","\"use strict\";\n\nvar _nonSecure = require(\"nanoid/non-secure\");\n\nvar _loggers = require(\"./loggers.js\");\n\nvar _Restricter = require(\"./Restricter.js\");\n\nlet _Symbol$for, _Symbol$for2;\n\nfunction _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError(\"attempted to use private field on non-instance\"); } return receiver; }\n\nvar id = 0;\n\nfunction _classPrivateFieldLooseKey(name) { return \"__private_\" + id++ + \"_\" + name; }\n\n/* eslint-disable max-classes-per-file */\n\n/* global AggregateError */\nconst Translator = require(\"@uppy/utils/lib/Translator\");\n\nconst ee = require(\"namespace-emitter\");\n\nconst throttle = require(\"lodash.throttle\");\n\nconst DefaultStore = require(\"@uppy/store-default\");\n\nconst getFileType = require(\"@uppy/utils/lib/getFileType\");\n\nconst getFileNameAndExtension = require(\"@uppy/utils/lib/getFileNameAndExtension\");\n\nconst generateFileID = require(\"@uppy/utils/lib/generateFileID\");\n\nconst supportsUploadProgress = require(\"./supportsUploadProgress.js\");\n\nconst getFileName = require(\"./getFileName.js\");\n\nconst packageJson = {\n  \"version\": \"2.3.4\"\n};\n\nconst locale = require(\"./locale.js\");\n/**\n * Uppy Core module.\n * Manages plugins, state updates, acts as an event bus,\n * adds/removes files and metadata.\n */\n\n\nvar _plugins = /*#__PURE__*/_classPrivateFieldLooseKey(\"plugins\");\n\nvar _restricter = /*#__PURE__*/_classPrivateFieldLooseKey(\"restricter\");\n\nvar _storeUnsubscribe = /*#__PURE__*/_classPrivateFieldLooseKey(\"storeUnsubscribe\");\n\nvar _emitter = /*#__PURE__*/_classPrivateFieldLooseKey(\"emitter\");\n\nvar _preProcessors = /*#__PURE__*/_classPrivateFieldLooseKey(\"preProcessors\");\n\nvar _uploaders = /*#__PURE__*/_classPrivateFieldLooseKey(\"uploaders\");\n\nvar _postProcessors = /*#__PURE__*/_classPrivateFieldLooseKey(\"postProcessors\");\n\nvar _informAndEmit = /*#__PURE__*/_classPrivateFieldLooseKey(\"informAndEmit\");\n\nvar _checkRequiredMetaFieldsOnFile = /*#__PURE__*/_classPrivateFieldLooseKey(\"checkRequiredMetaFieldsOnFile\");\n\nvar _checkRequiredMetaFields = /*#__PURE__*/_classPrivateFieldLooseKey(\"checkRequiredMetaFields\");\n\nvar _assertNewUploadAllowed = /*#__PURE__*/_classPrivateFieldLooseKey(\"assertNewUploadAllowed\");\n\nvar _checkAndCreateFileStateObject = /*#__PURE__*/_classPrivateFieldLooseKey(\"checkAndCreateFileStateObject\");\n\nvar _startIfAutoProceed = /*#__PURE__*/_classPrivateFieldLooseKey(\"startIfAutoProceed\");\n\nvar _addListeners = /*#__PURE__*/_classPrivateFieldLooseKey(\"addListeners\");\n\nvar _updateOnlineStatus = /*#__PURE__*/_classPrivateFieldLooseKey(\"updateOnlineStatus\");\n\nvar _createUpload = /*#__PURE__*/_classPrivateFieldLooseKey(\"createUpload\");\n\nvar _getUpload = /*#__PURE__*/_classPrivateFieldLooseKey(\"getUpload\");\n\nvar _removeUpload = /*#__PURE__*/_classPrivateFieldLooseKey(\"removeUpload\");\n\nvar _runUpload = /*#__PURE__*/_classPrivateFieldLooseKey(\"runUpload\");\n\n_Symbol$for = Symbol.for('uppy test: getPlugins');\n_Symbol$for2 = Symbol.for('uppy test: createUpload');\n\nclass Uppy {\n  /** @type {Record<string, BasePlugin[]>} */\n\n  /**\n   * Instantiate Uppy\n   *\n   * @param {object} opts — Uppy options\n   */\n  constructor(_opts) {\n    Object.defineProperty(this, _runUpload, {\n      value: _runUpload2\n    });\n    Object.defineProperty(this, _removeUpload, {\n      value: _removeUpload2\n    });\n    Object.defineProperty(this, _getUpload, {\n      value: _getUpload2\n    });\n    Object.defineProperty(this, _createUpload, {\n      value: _createUpload2\n    });\n    Object.defineProperty(this, _addListeners, {\n      value: _addListeners2\n    });\n    Object.defineProperty(this, _startIfAutoProceed, {\n      value: _startIfAutoProceed2\n    });\n    Object.defineProperty(this, _checkAndCreateFileStateObject, {\n      value: _checkAndCreateFileStateObject2\n    });\n    Object.defineProperty(this, _assertNewUploadAllowed, {\n      value: _assertNewUploadAllowed2\n    });\n    Object.defineProperty(this, _checkRequiredMetaFields, {\n      value: _checkRequiredMetaFields2\n    });\n    Object.defineProperty(this, _checkRequiredMetaFieldsOnFile, {\n      value: _checkRequiredMetaFieldsOnFile2\n    });\n    Object.defineProperty(this, _informAndEmit, {\n      value: _informAndEmit2\n    });\n    Object.defineProperty(this, _plugins, {\n      writable: true,\n      value: Object.create(null)\n    });\n    Object.defineProperty(this, _restricter, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _storeUnsubscribe, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _emitter, {\n      writable: true,\n      value: ee()\n    });\n    Object.defineProperty(this, _preProcessors, {\n      writable: true,\n      value: new Set()\n    });\n    Object.defineProperty(this, _uploaders, {\n      writable: true,\n      value: new Set()\n    });\n    Object.defineProperty(this, _postProcessors, {\n      writable: true,\n      value: new Set()\n    });\n    Object.defineProperty(this, _updateOnlineStatus, {\n      writable: true,\n      value: this.updateOnlineStatus.bind(this)\n    });\n    this.defaultLocale = locale;\n    const defaultOptions = {\n      id: 'uppy',\n      autoProceed: false,\n\n      /**\n       * @deprecated The method should not be used\n       */\n      allowMultipleUploads: true,\n      allowMultipleUploadBatches: true,\n      debug: false,\n      restrictions: _Restricter.defaultOptions,\n      meta: {},\n      onBeforeFileAdded: currentFile => currentFile,\n      onBeforeUpload: files => files,\n      store: DefaultStore(),\n      logger: _loggers.justErrorsLogger,\n      infoTimeout: 5000\n    }; // Merge default options with the ones set by user,\n    // making sure to merge restrictions too\n\n    this.opts = { ...defaultOptions,\n      ..._opts,\n      restrictions: { ...defaultOptions.restrictions,\n        ...(_opts && _opts.restrictions)\n      }\n    }; // Support debug: true for backwards-compatability, unless logger is set in opts\n    // opts instead of this.opts to avoid comparing objects — we set logger: justErrorsLogger in defaultOptions\n\n    if (_opts && _opts.logger && _opts.debug) {\n      this.log('You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.', 'warning');\n    } else if (_opts && _opts.debug) {\n      this.opts.logger = _loggers.debugLogger;\n    }\n\n    this.log(`Using Core v${this.constructor.VERSION}`);\n    this.i18nInit(); // ___Why throttle at 500ms?\n    //    - We must throttle at >250ms for superfocus in Dashboard to work well\n    //    (because animation takes 0.25s, and we want to wait for all animations to be over before refocusing).\n    //    [Practical Check]: if thottle is at 100ms, then if you are uploading a file,\n    //    and click 'ADD MORE FILES', - focus won't activate in Firefox.\n    //    - We must throttle at around >500ms to avoid performance lags.\n    //    [Practical Check] Firefox, try to upload a big file for a prolonged period of time. Laptop will start to heat up.\n\n    this.calculateProgress = throttle(this.calculateProgress.bind(this), 500, {\n      leading: true,\n      trailing: true\n    });\n    this.store = this.opts.store;\n    this.setState({\n      plugins: {},\n      files: {},\n      currentUploads: {},\n      allowNewUpload: true,\n      capabilities: {\n        uploadProgress: supportsUploadProgress(),\n        individualCancellation: true,\n        resumableUploads: false\n      },\n      totalProgress: 0,\n      meta: { ...this.opts.meta\n      },\n      info: [],\n      recoveredState: null\n    });\n    _classPrivateFieldLooseBase(this, _restricter)[_restricter] = new _Restricter.Restricter(() => this.opts, this.i18n);\n    _classPrivateFieldLooseBase(this, _storeUnsubscribe)[_storeUnsubscribe] = this.store.subscribe((prevState, nextState, patch) => {\n      this.emit('state-update', prevState, nextState, patch);\n      this.updateAll(nextState);\n    }); // Exposing uppy object on window for debugging and testing\n\n    if (this.opts.debug && typeof window !== 'undefined') {\n      window[this.opts.id] = this;\n    }\n\n    _classPrivateFieldLooseBase(this, _addListeners)[_addListeners]();\n  }\n\n  emit(event) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    _classPrivateFieldLooseBase(this, _emitter)[_emitter].emit(event, ...args);\n  }\n\n  on(event, callback) {\n    _classPrivateFieldLooseBase(this, _emitter)[_emitter].on(event, callback);\n\n    return this;\n  }\n\n  once(event, callback) {\n    _classPrivateFieldLooseBase(this, _emitter)[_emitter].once(event, callback);\n\n    return this;\n  }\n\n  off(event, callback) {\n    _classPrivateFieldLooseBase(this, _emitter)[_emitter].off(event, callback);\n\n    return this;\n  }\n  /**\n   * Iterate on all plugins and run `update` on them.\n   * Called each time state changes.\n   *\n   */\n\n\n  updateAll(state) {\n    this.iteratePlugins(plugin => {\n      plugin.update(state);\n    });\n  }\n  /**\n   * Updates state with a patch\n   *\n   * @param {object} patch {foo: 'bar'}\n   */\n\n\n  setState(patch) {\n    this.store.setState(patch);\n  }\n  /**\n   * Returns current state.\n   *\n   * @returns {object}\n   */\n\n\n  getState() {\n    return this.store.getState();\n  }\n  /**\n   * Back compat for when uppy.state is used instead of uppy.getState().\n   *\n   * @deprecated\n   */\n\n\n  get state() {\n    // Here, state is a non-enumerable property.\n    return this.getState();\n  }\n  /**\n   * Shorthand to set state for a specific file.\n   */\n\n\n  setFileState(fileID, state) {\n    if (!this.getState().files[fileID]) {\n      throw new Error(`Can’t set state for ${fileID} (the file could have been removed)`);\n    }\n\n    this.setState({\n      files: { ...this.getState().files,\n        [fileID]: { ...this.getState().files[fileID],\n          ...state\n        }\n      }\n    });\n  }\n\n  i18nInit() {\n    const translator = new Translator([this.defaultLocale, this.opts.locale]);\n    this.i18n = translator.translate.bind(translator);\n    this.i18nArray = translator.translateArray.bind(translator);\n    this.locale = translator.locale;\n  }\n\n  setOptions(newOpts) {\n    this.opts = { ...this.opts,\n      ...newOpts,\n      restrictions: { ...this.opts.restrictions,\n        ...(newOpts && newOpts.restrictions)\n      }\n    };\n\n    if (newOpts.meta) {\n      this.setMeta(newOpts.meta);\n    }\n\n    this.i18nInit();\n\n    if (newOpts.locale) {\n      this.iteratePlugins(plugin => {\n        plugin.setOptions();\n      });\n    } // Note: this is not the preact `setState`, it's an internal function that has the same name.\n\n\n    this.setState(); // so that UI re-renders with new options\n  }\n\n  resetProgress() {\n    const defaultProgress = {\n      percentage: 0,\n      bytesUploaded: 0,\n      uploadComplete: false,\n      uploadStarted: null\n    };\n    const files = { ...this.getState().files\n    };\n    const updatedFiles = {};\n    Object.keys(files).forEach(fileID => {\n      const updatedFile = { ...files[fileID]\n      };\n      updatedFile.progress = { ...updatedFile.progress,\n        ...defaultProgress\n      };\n      updatedFiles[fileID] = updatedFile;\n    });\n    this.setState({\n      files: updatedFiles,\n      totalProgress: 0\n    });\n    this.emit('reset-progress');\n  }\n\n  addPreProcessor(fn) {\n    _classPrivateFieldLooseBase(this, _preProcessors)[_preProcessors].add(fn);\n  }\n\n  removePreProcessor(fn) {\n    return _classPrivateFieldLooseBase(this, _preProcessors)[_preProcessors].delete(fn);\n  }\n\n  addPostProcessor(fn) {\n    _classPrivateFieldLooseBase(this, _postProcessors)[_postProcessors].add(fn);\n  }\n\n  removePostProcessor(fn) {\n    return _classPrivateFieldLooseBase(this, _postProcessors)[_postProcessors].delete(fn);\n  }\n\n  addUploader(fn) {\n    _classPrivateFieldLooseBase(this, _uploaders)[_uploaders].add(fn);\n  }\n\n  removeUploader(fn) {\n    return _classPrivateFieldLooseBase(this, _uploaders)[_uploaders].delete(fn);\n  }\n\n  setMeta(data) {\n    const updatedMeta = { ...this.getState().meta,\n      ...data\n    };\n    const updatedFiles = { ...this.getState().files\n    };\n    Object.keys(updatedFiles).forEach(fileID => {\n      updatedFiles[fileID] = { ...updatedFiles[fileID],\n        meta: { ...updatedFiles[fileID].meta,\n          ...data\n        }\n      };\n    });\n    this.log('Adding metadata:');\n    this.log(data);\n    this.setState({\n      meta: updatedMeta,\n      files: updatedFiles\n    });\n  }\n\n  setFileMeta(fileID, data) {\n    const updatedFiles = { ...this.getState().files\n    };\n\n    if (!updatedFiles[fileID]) {\n      this.log('Was trying to set metadata for a file that has been removed: ', fileID);\n      return;\n    }\n\n    const newMeta = { ...updatedFiles[fileID].meta,\n      ...data\n    };\n    updatedFiles[fileID] = { ...updatedFiles[fileID],\n      meta: newMeta\n    };\n    this.setState({\n      files: updatedFiles\n    });\n  }\n  /**\n   * Get a file object.\n   *\n   * @param {string} fileID The ID of the file object to return.\n   */\n\n\n  getFile(fileID) {\n    return this.getState().files[fileID];\n  }\n  /**\n   * Get all files in an array.\n   */\n\n\n  getFiles() {\n    const {\n      files\n    } = this.getState();\n    return Object.values(files);\n  }\n\n  getObjectOfFilesPerState() {\n    const {\n      files: filesObject,\n      totalProgress,\n      error\n    } = this.getState();\n    const files = Object.values(filesObject);\n    const inProgressFiles = files.filter(_ref => {\n      let {\n        progress\n      } = _ref;\n      return !progress.uploadComplete && progress.uploadStarted;\n    });\n    const newFiles = files.filter(file => !file.progress.uploadStarted);\n    const startedFiles = files.filter(file => file.progress.uploadStarted || file.progress.preprocess || file.progress.postprocess);\n    const uploadStartedFiles = files.filter(file => file.progress.uploadStarted);\n    const pausedFiles = files.filter(file => file.isPaused);\n    const completeFiles = files.filter(file => file.progress.uploadComplete);\n    const erroredFiles = files.filter(file => file.error);\n    const inProgressNotPausedFiles = inProgressFiles.filter(file => !file.isPaused);\n    const processingFiles = files.filter(file => file.progress.preprocess || file.progress.postprocess);\n    return {\n      newFiles,\n      startedFiles,\n      uploadStartedFiles,\n      pausedFiles,\n      completeFiles,\n      erroredFiles,\n      inProgressFiles,\n      inProgressNotPausedFiles,\n      processingFiles,\n      isUploadStarted: uploadStartedFiles.length > 0,\n      isAllComplete: totalProgress === 100 && completeFiles.length === files.length && processingFiles.length === 0,\n      isAllErrored: !!error && erroredFiles.length === files.length,\n      isAllPaused: inProgressFiles.length !== 0 && pausedFiles.length === inProgressFiles.length,\n      isUploadInProgress: inProgressFiles.length > 0,\n      isSomeGhost: files.some(file => file.isGhost)\n    };\n  }\n  /*\n  * @constructs\n  * @param { Error } error\n  * @param { undefined } file\n  */\n\n  /*\n  * @constructs\n  * @param { RestrictionError } error\n  * @param { UppyFile | undefined } file\n  */\n\n\n  validateRestrictions(file, files) {\n    if (files === void 0) {\n      files = this.getFiles();\n    }\n\n    // TODO: directly return the Restriction error in next major version.\n    // we create RestrictionError's just to discard immediately, which doesn't make sense.\n    try {\n      _classPrivateFieldLooseBase(this, _restricter)[_restricter].validate(file, files);\n\n      return {\n        result: true\n      };\n    } catch (err) {\n      return {\n        result: false,\n        reason: err.message\n      };\n    }\n  }\n\n  checkIfFileAlreadyExists(fileID) {\n    const {\n      files\n    } = this.getState();\n\n    if (files[fileID] && !files[fileID].isGhost) {\n      return true;\n    }\n\n    return false;\n  }\n  /**\n   * Create a file state object based on user-provided `addFile()` options.\n   *\n   * Note this is extremely side-effectful and should only be done when a file state object\n   * will be added to state immediately afterward!\n   *\n   * The `files` value is passed in because it may be updated by the caller without updating the store.\n   */\n\n\n  /**\n   * Add a new file to `state.files`. This will run `onBeforeFileAdded`,\n   * try to guess file type in a clever way, check file against restrictions,\n   * and start an upload if `autoProceed === true`.\n   *\n   * @param {object} file object to add\n   * @returns {string} id for the added file\n   */\n  addFile(file) {\n    _classPrivateFieldLooseBase(this, _assertNewUploadAllowed)[_assertNewUploadAllowed](file);\n\n    const {\n      files\n    } = this.getState();\n\n    let newFile = _classPrivateFieldLooseBase(this, _checkAndCreateFileStateObject)[_checkAndCreateFileStateObject](files, file); // Users are asked to re-select recovered files without data,\n    // and to keep the progress, meta and everthing else, we only replace said data\n\n\n    if (files[newFile.id] && files[newFile.id].isGhost) {\n      newFile = { ...files[newFile.id],\n        data: file.data,\n        isGhost: false\n      };\n      this.log(`Replaced the blob in the restored ghost file: ${newFile.name}, ${newFile.id}`);\n    }\n\n    this.setState({\n      files: { ...files,\n        [newFile.id]: newFile\n      }\n    });\n    this.emit('file-added', newFile);\n    this.emit('files-added', [newFile]);\n    this.log(`Added file: ${newFile.name}, ${newFile.id}, mime type: ${newFile.type}`);\n\n    _classPrivateFieldLooseBase(this, _startIfAutoProceed)[_startIfAutoProceed]();\n\n    return newFile.id;\n  }\n  /**\n   * Add multiple files to `state.files`. See the `addFile()` documentation.\n   *\n   * If an error occurs while adding a file, it is logged and the user is notified.\n   * This is good for UI plugins, but not for programmatic use.\n   * Programmatic users should usually still use `addFile()` on individual files.\n   */\n\n\n  addFiles(fileDescriptors) {\n    _classPrivateFieldLooseBase(this, _assertNewUploadAllowed)[_assertNewUploadAllowed](); // create a copy of the files object only once\n\n\n    const files = { ...this.getState().files\n    };\n    const newFiles = [];\n    const errors = [];\n\n    for (let i = 0; i < fileDescriptors.length; i++) {\n      try {\n        let newFile = _classPrivateFieldLooseBase(this, _checkAndCreateFileStateObject)[_checkAndCreateFileStateObject](files, fileDescriptors[i]); // Users are asked to re-select recovered files without data,\n        // and to keep the progress, meta and everthing else, we only replace said data\n\n\n        if (files[newFile.id] && files[newFile.id].isGhost) {\n          newFile = { ...files[newFile.id],\n            data: fileDescriptors[i].data,\n            isGhost: false\n          };\n          this.log(`Replaced blob in a ghost file: ${newFile.name}, ${newFile.id}`);\n        }\n\n        files[newFile.id] = newFile;\n        newFiles.push(newFile);\n      } catch (err) {\n        if (!err.isRestriction) {\n          errors.push(err);\n        }\n      }\n    }\n\n    this.setState({\n      files\n    });\n    newFiles.forEach(newFile => {\n      this.emit('file-added', newFile);\n    });\n    this.emit('files-added', newFiles);\n\n    if (newFiles.length > 5) {\n      this.log(`Added batch of ${newFiles.length} files`);\n    } else {\n      Object.keys(newFiles).forEach(fileID => {\n        this.log(`Added file: ${newFiles[fileID].name}\\n id: ${newFiles[fileID].id}\\n type: ${newFiles[fileID].type}`);\n      });\n    }\n\n    if (newFiles.length > 0) {\n      _classPrivateFieldLooseBase(this, _startIfAutoProceed)[_startIfAutoProceed]();\n    }\n\n    if (errors.length > 0) {\n      let message = 'Multiple errors occurred while adding files:\\n';\n      errors.forEach(subError => {\n        message += `\\n * ${subError.message}`;\n      });\n      this.info({\n        message: this.i18n('addBulkFilesFailed', {\n          smart_count: errors.length\n        }),\n        details: message\n      }, 'error', this.opts.infoTimeout);\n\n      if (typeof AggregateError === 'function') {\n        throw new AggregateError(errors, message);\n      } else {\n        const err = new Error(message);\n        err.errors = errors;\n        throw err;\n      }\n    }\n  }\n\n  removeFiles(fileIDs, reason) {\n    const {\n      files,\n      currentUploads\n    } = this.getState();\n    const updatedFiles = { ...files\n    };\n    const updatedUploads = { ...currentUploads\n    };\n    const removedFiles = Object.create(null);\n    fileIDs.forEach(fileID => {\n      if (files[fileID]) {\n        removedFiles[fileID] = files[fileID];\n        delete updatedFiles[fileID];\n      }\n    }); // Remove files from the `fileIDs` list in each upload.\n\n    function fileIsNotRemoved(uploadFileID) {\n      return removedFiles[uploadFileID] === undefined;\n    }\n\n    Object.keys(updatedUploads).forEach(uploadID => {\n      const newFileIDs = currentUploads[uploadID].fileIDs.filter(fileIsNotRemoved); // Remove the upload if no files are associated with it anymore.\n\n      if (newFileIDs.length === 0) {\n        delete updatedUploads[uploadID];\n        return;\n      }\n\n      const {\n        capabilities\n      } = this.getState();\n\n      if (newFileIDs.length !== currentUploads[uploadID].fileIDs.length && !capabilities.individualCancellation) {\n        throw new Error('individualCancellation is disabled');\n      }\n\n      updatedUploads[uploadID] = { ...currentUploads[uploadID],\n        fileIDs: newFileIDs\n      };\n    });\n    const stateUpdate = {\n      currentUploads: updatedUploads,\n      files: updatedFiles\n    }; // If all files were removed - allow new uploads,\n    // and clear recoveredState\n\n    if (Object.keys(updatedFiles).length === 0) {\n      stateUpdate.allowNewUpload = true;\n      stateUpdate.error = null;\n      stateUpdate.recoveredState = null;\n    }\n\n    this.setState(stateUpdate);\n    this.calculateTotalProgress();\n    const removedFileIDs = Object.keys(removedFiles);\n    removedFileIDs.forEach(fileID => {\n      this.emit('file-removed', removedFiles[fileID], reason);\n    });\n\n    if (removedFileIDs.length > 5) {\n      this.log(`Removed ${removedFileIDs.length} files`);\n    } else {\n      this.log(`Removed files: ${removedFileIDs.join(', ')}`);\n    }\n  }\n\n  removeFile(fileID, reason) {\n    if (reason === void 0) {\n      reason = null;\n    }\n\n    this.removeFiles([fileID], reason);\n  }\n\n  pauseResume(fileID) {\n    if (!this.getState().capabilities.resumableUploads || this.getFile(fileID).uploadComplete) {\n      return undefined;\n    }\n\n    const wasPaused = this.getFile(fileID).isPaused || false;\n    const isPaused = !wasPaused;\n    this.setFileState(fileID, {\n      isPaused\n    });\n    this.emit('upload-pause', fileID, isPaused);\n    return isPaused;\n  }\n\n  pauseAll() {\n    const updatedFiles = { ...this.getState().files\n    };\n    const inProgressUpdatedFiles = Object.keys(updatedFiles).filter(file => {\n      return !updatedFiles[file].progress.uploadComplete && updatedFiles[file].progress.uploadStarted;\n    });\n    inProgressUpdatedFiles.forEach(file => {\n      const updatedFile = { ...updatedFiles[file],\n        isPaused: true\n      };\n      updatedFiles[file] = updatedFile;\n    });\n    this.setState({\n      files: updatedFiles\n    });\n    this.emit('pause-all');\n  }\n\n  resumeAll() {\n    const updatedFiles = { ...this.getState().files\n    };\n    const inProgressUpdatedFiles = Object.keys(updatedFiles).filter(file => {\n      return !updatedFiles[file].progress.uploadComplete && updatedFiles[file].progress.uploadStarted;\n    });\n    inProgressUpdatedFiles.forEach(file => {\n      const updatedFile = { ...updatedFiles[file],\n        isPaused: false,\n        error: null\n      };\n      updatedFiles[file] = updatedFile;\n    });\n    this.setState({\n      files: updatedFiles\n    });\n    this.emit('resume-all');\n  }\n\n  retryAll() {\n    const updatedFiles = { ...this.getState().files\n    };\n    const filesToRetry = Object.keys(updatedFiles).filter(file => {\n      return updatedFiles[file].error;\n    });\n    filesToRetry.forEach(file => {\n      const updatedFile = { ...updatedFiles[file],\n        isPaused: false,\n        error: null\n      };\n      updatedFiles[file] = updatedFile;\n    });\n    this.setState({\n      files: updatedFiles,\n      error: null\n    });\n    this.emit('retry-all', filesToRetry);\n\n    if (filesToRetry.length === 0) {\n      return Promise.resolve({\n        successful: [],\n        failed: []\n      });\n    }\n\n    const uploadID = _classPrivateFieldLooseBase(this, _createUpload)[_createUpload](filesToRetry, {\n      forceAllowNewUpload: true // create new upload even if allowNewUpload: false\n\n    });\n\n    return _classPrivateFieldLooseBase(this, _runUpload)[_runUpload](uploadID);\n  }\n\n  cancelAll(_temp) {\n    let {\n      reason = 'user'\n    } = _temp === void 0 ? {} : _temp;\n    this.emit('cancel-all', {\n      reason\n    }); // Only remove existing uploads if user is canceling\n\n    if (reason === 'user') {\n      const {\n        files\n      } = this.getState();\n      const fileIDs = Object.keys(files);\n\n      if (fileIDs.length) {\n        this.removeFiles(fileIDs, 'cancel-all');\n      }\n\n      this.setState({\n        totalProgress: 0,\n        error: null,\n        recoveredState: null\n      });\n    }\n  }\n\n  retryUpload(fileID) {\n    this.setFileState(fileID, {\n      error: null,\n      isPaused: false\n    });\n    this.emit('upload-retry', fileID);\n\n    const uploadID = _classPrivateFieldLooseBase(this, _createUpload)[_createUpload]([fileID], {\n      forceAllowNewUpload: true // create new upload even if allowNewUpload: false\n\n    });\n\n    return _classPrivateFieldLooseBase(this, _runUpload)[_runUpload](uploadID);\n  } // todo remove in next major. what is the point of the reset method when we have cancelAll or vice versa?\n\n\n  reset() {\n    this.cancelAll(...arguments);\n  }\n\n  logout() {\n    this.iteratePlugins(plugin => {\n      if (plugin.provider && plugin.provider.logout) {\n        plugin.provider.logout();\n      }\n    });\n  }\n\n  calculateProgress(file, data) {\n    if (file == null || !this.getFile(file.id)) {\n      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n      return;\n    } // bytesTotal may be null or zero; in that case we can't divide by it\n\n\n    const canHavePercentage = Number.isFinite(data.bytesTotal) && data.bytesTotal > 0;\n    this.setFileState(file.id, {\n      progress: { ...this.getFile(file.id).progress,\n        bytesUploaded: data.bytesUploaded,\n        bytesTotal: data.bytesTotal,\n        percentage: canHavePercentage ? Math.round(data.bytesUploaded / data.bytesTotal * 100) : 0\n      }\n    });\n    this.calculateTotalProgress();\n  }\n\n  calculateTotalProgress() {\n    // calculate total progress, using the number of files currently uploading,\n    // multiplied by 100 and the summ of individual progress of each file\n    const files = this.getFiles();\n    const inProgress = files.filter(file => {\n      return file.progress.uploadStarted || file.progress.preprocess || file.progress.postprocess;\n    });\n\n    if (inProgress.length === 0) {\n      this.emit('progress', 0);\n      this.setState({\n        totalProgress: 0\n      });\n      return;\n    }\n\n    const sizedFiles = inProgress.filter(file => file.progress.bytesTotal != null);\n    const unsizedFiles = inProgress.filter(file => file.progress.bytesTotal == null);\n\n    if (sizedFiles.length === 0) {\n      const progressMax = inProgress.length * 100;\n      const currentProgress = unsizedFiles.reduce((acc, file) => {\n        return acc + file.progress.percentage;\n      }, 0);\n      const totalProgress = Math.round(currentProgress / progressMax * 100);\n      this.setState({\n        totalProgress\n      });\n      return;\n    }\n\n    let totalSize = sizedFiles.reduce((acc, file) => {\n      return acc + file.progress.bytesTotal;\n    }, 0);\n    const averageSize = totalSize / sizedFiles.length;\n    totalSize += averageSize * unsizedFiles.length;\n    let uploadedSize = 0;\n    sizedFiles.forEach(file => {\n      uploadedSize += file.progress.bytesUploaded;\n    });\n    unsizedFiles.forEach(file => {\n      uploadedSize += averageSize * (file.progress.percentage || 0) / 100;\n    });\n    let totalProgress = totalSize === 0 ? 0 : Math.round(uploadedSize / totalSize * 100); // hot fix, because:\n    // uploadedSize ended up larger than totalSize, resulting in 1325% total\n\n    if (totalProgress > 100) {\n      totalProgress = 100;\n    }\n\n    this.setState({\n      totalProgress\n    });\n    this.emit('progress', totalProgress);\n  }\n  /**\n   * Registers listeners for all global actions, like:\n   * `error`, `file-removed`, `upload-progress`\n   */\n\n\n  updateOnlineStatus() {\n    const online = typeof window.navigator.onLine !== 'undefined' ? window.navigator.onLine : true;\n\n    if (!online) {\n      this.emit('is-offline');\n      this.info(this.i18n('noInternetConnection'), 'error', 0);\n      this.wasOffline = true;\n    } else {\n      this.emit('is-online');\n\n      if (this.wasOffline) {\n        this.emit('back-online');\n        this.info(this.i18n('connectedToInternet'), 'success', 3000);\n        this.wasOffline = false;\n      }\n    }\n  }\n\n  getID() {\n    return this.opts.id;\n  }\n  /**\n   * Registers a plugin with Core.\n   *\n   * @param {object} Plugin object\n   * @param {object} [opts] object with options to be passed to Plugin\n   * @returns {object} self for chaining\n   */\n  // eslint-disable-next-line no-shadow\n\n\n  use(Plugin, opts) {\n    if (typeof Plugin !== 'function') {\n      const msg = `Expected a plugin class, but got ${Plugin === null ? 'null' : typeof Plugin}.` + ' Please verify that the plugin was imported and spelled correctly.';\n      throw new TypeError(msg);\n    } // Instantiate\n\n\n    const plugin = new Plugin(this, opts);\n    const pluginId = plugin.id;\n\n    if (!pluginId) {\n      throw new Error('Your plugin must have an id');\n    }\n\n    if (!plugin.type) {\n      throw new Error('Your plugin must have a type');\n    }\n\n    const existsPluginAlready = this.getPlugin(pluginId);\n\n    if (existsPluginAlready) {\n      const msg = `Already found a plugin named '${existsPluginAlready.id}'. ` + `Tried to use: '${pluginId}'.\\n` + 'Uppy plugins must have unique `id` options. See https://uppy.io/docs/plugins/#id.';\n      throw new Error(msg);\n    }\n\n    if (Plugin.VERSION) {\n      this.log(`Using ${pluginId} v${Plugin.VERSION}`);\n    }\n\n    if (plugin.type in _classPrivateFieldLooseBase(this, _plugins)[_plugins]) {\n      _classPrivateFieldLooseBase(this, _plugins)[_plugins][plugin.type].push(plugin);\n    } else {\n      _classPrivateFieldLooseBase(this, _plugins)[_plugins][plugin.type] = [plugin];\n    }\n\n    plugin.install();\n    return this;\n  }\n  /**\n   * Find one Plugin by name.\n   *\n   * @param {string} id plugin id\n   * @returns {BasePlugin|undefined}\n   */\n\n\n  getPlugin(id) {\n    for (const plugins of Object.values(_classPrivateFieldLooseBase(this, _plugins)[_plugins])) {\n      const foundPlugin = plugins.find(plugin => plugin.id === id);\n      if (foundPlugin != null) return foundPlugin;\n    }\n\n    return undefined;\n  }\n\n  [_Symbol$for](type) {\n    return _classPrivateFieldLooseBase(this, _plugins)[_plugins][type];\n  }\n  /**\n   * Iterate through all `use`d plugins.\n   *\n   * @param {Function} method that will be run on each plugin\n   */\n\n\n  iteratePlugins(method) {\n    Object.values(_classPrivateFieldLooseBase(this, _plugins)[_plugins]).flat(1).forEach(method);\n  }\n  /**\n   * Uninstall and remove a plugin.\n   *\n   * @param {object} instance The plugin instance to remove.\n   */\n\n\n  removePlugin(instance) {\n    this.log(`Removing plugin ${instance.id}`);\n    this.emit('plugin-remove', instance);\n\n    if (instance.uninstall) {\n      instance.uninstall();\n    }\n\n    const list = _classPrivateFieldLooseBase(this, _plugins)[_plugins][instance.type]; // list.indexOf failed here, because Vue3 converted the plugin instance\n    // to a Proxy object, which failed the strict comparison test:\n    // obj !== objProxy\n\n\n    const index = list.findIndex(item => item.id === instance.id);\n\n    if (index !== -1) {\n      list.splice(index, 1);\n    }\n\n    const state = this.getState();\n    const updatedState = {\n      plugins: { ...state.plugins,\n        [instance.id]: undefined\n      }\n    };\n    this.setState(updatedState);\n  }\n  /**\n   * Uninstall all plugins and close down this Uppy instance.\n   */\n\n\n  close(_temp2) {\n    let {\n      reason\n    } = _temp2 === void 0 ? {} : _temp2;\n    this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`);\n    this.cancelAll({\n      reason\n    });\n\n    _classPrivateFieldLooseBase(this, _storeUnsubscribe)[_storeUnsubscribe]();\n\n    this.iteratePlugins(plugin => {\n      this.removePlugin(plugin);\n    });\n\n    if (typeof window !== 'undefined' && window.removeEventListener) {\n      window.removeEventListener('online', _classPrivateFieldLooseBase(this, _updateOnlineStatus)[_updateOnlineStatus]);\n      window.removeEventListener('offline', _classPrivateFieldLooseBase(this, _updateOnlineStatus)[_updateOnlineStatus]);\n    }\n  }\n\n  hideInfo() {\n    const {\n      info\n    } = this.getState();\n    this.setState({\n      info: info.slice(1)\n    });\n    this.emit('info-hidden');\n  }\n  /**\n   * Set info message in `state.info`, so that UI plugins like `Informer`\n   * can display the message.\n   *\n   * @param {string | object} message Message to be displayed by the informer\n   * @param {string} [type]\n   * @param {number} [duration]\n   */\n\n\n  info(message, type, duration) {\n    if (type === void 0) {\n      type = 'info';\n    }\n\n    if (duration === void 0) {\n      duration = 3000;\n    }\n\n    const isComplexMessage = typeof message === 'object';\n    this.setState({\n      info: [...this.getState().info, {\n        type,\n        message: isComplexMessage ? message.message : message,\n        details: isComplexMessage ? message.details : null\n      }]\n    });\n    setTimeout(() => this.hideInfo(), duration);\n    this.emit('info-visible');\n  }\n  /**\n   * Passes messages to a function, provided in `opts.logger`.\n   * If `opts.logger: Uppy.debugLogger` or `opts.debug: true`, logs to the browser console.\n   *\n   * @param {string|object} message to log\n   * @param {string} [type] optional `error` or `warning`\n   */\n\n\n  log(message, type) {\n    const {\n      logger\n    } = this.opts;\n\n    switch (type) {\n      case 'error':\n        logger.error(message);\n        break;\n\n      case 'warning':\n        logger.warn(message);\n        break;\n\n      default:\n        logger.debug(message);\n        break;\n    }\n  }\n  /**\n   * Restore an upload by its ID.\n   */\n\n\n  restore(uploadID) {\n    this.log(`Core: attempting to restore upload \"${uploadID}\"`);\n\n    if (!this.getState().currentUploads[uploadID]) {\n      _classPrivateFieldLooseBase(this, _removeUpload)[_removeUpload](uploadID);\n\n      return Promise.reject(new Error('Nonexistent upload'));\n    }\n\n    return _classPrivateFieldLooseBase(this, _runUpload)[_runUpload](uploadID);\n  }\n  /**\n   * Create an upload for a bunch of files.\n   *\n   * @param {Array<string>} fileIDs File IDs to include in this upload.\n   * @returns {string} ID of this upload.\n   */\n\n\n  [_Symbol$for2]() {\n    return _classPrivateFieldLooseBase(this, _createUpload)[_createUpload](...arguments);\n  }\n\n  /**\n   * Add data to an upload's result object.\n   *\n   * @param {string} uploadID The ID of the upload.\n   * @param {object} data Data properties to add to the result object.\n   */\n  addResultData(uploadID, data) {\n    if (!_classPrivateFieldLooseBase(this, _getUpload)[_getUpload](uploadID)) {\n      this.log(`Not setting result for an upload that has been removed: ${uploadID}`);\n      return;\n    }\n\n    const {\n      currentUploads\n    } = this.getState();\n    const currentUpload = { ...currentUploads[uploadID],\n      result: { ...currentUploads[uploadID].result,\n        ...data\n      }\n    };\n    this.setState({\n      currentUploads: { ...currentUploads,\n        [uploadID]: currentUpload\n      }\n    });\n  }\n  /**\n   * Remove an upload, eg. if it has been canceled or completed.\n   *\n   * @param {string} uploadID The ID of the upload.\n   */\n\n\n  /**\n   * Start an upload for all the files that are not currently being uploaded.\n   *\n   * @returns {Promise}\n   */\n  upload() {\n    var _classPrivateFieldLoo;\n\n    if (!((_classPrivateFieldLoo = _classPrivateFieldLooseBase(this, _plugins)[_plugins].uploader) != null && _classPrivateFieldLoo.length)) {\n      this.log('No uploader type plugins are used', 'warning');\n    }\n\n    let {\n      files\n    } = this.getState();\n    const onBeforeUploadResult = this.opts.onBeforeUpload(files);\n\n    if (onBeforeUploadResult === false) {\n      return Promise.reject(new Error('Not starting the upload because onBeforeUpload returned false'));\n    }\n\n    if (onBeforeUploadResult && typeof onBeforeUploadResult === 'object') {\n      files = onBeforeUploadResult; // Updating files in state, because uploader plugins receive file IDs,\n      // and then fetch the actual file object from state\n\n      this.setState({\n        files\n      });\n    }\n\n    return Promise.resolve().then(() => _classPrivateFieldLooseBase(this, _restricter)[_restricter].validateMinNumberOfFiles(files)).catch(err => {\n      _classPrivateFieldLooseBase(this, _informAndEmit)[_informAndEmit](err);\n\n      throw err;\n    }).then(() => {\n      if (!_classPrivateFieldLooseBase(this, _checkRequiredMetaFields)[_checkRequiredMetaFields](files)) {\n        throw new _Restricter.RestrictionError(this.i18n('missingRequiredMetaField'));\n      }\n    }).catch(err => {\n      // Doing this in a separate catch because we already emited and logged\n      // all the errors in `checkRequiredMetaFields` so we only throw a generic\n      // missing fields error here.\n      throw err;\n    }).then(() => {\n      const {\n        currentUploads\n      } = this.getState(); // get a list of files that are currently assigned to uploads\n\n      const currentlyUploadingFiles = Object.values(currentUploads).flatMap(curr => curr.fileIDs);\n      const waitingFileIDs = [];\n      Object.keys(files).forEach(fileID => {\n        const file = this.getFile(fileID); // if the file hasn't started uploading and hasn't already been assigned to an upload..\n\n        if (!file.progress.uploadStarted && currentlyUploadingFiles.indexOf(fileID) === -1) {\n          waitingFileIDs.push(file.id);\n        }\n      });\n\n      const uploadID = _classPrivateFieldLooseBase(this, _createUpload)[_createUpload](waitingFileIDs);\n\n      return _classPrivateFieldLooseBase(this, _runUpload)[_runUpload](uploadID);\n    }).catch(err => {\n      this.emit('error', err);\n      this.log(err, 'error');\n      throw err;\n    });\n  }\n\n}\n\nfunction _informAndEmit2(error, file) {\n  const {\n    message,\n    details = ''\n  } = error;\n\n  if (error.isRestriction) {\n    this.emit('restriction-failed', file, error);\n  } else {\n    this.emit('error', error);\n  }\n\n  this.info({\n    message,\n    details\n  }, 'error', this.opts.infoTimeout);\n  this.log(`${message} ${details}`.trim(), 'error');\n}\n\nfunction _checkRequiredMetaFieldsOnFile2(file) {\n  const {\n    missingFields,\n    error\n  } = _classPrivateFieldLooseBase(this, _restricter)[_restricter].getMissingRequiredMetaFields(file);\n\n  if (missingFields.length > 0) {\n    this.setFileState(file.id, {\n      missingRequiredMetaFields: missingFields\n    });\n    this.log(error.message);\n    this.emit('restriction-failed', file, error);\n    return false;\n  }\n\n  return true;\n}\n\nfunction _checkRequiredMetaFields2(files) {\n  let success = true;\n\n  for (const file of Object.values(files)) {\n    if (!_classPrivateFieldLooseBase(this, _checkRequiredMetaFieldsOnFile)[_checkRequiredMetaFieldsOnFile](file)) {\n      success = false;\n    }\n  }\n\n  return success;\n}\n\nfunction _assertNewUploadAllowed2(file) {\n  const {\n    allowNewUpload\n  } = this.getState();\n\n  if (allowNewUpload === false) {\n    const error = new _Restricter.RestrictionError(this.i18n('noMoreFilesAllowed'));\n\n    _classPrivateFieldLooseBase(this, _informAndEmit)[_informAndEmit](error, file);\n\n    throw error;\n  }\n}\n\nfunction _checkAndCreateFileStateObject2(files, fileDescriptor) {\n  const fileType = getFileType(fileDescriptor);\n  const fileName = getFileName(fileType, fileDescriptor);\n  const fileExtension = getFileNameAndExtension(fileName).extension;\n  const isRemote = Boolean(fileDescriptor.isRemote);\n  const fileID = generateFileID({ ...fileDescriptor,\n    type: fileType\n  });\n\n  if (this.checkIfFileAlreadyExists(fileID)) {\n    const error = new _Restricter.RestrictionError(this.i18n('noDuplicates', {\n      fileName\n    }));\n\n    _classPrivateFieldLooseBase(this, _informAndEmit)[_informAndEmit](error, fileDescriptor);\n\n    throw error;\n  }\n\n  const meta = fileDescriptor.meta || {};\n  meta.name = fileName;\n  meta.type = fileType; // `null` means the size is unknown.\n\n  const size = Number.isFinite(fileDescriptor.data.size) ? fileDescriptor.data.size : null;\n  let newFile = {\n    source: fileDescriptor.source || '',\n    id: fileID,\n    name: fileName,\n    extension: fileExtension || '',\n    meta: { ...this.getState().meta,\n      ...meta\n    },\n    type: fileType,\n    data: fileDescriptor.data,\n    progress: {\n      percentage: 0,\n      bytesUploaded: 0,\n      bytesTotal: size,\n      uploadComplete: false,\n      uploadStarted: null\n    },\n    size,\n    isRemote,\n    remote: fileDescriptor.remote || '',\n    preview: fileDescriptor.preview\n  };\n  const onBeforeFileAddedResult = this.opts.onBeforeFileAdded(newFile, files);\n\n  if (onBeforeFileAddedResult === false) {\n    // Don’t show UI info for this error, as it should be done by the developer\n    const error = new _Restricter.RestrictionError('Cannot add the file because onBeforeFileAdded returned false.');\n    this.emit('restriction-failed', fileDescriptor, error);\n    throw error;\n  } else if (typeof onBeforeFileAddedResult === 'object' && onBeforeFileAddedResult !== null) {\n    newFile = onBeforeFileAddedResult;\n  }\n\n  try {\n    const filesArray = Object.keys(files).map(i => files[i]);\n\n    _classPrivateFieldLooseBase(this, _restricter)[_restricter].validate(newFile, filesArray);\n  } catch (err) {\n    _classPrivateFieldLooseBase(this, _informAndEmit)[_informAndEmit](err, newFile);\n\n    throw err;\n  }\n\n  return newFile;\n}\n\nfunction _startIfAutoProceed2() {\n  if (this.opts.autoProceed && !this.scheduledAutoProceed) {\n    this.scheduledAutoProceed = setTimeout(() => {\n      this.scheduledAutoProceed = null;\n      this.upload().catch(err => {\n        if (!err.isRestriction) {\n          this.log(err.stack || err.message || err);\n        }\n      });\n    }, 4);\n  }\n}\n\nfunction _addListeners2() {\n  /**\n   * @param {Error} error\n   * @param {object} [file]\n   * @param {object} [response]\n   */\n  const errorHandler = (error, file, response) => {\n    let errorMsg = error.message || 'Unknown error';\n\n    if (error.details) {\n      errorMsg += ` ${error.details}`;\n    }\n\n    this.setState({\n      error: errorMsg\n    });\n\n    if (file != null && file.id in this.getState().files) {\n      this.setFileState(file.id, {\n        error: errorMsg,\n        response\n      });\n    }\n  };\n\n  this.on('error', errorHandler);\n  this.on('upload-error', (file, error, response) => {\n    errorHandler(error, file, response);\n\n    if (typeof error === 'object' && error.message) {\n      const newError = new Error(error.message);\n      newError.details = error.message;\n\n      if (error.details) {\n        newError.details += ` ${error.details}`;\n      }\n\n      newError.message = this.i18n('failedToUpload', {\n        file: file == null ? void 0 : file.name\n      });\n\n      _classPrivateFieldLooseBase(this, _informAndEmit)[_informAndEmit](newError);\n    } else {\n      _classPrivateFieldLooseBase(this, _informAndEmit)[_informAndEmit](error);\n    }\n  });\n  this.on('upload', () => {\n    this.setState({\n      error: null\n    });\n  });\n  this.on('upload-started', file => {\n    if (file == null || !this.getFile(file.id)) {\n      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n      return;\n    }\n\n    this.setFileState(file.id, {\n      progress: {\n        uploadStarted: Date.now(),\n        uploadComplete: false,\n        percentage: 0,\n        bytesUploaded: 0,\n        bytesTotal: file.size\n      }\n    });\n  });\n  this.on('upload-progress', this.calculateProgress);\n  this.on('upload-success', (file, uploadResp) => {\n    if (file == null || !this.getFile(file.id)) {\n      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n      return;\n    }\n\n    const currentProgress = this.getFile(file.id).progress;\n    this.setFileState(file.id, {\n      progress: { ...currentProgress,\n        postprocess: _classPrivateFieldLooseBase(this, _postProcessors)[_postProcessors].size > 0 ? {\n          mode: 'indeterminate'\n        } : null,\n        uploadComplete: true,\n        percentage: 100,\n        bytesUploaded: currentProgress.bytesTotal\n      },\n      response: uploadResp,\n      uploadURL: uploadResp.uploadURL,\n      isPaused: false\n    }); // Remote providers sometimes don't tell us the file size,\n    // but we can know how many bytes we uploaded once the upload is complete.\n\n    if (file.size == null) {\n      this.setFileState(file.id, {\n        size: uploadResp.bytesUploaded || currentProgress.bytesTotal\n      });\n    }\n\n    this.calculateTotalProgress();\n  });\n  this.on('preprocess-progress', (file, progress) => {\n    if (file == null || !this.getFile(file.id)) {\n      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n      return;\n    }\n\n    this.setFileState(file.id, {\n      progress: { ...this.getFile(file.id).progress,\n        preprocess: progress\n      }\n    });\n  });\n  this.on('preprocess-complete', file => {\n    if (file == null || !this.getFile(file.id)) {\n      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n      return;\n    }\n\n    const files = { ...this.getState().files\n    };\n    files[file.id] = { ...files[file.id],\n      progress: { ...files[file.id].progress\n      }\n    };\n    delete files[file.id].progress.preprocess;\n    this.setState({\n      files\n    });\n  });\n  this.on('postprocess-progress', (file, progress) => {\n    if (file == null || !this.getFile(file.id)) {\n      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n      return;\n    }\n\n    this.setFileState(file.id, {\n      progress: { ...this.getState().files[file.id].progress,\n        postprocess: progress\n      }\n    });\n  });\n  this.on('postprocess-complete', file => {\n    if (file == null || !this.getFile(file.id)) {\n      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n      return;\n    }\n\n    const files = { ...this.getState().files\n    };\n    files[file.id] = { ...files[file.id],\n      progress: { ...files[file.id].progress\n      }\n    };\n    delete files[file.id].progress.postprocess;\n    this.setState({\n      files\n    });\n  });\n  this.on('restored', () => {\n    // Files may have changed--ensure progress is still accurate.\n    this.calculateTotalProgress();\n  });\n  this.on('dashboard:file-edit-complete', file => {\n    if (file) {\n      _classPrivateFieldLooseBase(this, _checkRequiredMetaFieldsOnFile)[_checkRequiredMetaFieldsOnFile](file);\n    }\n  }); // show informer if offline\n\n  if (typeof window !== 'undefined' && window.addEventListener) {\n    window.addEventListener('online', _classPrivateFieldLooseBase(this, _updateOnlineStatus)[_updateOnlineStatus]);\n    window.addEventListener('offline', _classPrivateFieldLooseBase(this, _updateOnlineStatus)[_updateOnlineStatus]);\n    setTimeout(_classPrivateFieldLooseBase(this, _updateOnlineStatus)[_updateOnlineStatus], 3000);\n  }\n}\n\nfunction _createUpload2(fileIDs, opts) {\n  if (opts === void 0) {\n    opts = {};\n  }\n\n  // uppy.retryAll sets this to true — when retrying we want to ignore `allowNewUpload: false`\n  const {\n    forceAllowNewUpload = false\n  } = opts;\n  const {\n    allowNewUpload,\n    currentUploads\n  } = this.getState();\n\n  if (!allowNewUpload && !forceAllowNewUpload) {\n    throw new Error('Cannot create a new upload: already uploading.');\n  }\n\n  const uploadID = (0, _nonSecure.nanoid)();\n  this.emit('upload', {\n    id: uploadID,\n    fileIDs\n  });\n  this.setState({\n    allowNewUpload: this.opts.allowMultipleUploadBatches !== false && this.opts.allowMultipleUploads !== false,\n    currentUploads: { ...currentUploads,\n      [uploadID]: {\n        fileIDs,\n        step: 0,\n        result: {}\n      }\n    }\n  });\n  return uploadID;\n}\n\nfunction _getUpload2(uploadID) {\n  const {\n    currentUploads\n  } = this.getState();\n  return currentUploads[uploadID];\n}\n\nfunction _removeUpload2(uploadID) {\n  const currentUploads = { ...this.getState().currentUploads\n  };\n  delete currentUploads[uploadID];\n  this.setState({\n    currentUploads\n  });\n}\n\nasync function _runUpload2(uploadID) {\n  let {\n    currentUploads\n  } = this.getState();\n  let currentUpload = currentUploads[uploadID];\n  const restoreStep = currentUpload.step || 0;\n  const steps = [..._classPrivateFieldLooseBase(this, _preProcessors)[_preProcessors], ..._classPrivateFieldLooseBase(this, _uploaders)[_uploaders], ..._classPrivateFieldLooseBase(this, _postProcessors)[_postProcessors]];\n\n  try {\n    for (let step = restoreStep; step < steps.length; step++) {\n      if (!currentUpload) {\n        break;\n      }\n\n      const fn = steps[step];\n      const updatedUpload = { ...currentUpload,\n        step\n      };\n      this.setState({\n        currentUploads: { ...currentUploads,\n          [uploadID]: updatedUpload\n        }\n      }); // TODO give this the `updatedUpload` object as its only parameter maybe?\n      // Otherwise when more metadata may be added to the upload this would keep getting more parameters\n\n      await fn(updatedUpload.fileIDs, uploadID); // Update currentUpload value in case it was modified asynchronously.\n\n      currentUploads = this.getState().currentUploads;\n      currentUpload = currentUploads[uploadID];\n    }\n  } catch (err) {\n    _classPrivateFieldLooseBase(this, _removeUpload)[_removeUpload](uploadID);\n\n    throw err;\n  } // Set result data.\n\n\n  if (currentUpload) {\n    // Mark postprocessing step as complete if necessary; this addresses a case where we might get\n    // stuck in the postprocessing UI while the upload is fully complete.\n    // If the postprocessing steps do not do any work, they may not emit postprocessing events at\n    // all, and never mark the postprocessing as complete. This is fine on its own but we\n    // introduced code in the @uppy/core upload-success handler to prepare postprocessing progress\n    // state if any postprocessors are registered. That is to avoid a \"flash of completed state\"\n    // before the postprocessing plugins can emit events.\n    //\n    // So, just in case an upload with postprocessing plugins *has* completed *without* emitting\n    // postprocessing completion, we do it instead.\n    currentUpload.fileIDs.forEach(fileID => {\n      const file = this.getFile(fileID);\n\n      if (file && file.progress.postprocess) {\n        this.emit('postprocess-complete', file);\n      }\n    });\n    const files = currentUpload.fileIDs.map(fileID => this.getFile(fileID));\n    const successful = files.filter(file => !file.error);\n    const failed = files.filter(file => file.error);\n    await this.addResultData(uploadID, {\n      successful,\n      failed,\n      uploadID\n    }); // Update currentUpload value in case it was modified asynchronously.\n\n    currentUploads = this.getState().currentUploads;\n    currentUpload = currentUploads[uploadID];\n  } // Emit completion events.\n  // This is in a separate function so that the `currentUploads` variable\n  // always refers to the latest state. In the handler right above it refers\n  // to an outdated object without the `.result` property.\n\n\n  let result;\n\n  if (currentUpload) {\n    result = currentUpload.result;\n    this.emit('complete', result);\n\n    _classPrivateFieldLooseBase(this, _removeUpload)[_removeUpload](uploadID);\n  }\n\n  if (result == null) {\n    this.log(`Not setting result for an upload that has been removed: ${uploadID}`);\n  }\n\n  return result;\n}\n\nUppy.VERSION = packageJson.version;\nmodule.exports = Uppy;","\"use strict\";\n\nfunction isDOMElement(obj) {\n  return (obj == null ? void 0 : obj.nodeType) === Node.ELEMENT_NODE;\n}\n\n/**\n * Check if an object is a DOM element. Duck-typing based on `nodeType`.\n *\n * @param {*} obj\n */\nmodule.exports = isDOMElement;","\"use strict\";\n\nconst isDOMElement = require(\"./isDOMElement.js\");\n/**\n * Find a DOM element.\n *\n * @param {Node|string} element\n * @returns {Node|null}\n */\n\n\nfunction findDOMElement(element, context) {\n  if (context === void 0) {\n    context = document;\n  }\n\n  if (typeof element === 'string') {\n    return context.querySelector(element);\n  }\n\n  if (isDOMElement(element)) {\n    return element;\n  }\n\n  return null;\n}\n\nmodule.exports = findDOMElement;","\"use strict\";\n\n/**\n * Get the declared text direction for an element.\n *\n * @param {Node} element\n * @returns {string|undefined}\n */\nfunction getTextDirection(element) {\n  var _element;\n\n  // There is another way to determine text direction using getComputedStyle(), as done here:\n  // https://github.com/pencil-js/text-direction/blob/2a235ce95089b3185acec3b51313cbba921b3811/text-direction.js\n  //\n  // We do not use that approach because we are interested specifically in the _declared_ text direction.\n  // If no text direction is declared, we have to provide our own explicit text direction so our\n  // bidirectional CSS style sheets work.\n  while (element && !element.dir) {\n    // eslint-disable-next-line no-param-reassign\n    element = element.parentNode;\n  }\n\n  return (_element = element) == null ? void 0 : _element.dir;\n}\n\nmodule.exports = getTextDirection;","\"use strict\";\n\n/**\n * Core plugin logic that all plugins share.\n *\n * BasePlugin does not contain DOM rendering so it can be used for plugins\n * without a user interface.\n *\n * See `Plugin` for the extended version with Preact rendering for interfaces.\n */\nconst Translator = require(\"@uppy/utils/lib/Translator\");\n\nclass BasePlugin {\n  constructor(uppy, opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    this.uppy = uppy;\n    this.opts = opts;\n  }\n\n  getPluginState() {\n    const {\n      plugins\n    } = this.uppy.getState();\n    return plugins[this.id] || {};\n  }\n\n  setPluginState(update) {\n    const {\n      plugins\n    } = this.uppy.getState();\n    this.uppy.setState({\n      plugins: { ...plugins,\n        [this.id]: { ...plugins[this.id],\n          ...update\n        }\n      }\n    });\n  }\n\n  setOptions(newOpts) {\n    this.opts = { ...this.opts,\n      ...newOpts\n    };\n    this.setPluginState(); // so that UI re-renders with new options\n\n    this.i18nInit();\n  }\n\n  i18nInit() {\n    const translator = new Translator([this.defaultLocale, this.uppy.locale, this.opts.locale]);\n    this.i18n = translator.translate.bind(translator);\n    this.i18nArray = translator.translateArray.bind(translator);\n    this.setPluginState(); // so that UI re-renders and we see the updated locale\n  }\n  /**\n   * Extendable methods\n   * ==================\n   * These methods are here to serve as an overview of the extendable methods as well as\n   * making them not conditional in use, such as `if (this.afterUpdate)`.\n   */\n  // eslint-disable-next-line class-methods-use-this\n\n\n  addTarget() {\n    throw new Error('Extend the addTarget method to add your plugin to another plugin\\'s target');\n  } // eslint-disable-next-line class-methods-use-this\n\n\n  install() {} // eslint-disable-next-line class-methods-use-this\n\n\n  uninstall() {}\n  /**\n   * Called when plugin is mounted, whether in DOM or into another plugin.\n   * Needed because sometimes plugins are mounted separately/after `install`,\n   * so this.el and this.parent might not be available in `install`.\n   * This is the case with @uppy/react plugins, for example.\n   */\n\n\n  render() {\n    throw new Error('Extend the render method to add your plugin to a DOM element');\n  } // TODO: remove in the next major version. It's not feasible to\n  // try to use plugins with other frameworks.\n  // eslint-disable-next-line class-methods-use-this\n\n\n  update() {} // Called after every state update, after everything's mounted. Debounced.\n  // eslint-disable-next-line class-methods-use-this\n\n\n  afterUpdate() {}\n\n}\n\nmodule.exports = BasePlugin;","\"use strict\";\n\nvar _preact = require(\"preact\");\n\nfunction _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError(\"attempted to use private field on non-instance\"); } return receiver; }\n\nvar id = 0;\n\nfunction _classPrivateFieldLooseKey(name) { return \"__private_\" + id++ + \"_\" + name; }\n\nconst findDOMElement = require(\"@uppy/utils/lib/findDOMElement\");\n\nconst getTextDirection = require(\"@uppy/utils/lib/getTextDirection\");\n\nconst BasePlugin = require(\"./BasePlugin.js\");\n/**\n * Defer a frequent call to the microtask queue.\n *\n * @param {() => T} fn\n * @returns {Promise<T>}\n */\n\n\nfunction debounce(fn) {\n  let calling = null;\n  let latestArgs = null;\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    latestArgs = args;\n\n    if (!calling) {\n      calling = Promise.resolve().then(() => {\n        calling = null; // At this point `args` may be different from the most\n        // recent state, if multiple calls happened since this task\n        // was queued. So we use the `latestArgs`, which definitely\n        // is the most recent call.\n\n        return fn(...latestArgs);\n      });\n    }\n\n    return calling;\n  };\n}\n/**\n * UIPlugin is the extended version of BasePlugin to incorporate rendering with Preact.\n * Use this for plugins that need a user interface.\n *\n * For plugins without an user interface, see BasePlugin.\n */\n\n\nvar _updateUI = /*#__PURE__*/_classPrivateFieldLooseKey(\"updateUI\");\n\nclass UIPlugin extends BasePlugin {\n  constructor() {\n    super(...arguments);\n    Object.defineProperty(this, _updateUI, {\n      writable: true,\n      value: void 0\n    });\n  }\n\n  /**\n   * Check if supplied `target` is a DOM element or an `object`.\n   * If it’s an object — target is a plugin, and we search `plugins`\n   * for a plugin with same name and return its target.\n   */\n  mount(target, plugin) {\n    const callerPluginName = plugin.id;\n    const targetElement = findDOMElement(target);\n\n    if (targetElement) {\n      this.isTargetDOMEl = true; // When target is <body> with a single <div> element,\n      // Preact thinks it’s the Uppy root element in there when doing a diff,\n      // and destroys it. So we are creating a fragment (could be empty div)\n\n      const uppyRootElement = document.createElement('div');\n      uppyRootElement.classList.add('uppy-Root'); // API for plugins that require a synchronous rerender.\n\n      _classPrivateFieldLooseBase(this, _updateUI)[_updateUI] = debounce(state => {\n        // plugin could be removed, but this.rerender is debounced below,\n        // so it could still be called even after uppy.removePlugin or uppy.close\n        // hence the check\n        if (!this.uppy.getPlugin(this.id)) return;\n        (0, _preact.render)(this.render(state), uppyRootElement);\n        this.afterUpdate();\n      });\n      this.uppy.log(`Installing ${callerPluginName} to a DOM element '${target}'`);\n\n      if (this.opts.replaceTargetContent) {\n        // Doing render(h(null), targetElement), which should have been\n        // a better way, since because the component might need to do additional cleanup when it is removed,\n        // stopped working — Preact just adds null into target, not replacing\n        targetElement.innerHTML = '';\n      }\n\n      (0, _preact.render)(this.render(this.uppy.getState()), uppyRootElement);\n      this.el = uppyRootElement;\n      targetElement.appendChild(uppyRootElement); // Set the text direction if the page has not defined one.\n\n      uppyRootElement.dir = this.opts.direction || getTextDirection(uppyRootElement) || 'ltr';\n      this.onMount();\n      return this.el;\n    }\n\n    let targetPlugin;\n\n    if (typeof target === 'object' && target instanceof UIPlugin) {\n      // Targeting a plugin *instance*\n      targetPlugin = target;\n    } else if (typeof target === 'function') {\n      // Targeting a plugin type\n      const Target = target; // Find the target plugin instance.\n\n      this.uppy.iteratePlugins(p => {\n        if (p instanceof Target) {\n          targetPlugin = p;\n        }\n      });\n    }\n\n    if (targetPlugin) {\n      this.uppy.log(`Installing ${callerPluginName} to ${targetPlugin.id}`);\n      this.parent = targetPlugin;\n      this.el = targetPlugin.addTarget(plugin);\n      this.onMount();\n      return this.el;\n    }\n\n    this.uppy.log(`Not installing ${callerPluginName}`);\n    let message = `Invalid target option given to ${callerPluginName}.`;\n\n    if (typeof target === 'function') {\n      message += ' The given target is not a Plugin class. ' + 'Please check that you\\'re not specifying a React Component instead of a plugin. ' + 'If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: ' + 'run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.';\n    } else {\n      message += 'If you meant to target an HTML element, please make sure that the element exists. ' + 'Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. ' + '(see https://github.com/transloadit/uppy/issues/1042)\\n\\n' + 'If you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.';\n    }\n\n    throw new Error(message);\n  }\n\n  update(state) {\n    if (this.el != null) {\n      var _classPrivateFieldLoo, _classPrivateFieldLoo2;\n\n      (_classPrivateFieldLoo = (_classPrivateFieldLoo2 = _classPrivateFieldLooseBase(this, _updateUI))[_updateUI]) == null ? void 0 : _classPrivateFieldLoo.call(_classPrivateFieldLoo2, state);\n    }\n  }\n\n  unmount() {\n    if (this.isTargetDOMEl) {\n      var _this$el;\n\n      (_this$el = this.el) == null ? void 0 : _this$el.remove();\n    }\n\n    this.onUnmount();\n  } // eslint-disable-next-line class-methods-use-this\n\n\n  onMount() {} // eslint-disable-next-line class-methods-use-this\n\n\n  onUnmount() {}\n\n}\n\nmodule.exports = UIPlugin;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Uppy = exports.UIPlugin = exports.BasePlugin = void 0;\nObject.defineProperty(exports, \"debugLogger\", {\n  enumerable: true,\n  get: function () {\n    return _loggers.debugLogger;\n  }\n});\n\nvar _loggers = require(\"./loggers.js\");\n\nmodule.exports = require('./Uppy.js');\n\nconst _0 = require(\"./UIPlugin.js\");\n\nexports.UIPlugin = _0;\n\nconst _1 = require(\"./BasePlugin.js\");\n\nexports.BasePlugin = _1;\n\n// TODO: remove all the following in the next major\n\n/* eslint-disable import/first */\nconst Uppy = require(\"./Uppy.js\");\n\nexports.Uppy = Uppy;\n\nconst UIPlugin = require(\"./UIPlugin.js\");\n\nconst BasePlugin = require(\"./BasePlugin.js\");\n\n// Backward compatibility: we want those to keep being accessible as static\n// properties of `Uppy` to avoid a breaking change.\nUppy.Uppy = Uppy;\nUppy.UIPlugin = UIPlugin;\nUppy.BasePlugin = BasePlugin;\nUppy.debugLogger = _loggers.debugLogger;","\"use strict\";\n\n/**\n * Converts list into array\n */\nmodule.exports = Array.from;","\"use strict\";\n\nmodule.exports = ['a[href]:not([tabindex^=\"-\"]):not([inert]):not([aria-hidden])', 'area[href]:not([tabindex^=\"-\"]):not([inert]):not([aria-hidden])', 'input:not([disabled]):not([inert]):not([aria-hidden])', 'select:not([disabled]):not([inert]):not([aria-hidden])', 'textarea:not([disabled]):not([inert]):not([aria-hidden])', 'button:not([disabled]):not([inert]):not([aria-hidden])', 'iframe:not([tabindex^=\"-\"]):not([inert]):not([aria-hidden])', 'object:not([tabindex^=\"-\"]):not([inert]):not([aria-hidden])', 'embed:not([tabindex^=\"-\"]):not([inert]):not([aria-hidden])', '[contenteditable]:not([tabindex^=\"-\"]):not([inert]):not([aria-hidden])', '[tabindex]:not([tabindex^=\"-\"]):not([inert]):not([aria-hidden])'];","\"use strict\";\n\nfunction getActiveOverlayEl(dashboardEl, activeOverlayType) {\n  if (activeOverlayType) {\n    const overlayEl = dashboardEl.querySelector(`[data-uppy-paneltype=\"${activeOverlayType}\"]`); // if an overlay is already mounted\n\n    if (overlayEl) return overlayEl;\n  }\n\n  return dashboardEl;\n}\n\n/**\n * @returns {HTMLElement} - either dashboard element, or the overlay that's most on top\n */\nmodule.exports = getActiveOverlayEl;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.forInline = forInline;\nexports.forModal = trapFocus;\n\nconst toArray = require(\"@uppy/utils/lib/toArray\");\n\nconst FOCUSABLE_ELEMENTS = require(\"@uppy/utils/lib/FOCUSABLE_ELEMENTS\");\n\nconst getActiveOverlayEl = require(\"./getActiveOverlayEl.js\");\n\nfunction focusOnFirstNode(event, nodes) {\n  const node = nodes[0];\n\n  if (node) {\n    node.focus();\n    event.preventDefault();\n  }\n}\n\nfunction focusOnLastNode(event, nodes) {\n  const node = nodes[nodes.length - 1];\n\n  if (node) {\n    node.focus();\n    event.preventDefault();\n  }\n} // ___Why not just use (focusedItemIndex === -1)?\n//    Firefox thinks <ul> is focusable, but we don't have <ul>s in our FOCUSABLE_ELEMENTS. Which means that if we tab into\n//    the <ul>, code will think that we are not in the active overlay, and we should focusOnFirstNode() of the currently\n//    active overlay!\n//    [Practical check] if we use (focusedItemIndex === -1), instagram provider in firefox will never get focus on its pics\n//    in the <ul>.\n\n\nfunction isFocusInOverlay(activeOverlayEl) {\n  return activeOverlayEl.contains(document.activeElement);\n}\n\nfunction trapFocus(event, activeOverlayType, dashboardEl) {\n  const activeOverlayEl = getActiveOverlayEl(dashboardEl, activeOverlayType);\n  const focusableNodes = toArray(activeOverlayEl.querySelectorAll(FOCUSABLE_ELEMENTS));\n  const focusedItemIndex = focusableNodes.indexOf(document.activeElement); // If we pressed tab, and focus is not yet within the current overlay - focus on\n  // the first element within the current overlay.\n  // This is a safety measure (for when user returns from another tab e.g.), most\n  // plugins will try to focus on some important element as it loads.\n\n  if (!isFocusInOverlay(activeOverlayEl)) {\n    focusOnFirstNode(event, focusableNodes); // If we pressed shift + tab, and we're on the first element of a modal\n  } else if (event.shiftKey && focusedItemIndex === 0) {\n    focusOnLastNode(event, focusableNodes); // If we pressed tab, and we're on the last element of the modal\n  } else if (!event.shiftKey && focusedItemIndex === focusableNodes.length - 1) {\n    focusOnFirstNode(event, focusableNodes);\n  }\n} // Traps focus inside of the currently open overlay (e.g. Dashboard, or e.g. Instagram),\n// never lets focus disappear from the modal.\n\n\n// Traps focus inside of the currently open overlay, unless overlay is null - then let the user tab away.\nfunction forInline(event, activeOverlayType, dashboardEl) {\n  // ___When we're in the bare 'Drop files here, paste, browse or import from' screen\n  if (activeOverlayType === null) {// Do nothing and let the browser handle it, user can tab away from Uppy to other elements on the page\n    // ___When there is some overlay with 'Done' button\n  } else {\n    // Trap the focus inside this overlay!\n    // User can close the overlay (click 'Done') if they want to travel away from Uppy.\n    trapFocus(event, activeOverlayType, dashboardEl);\n  }\n}","\"use strict\";\n\nfunction getSpeed(fileProgress) {\n  if (!fileProgress.bytesUploaded) return 0;\n  const timeElapsed = Date.now() - fileProgress.uploadStarted;\n  const uploadSpeed = fileProgress.bytesUploaded / (timeElapsed / 1000);\n  return uploadSpeed;\n}\n\nmodule.exports = getSpeed;","\"use strict\";\n\nfunction getBytesRemaining(fileProgress) {\n  return fileProgress.bytesTotal - fileProgress.bytesUploaded;\n}\n\nmodule.exports = getBytesRemaining;","\"use strict\";\n\nmodule.exports = {\n  STATE_ERROR: 'error',\n  STATE_WAITING: 'waiting',\n  STATE_PREPROCESSING: 'preprocessing',\n  STATE_UPLOADING: 'uploading',\n  STATE_POSTPROCESSING: 'postprocessing',\n  STATE_COMPLETE: 'complete'\n};","/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = '';\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (arg) {\n\t\t\t\tclasses = appendClass(classes, parseValue(arg));\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction parseValue (arg) {\n\t\tif (typeof arg === 'string' || typeof arg === 'number') {\n\t\t\treturn arg;\n\t\t}\n\n\t\tif (typeof arg !== 'object') {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (Array.isArray(arg)) {\n\t\t\treturn classNames.apply(null, arg);\n\t\t}\n\n\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\treturn arg.toString();\n\t\t}\n\n\t\tvar classes = '';\n\n\t\tfor (var key in arg) {\n\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\tclasses = appendClass(classes, key);\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction appendClass (value, newClass) {\n\t\tif (!newClass) {\n\t\t\treturn value;\n\t\t}\n\t\n\t\tif (value) {\n\t\t\treturn value + ' ' + newClass;\n\t\t}\n\t\n\t\treturn value + newClass;\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","\"use strict\";\n\nfunction secondsToTime(rawSeconds) {\n  const hours = Math.floor(rawSeconds / 3600) % 24;\n  const minutes = Math.floor(rawSeconds / 60) % 60;\n  const seconds = Math.floor(rawSeconds % 60);\n  return {\n    hours,\n    minutes,\n    seconds\n  };\n}\n\nmodule.exports = secondsToTime;","\"use strict\";\n\nconst secondsToTime = require(\"./secondsToTime.js\");\n\nfunction prettyETA(seconds) {\n  const time = secondsToTime(seconds); // Only display hours and minutes if they are greater than 0 but always\n  // display minutes if hours is being displayed\n  // Display a leading zero if the there is a preceding unit: 1m 05s, but 5s\n\n  const hoursStr = time.hours === 0 ? '' : `${time.hours}h`;\n  const minutesStr = time.minutes === 0 ? '' : `${time.hours === 0 ? time.minutes : ` ${time.minutes.toString(10).padStart(2, '0')}`}m`;\n  const secondsStr = time.hours !== 0 ? '' : `${time.minutes === 0 ? time.seconds : ` ${time.seconds.toString(10).padStart(2, '0')}`}s`;\n  return `${hoursStr}${minutesStr}${secondsStr}`;\n}\n\nmodule.exports = prettyETA;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CancelBtn = CancelBtn;\nexports.DoneBtn = DoneBtn;\nexports.LoadingSpinner = LoadingSpinner;\nexports.PauseResumeButton = PauseResumeButton;\nexports.ProgressBarComplete = ProgressBarComplete;\nexports.ProgressBarError = ProgressBarError;\nexports.ProgressBarProcessing = ProgressBarProcessing;\nexports.ProgressBarUploading = ProgressBarUploading;\nexports.ProgressDetails = ProgressDetails;\nexports.RetryBtn = RetryBtn;\nexports.UploadBtn = UploadBtn;\n\nvar _preact = require(\"preact\");\n\nconst classNames = require(\"classnames\");\n\nconst throttle = require(\"lodash.throttle\");\n\nconst prettierBytes = require(\"@transloadit/prettier-bytes\");\n\nconst prettyETA = require(\"@uppy/utils/lib/prettyETA\");\n\nconst statusBarStates = require(\"./StatusBarStates.js\");\n\nconst DOT = `\\u00B7`;\n\nconst renderDot = () => ` ${DOT} `;\n\nfunction UploadBtn(props) {\n  const {\n    newFiles,\n    isUploadStarted,\n    recoveredState,\n    i18n,\n    uploadState,\n    isSomeGhost,\n    startUpload\n  } = props;\n  const uploadBtnClassNames = classNames('uppy-u-reset', 'uppy-c-btn', 'uppy-StatusBar-actionBtn', 'uppy-StatusBar-actionBtn--upload', {\n    'uppy-c-btn-primary': uploadState === statusBarStates.STATE_WAITING\n  }, {\n    'uppy-StatusBar-actionBtn--disabled': isSomeGhost\n  });\n  const uploadBtnText = newFiles && isUploadStarted && !recoveredState ? i18n('uploadXNewFiles', {\n    smart_count: newFiles\n  }) : i18n('uploadXFiles', {\n    smart_count: newFiles\n  });\n  return (0, _preact.h)(\"button\", {\n    type: \"button\",\n    className: uploadBtnClassNames,\n    \"aria-label\": i18n('uploadXFiles', {\n      smart_count: newFiles\n    }),\n    onClick: startUpload,\n    disabled: isSomeGhost,\n    \"data-uppy-super-focusable\": true\n  }, uploadBtnText);\n}\n\nfunction RetryBtn(props) {\n  const {\n    i18n,\n    uppy\n  } = props;\n  return (0, _preact.h)(\"button\", {\n    type: \"button\",\n    className: \"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry\",\n    \"aria-label\": i18n('retryUpload'),\n    onClick: () => uppy.retryAll(),\n    \"data-uppy-super-focusable\": true\n  }, (0, _preact.h)(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"8\",\n    height: \"10\",\n    viewBox: \"0 0 8 10\"\n  }, (0, _preact.h)(\"path\", {\n    d: \"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z\"\n  })), i18n('retry'));\n}\n\nfunction CancelBtn(props) {\n  const {\n    i18n,\n    uppy\n  } = props;\n  return (0, _preact.h)(\"button\", {\n    type: \"button\",\n    className: \"uppy-u-reset uppy-StatusBar-actionCircleBtn\",\n    title: i18n('cancel'),\n    \"aria-label\": i18n('cancel'),\n    onClick: () => uppy.cancelAll(),\n    \"data-cy\": \"cancel\",\n    \"data-uppy-super-focusable\": true\n  }, (0, _preact.h)(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 16 16\"\n  }, (0, _preact.h)(\"g\", {\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, (0, _preact.h)(\"circle\", {\n    fill: \"#888\",\n    cx: \"8\",\n    cy: \"8\",\n    r: \"8\"\n  }), (0, _preact.h)(\"path\", {\n    fill: \"#FFF\",\n    d: \"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z\"\n  }))));\n}\n\nfunction PauseResumeButton(props) {\n  const {\n    isAllPaused,\n    i18n,\n    isAllComplete,\n    resumableUploads,\n    uppy\n  } = props;\n  const title = isAllPaused ? i18n('resume') : i18n('pause');\n\n  function togglePauseResume() {\n    if (isAllComplete) return null;\n\n    if (!resumableUploads) {\n      return uppy.cancelAll();\n    }\n\n    if (isAllPaused) {\n      return uppy.resumeAll();\n    }\n\n    return uppy.pauseAll();\n  }\n\n  return (0, _preact.h)(\"button\", {\n    title: title,\n    \"aria-label\": title,\n    className: \"uppy-u-reset uppy-StatusBar-actionCircleBtn\",\n    type: \"button\",\n    onClick: togglePauseResume,\n    \"data-uppy-super-focusable\": true\n  }, (0, _preact.h)(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 16 16\"\n  }, (0, _preact.h)(\"g\", {\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, (0, _preact.h)(\"circle\", {\n    fill: \"#888\",\n    cx: \"8\",\n    cy: \"8\",\n    r: \"8\"\n  }), (0, _preact.h)(\"path\", {\n    fill: \"#FFF\",\n    d: isAllPaused ? 'M6 4.25L11.5 8 6 11.75z' : 'M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z'\n  }))));\n}\n\nfunction DoneBtn(props) {\n  const {\n    i18n,\n    doneButtonHandler\n  } = props;\n  return (0, _preact.h)(\"button\", {\n    type: \"button\",\n    className: \"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done\",\n    onClick: doneButtonHandler,\n    \"data-uppy-super-focusable\": true\n  }, i18n('done'));\n}\n\nfunction LoadingSpinner() {\n  return (0, _preact.h)(\"svg\", {\n    className: \"uppy-StatusBar-spinner\",\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    width: \"14\",\n    height: \"14\"\n  }, (0, _preact.h)(\"path\", {\n    d: \"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0\",\n    fillRule: \"evenodd\"\n  }));\n}\n\nfunction ProgressBarProcessing(props) {\n  const {\n    progress\n  } = props;\n  const {\n    value,\n    mode,\n    message\n  } = progress;\n  const roundedValue = Math.round(value * 100);\n  const dot = `\\u00B7`;\n  return (0, _preact.h)(\"div\", {\n    className: \"uppy-StatusBar-content\"\n  }, (0, _preact.h)(LoadingSpinner, null), mode === 'determinate' ? `${roundedValue}% ${dot} ` : '', message);\n}\n\nfunction ProgressDetails(props) {\n  const {\n    numUploads,\n    complete,\n    totalUploadedSize,\n    totalSize,\n    totalETA,\n    i18n\n  } = props;\n  const ifShowFilesUploadedOfTotal = numUploads > 1;\n  return (0, _preact.h)(\"div\", {\n    className: \"uppy-StatusBar-statusSecondary\"\n  }, ifShowFilesUploadedOfTotal && i18n('filesUploadedOfTotal', {\n    complete,\n    smart_count: numUploads\n  }), (0, _preact.h)(\"span\", {\n    className: \"uppy-StatusBar-additionalInfo\"\n  }, ifShowFilesUploadedOfTotal && renderDot(), i18n('dataUploadedOfTotal', {\n    complete: prettierBytes(totalUploadedSize),\n    total: prettierBytes(totalSize)\n  }), renderDot(), i18n('xTimeLeft', {\n    time: prettyETA(totalETA)\n  })));\n}\n\nfunction FileUploadCount(props) {\n  const {\n    i18n,\n    complete,\n    numUploads\n  } = props;\n  return (0, _preact.h)(\"div\", {\n    className: \"uppy-StatusBar-statusSecondary\"\n  }, i18n('filesUploadedOfTotal', {\n    complete,\n    smart_count: numUploads\n  }));\n}\n\nfunction UploadNewlyAddedFiles(props) {\n  const {\n    i18n,\n    newFiles,\n    startUpload\n  } = props;\n  const uploadBtnClassNames = classNames('uppy-u-reset', 'uppy-c-btn', 'uppy-StatusBar-actionBtn', 'uppy-StatusBar-actionBtn--uploadNewlyAdded');\n  return (0, _preact.h)(\"div\", {\n    className: \"uppy-StatusBar-statusSecondary\"\n  }, (0, _preact.h)(\"div\", {\n    className: \"uppy-StatusBar-statusSecondaryHint\"\n  }, i18n('xMoreFilesAdded', {\n    smart_count: newFiles\n  })), (0, _preact.h)(\"button\", {\n    type: \"button\",\n    className: uploadBtnClassNames,\n    \"aria-label\": i18n('uploadXFiles', {\n      smart_count: newFiles\n    }),\n    onClick: startUpload\n  }, i18n('upload')));\n}\n\nconst ThrottledProgressDetails = throttle(ProgressDetails, 500, {\n  leading: true,\n  trailing: true\n});\n\nfunction ProgressBarUploading(props) {\n  const {\n    i18n,\n    supportsUploadProgress,\n    totalProgress,\n    showProgressDetails,\n    isUploadStarted,\n    isAllComplete,\n    isAllPaused,\n    newFiles,\n    numUploads,\n    complete,\n    totalUploadedSize,\n    totalSize,\n    totalETA,\n    startUpload\n  } = props;\n  const showUploadNewlyAddedFiles = newFiles && isUploadStarted;\n\n  if (!isUploadStarted || isAllComplete) {\n    return null;\n  }\n\n  const title = isAllPaused ? i18n('paused') : i18n('uploading');\n\n  function renderProgressDetails() {\n    if (!isAllPaused && !showUploadNewlyAddedFiles && showProgressDetails) {\n      if (supportsUploadProgress) {\n        return (0, _preact.h)(ThrottledProgressDetails, {\n          numUploads: numUploads,\n          complete: complete,\n          totalUploadedSize: totalUploadedSize,\n          totalSize: totalSize,\n          totalETA: totalETA,\n          i18n: i18n\n        });\n      }\n\n      return (0, _preact.h)(FileUploadCount, {\n        i18n: i18n,\n        complete: complete,\n        numUploads: numUploads\n      });\n    }\n\n    return null;\n  }\n\n  return (0, _preact.h)(\"div\", {\n    className: \"uppy-StatusBar-content\",\n    \"aria-label\": title,\n    title: title\n  }, !isAllPaused ? (0, _preact.h)(LoadingSpinner, null) : null, (0, _preact.h)(\"div\", {\n    className: \"uppy-StatusBar-status\"\n  }, (0, _preact.h)(\"div\", {\n    className: \"uppy-StatusBar-statusPrimary\"\n  }, supportsUploadProgress ? `${title}: ${totalProgress}%` : title), renderProgressDetails(), showUploadNewlyAddedFiles ? (0, _preact.h)(UploadNewlyAddedFiles, {\n    i18n: i18n,\n    newFiles: newFiles,\n    startUpload: startUpload\n  }) : null));\n}\n\nfunction ProgressBarComplete(props) {\n  const {\n    i18n\n  } = props;\n  return (0, _preact.h)(\"div\", {\n    className: \"uppy-StatusBar-content\",\n    role: \"status\",\n    title: i18n('complete')\n  }, (0, _preact.h)(\"div\", {\n    className: \"uppy-StatusBar-status\"\n  }, (0, _preact.h)(\"div\", {\n    className: \"uppy-StatusBar-statusPrimary\"\n  }, (0, _preact.h)(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-StatusBar-statusIndicator uppy-c-icon\",\n    width: \"15\",\n    height: \"11\",\n    viewBox: \"0 0 15 11\"\n  }, (0, _preact.h)(\"path\", {\n    d: \"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z\"\n  })), i18n('complete'))));\n}\n\nfunction ProgressBarError(props) {\n  const {\n    error,\n    i18n,\n    complete,\n    numUploads\n  } = props;\n\n  function displayErrorAlert() {\n    const errorMessage = `${i18n('uploadFailed')} \\n\\n ${error}`; // eslint-disable-next-line no-alert\n\n    alert(errorMessage); // TODO: move to custom alert implementation\n  }\n\n  return (0, _preact.h)(\"div\", {\n    className: \"uppy-StatusBar-content\",\n    title: i18n('uploadFailed')\n  }, (0, _preact.h)(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-StatusBar-statusIndicator uppy-c-icon\",\n    width: \"11\",\n    height: \"11\",\n    viewBox: \"0 0 11 11\"\n  }, (0, _preact.h)(\"path\", {\n    d: \"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z\"\n  })), (0, _preact.h)(\"div\", {\n    className: \"uppy-StatusBar-status\"\n  }, (0, _preact.h)(\"div\", {\n    className: \"uppy-StatusBar-statusPrimary\"\n  }, i18n('uploadFailed'), (0, _preact.h)(\"button\", {\n    className: \"uppy-u-reset uppy-StatusBar-details\",\n    \"aria-label\": i18n('showErrorDetails'),\n    \"data-microtip-position\": \"top-right\",\n    \"data-microtip-size\": \"medium\",\n    onClick: displayErrorAlert,\n    type: \"button\"\n  }, \"?\")), (0, _preact.h)(FileUploadCount, {\n    i18n: i18n,\n    complete: complete,\n    numUploads: numUploads\n  })));\n}","\"use strict\";\n\nfunction calculateProcessingProgress(files) {\n  const values = [];\n  let mode;\n  let message;\n\n  for (const {\n    progress\n  } of Object.values(files)) {\n    const {\n      preprocess,\n      postprocess\n    } = progress; // In the future we should probably do this differently. For now we'll take the\n    // mode and message from the first file…\n\n    if (message == null && (preprocess || postprocess)) {\n      ({\n        mode,\n        message\n      } = preprocess || postprocess);\n    }\n\n    if ((preprocess == null ? void 0 : preprocess.mode) === 'determinate') values.push(preprocess.value);\n    if ((postprocess == null ? void 0 : postprocess.mode) === 'determinate') values.push(postprocess.value);\n  }\n\n  const value = values.reduce((total, progressValue) => {\n    return total + progressValue / values.length;\n  }, 0);\n  return {\n    mode,\n    message,\n    value\n  };\n}\n\nmodule.exports = calculateProcessingProgress;","\"use strict\";\n\nvar _preact = require(\"preact\");\n\nvar _Components = require(\"./Components.js\");\n\n// TODO: rename this file to StatusBarUI>jsx on the next major.\nconst classNames = require(\"classnames\");\n\nconst statusBarStates = require(\"./StatusBarStates.js\");\n\nconst calculateProcessingProgress = require(\"./calculateProcessingProgress.js\");\n\nconst {\n  STATE_ERROR,\n  STATE_WAITING,\n  STATE_PREPROCESSING,\n  STATE_UPLOADING,\n  STATE_POSTPROCESSING,\n  STATE_COMPLETE\n} = statusBarStates; // TODO: rename the function to StatusBarUI on the next major.\n\nfunction StatusBar(props) {\n  const {\n    newFiles,\n    allowNewUpload,\n    isUploadInProgress,\n    isAllPaused,\n    resumableUploads,\n    error,\n    hideUploadButton,\n    hidePauseResumeButton,\n    hideCancelButton,\n    hideRetryButton,\n    recoveredState,\n    uploadState,\n    totalProgress,\n    files,\n    supportsUploadProgress,\n    hideAfterFinish,\n    isSomeGhost,\n    doneButtonHandler,\n    isUploadStarted,\n    i18n,\n    startUpload,\n    uppy,\n    isAllComplete,\n    showProgressDetails,\n    numUploads,\n    complete,\n    totalSize,\n    totalETA,\n    totalUploadedSize\n  } = props;\n\n  function getProgressValue() {\n    switch (uploadState) {\n      case STATE_POSTPROCESSING:\n      case STATE_PREPROCESSING:\n        {\n          const progress = calculateProcessingProgress(files);\n\n          if (progress.mode === 'determinate') {\n            return progress.value * 100;\n          }\n\n          return totalProgress;\n        }\n\n      case STATE_ERROR:\n        {\n          return null;\n        }\n\n      case STATE_UPLOADING:\n        {\n          if (!supportsUploadProgress) {\n            return null;\n          }\n\n          return totalProgress;\n        }\n\n      default:\n        return totalProgress;\n    }\n  }\n\n  function getIsIndeterminate() {\n    switch (uploadState) {\n      case STATE_POSTPROCESSING:\n      case STATE_PREPROCESSING:\n        {\n          const {\n            mode\n          } = calculateProcessingProgress(files);\n          return mode === 'indeterminate';\n        }\n\n      case STATE_UPLOADING:\n        {\n          if (!supportsUploadProgress) {\n            return true;\n          }\n\n          return false;\n        }\n\n      default:\n        return false;\n    }\n  }\n\n  function getIsHidden() {\n    if (recoveredState) {\n      return false;\n    }\n\n    switch (uploadState) {\n      case STATE_WAITING:\n        return hideUploadButton || newFiles === 0;\n\n      case STATE_COMPLETE:\n        return hideAfterFinish;\n\n      default:\n        return false;\n    }\n  }\n\n  const progressValue = getProgressValue();\n  const isHidden = getIsHidden();\n  const width = progressValue != null ? progressValue : 100;\n  const showUploadBtn = !error && newFiles && !isUploadInProgress && !isAllPaused && allowNewUpload && !hideUploadButton;\n  const showCancelBtn = !hideCancelButton && uploadState !== STATE_WAITING && uploadState !== STATE_COMPLETE;\n  const showPauseResumeBtn = resumableUploads && !hidePauseResumeButton && uploadState === STATE_UPLOADING;\n  const showRetryBtn = error && !isAllComplete && !hideRetryButton;\n  const showDoneBtn = doneButtonHandler && uploadState === STATE_COMPLETE;\n  const progressClassNames = classNames('uppy-StatusBar-progress', {\n    'is-indeterminate': getIsIndeterminate()\n  });\n  const statusBarClassNames = classNames('uppy-StatusBar', `is-${uploadState}`, {\n    'has-ghosts': isSomeGhost\n  });\n  return (0, _preact.h)(\"div\", {\n    className: statusBarClassNames,\n    \"aria-hidden\": isHidden\n  }, (0, _preact.h)(\"div\", {\n    className: progressClassNames,\n    style: {\n      width: `${width}%`\n    },\n    role: \"progressbar\",\n    \"aria-label\": `${width}%`,\n    \"aria-valuetext\": `${width}%`,\n    \"aria-valuemin\": \"0\",\n    \"aria-valuemax\": \"100\",\n    \"aria-valuenow\": progressValue\n  }), (() => {\n    switch (uploadState) {\n      case STATE_PREPROCESSING:\n      case STATE_POSTPROCESSING:\n        return (0, _preact.h)(_Components.ProgressBarProcessing, {\n          progress: calculateProcessingProgress(files)\n        });\n\n      case STATE_COMPLETE:\n        return (0, _preact.h)(_Components.ProgressBarComplete, {\n          i18n: i18n\n        });\n\n      case STATE_ERROR:\n        return (0, _preact.h)(_Components.ProgressBarError, {\n          error: error,\n          i18n: i18n,\n          numUploads: numUploads,\n          complete: complete\n        });\n\n      case STATE_UPLOADING:\n        return (0, _preact.h)(_Components.ProgressBarUploading, {\n          i18n: i18n,\n          supportsUploadProgress: supportsUploadProgress,\n          totalProgress: totalProgress,\n          showProgressDetails: showProgressDetails,\n          isUploadStarted: isUploadStarted,\n          isAllComplete: isAllComplete,\n          isAllPaused: isAllPaused,\n          newFiles: newFiles,\n          numUploads: numUploads,\n          complete: complete,\n          totalUploadedSize: totalUploadedSize,\n          totalSize: totalSize,\n          totalETA: totalETA,\n          startUpload: startUpload\n        });\n\n      default:\n        return null;\n    }\n  })(), (0, _preact.h)(\"div\", {\n    className: \"uppy-StatusBar-actions\"\n  }, recoveredState || showUploadBtn ? (0, _preact.h)(_Components.UploadBtn, {\n    newFiles: newFiles,\n    isUploadStarted: isUploadStarted,\n    recoveredState: recoveredState,\n    i18n: i18n,\n    isSomeGhost: isSomeGhost,\n    startUpload: startUpload,\n    uploadState: uploadState\n  }) : null, showRetryBtn ? (0, _preact.h)(_Components.RetryBtn, {\n    i18n: i18n,\n    uppy: uppy\n  }) : null, showPauseResumeBtn ? (0, _preact.h)(_Components.PauseResumeButton, {\n    isAllPaused: isAllPaused,\n    i18n: i18n,\n    isAllComplete: isAllComplete,\n    resumableUploads: resumableUploads,\n    uppy: uppy\n  }) : null, showCancelBtn ? (0, _preact.h)(_Components.CancelBtn, {\n    i18n: i18n,\n    uppy: uppy\n  }) : null, showDoneBtn ? (0, _preact.h)(_Components.DoneBtn, {\n    i18n: i18n,\n    doneButtonHandler: doneButtonHandler\n  }) : null));\n}\n\nmodule.exports = StatusBar;","\"use strict\";\n\nmodule.exports = {\n  strings: {\n    // Shown in the status bar while files are being uploaded.\n    uploading: 'Uploading',\n    // Shown in the status bar once all files have been uploaded.\n    complete: 'Complete',\n    // Shown in the status bar if an upload failed.\n    uploadFailed: 'Upload failed',\n    // Shown in the status bar while the upload is paused.\n    paused: 'Paused',\n    // Used as the label for the button that retries an upload.\n    retry: 'Retry',\n    // Used as the label for the button that cancels an upload.\n    cancel: 'Cancel',\n    // Used as the label for the button that pauses an upload.\n    pause: 'Pause',\n    // Used as the label for the button that resumes an upload.\n    resume: 'Resume',\n    // Used as the label for the button that resets the upload state after an upload\n    done: 'Done',\n    // When `showProgressDetails` is set, shows the number of files that have been fully uploaded so far.\n    filesUploadedOfTotal: {\n      0: '%{complete} of %{smart_count} file uploaded',\n      1: '%{complete} of %{smart_count} files uploaded'\n    },\n    // When `showProgressDetails` is set, shows the amount of bytes that have been uploaded so far.\n    dataUploadedOfTotal: '%{complete} of %{total}',\n    // When `showProgressDetails` is set, shows an estimation of how long the upload will take to complete.\n    xTimeLeft: '%{time} left',\n    // Used as the label for the button that starts an upload.\n    uploadXFiles: {\n      0: 'Upload %{smart_count} file',\n      1: 'Upload %{smart_count} files'\n    },\n    // Used as the label for the button that starts an upload, if another upload has been started in the past\n    // and new files were added later.\n    uploadXNewFiles: {\n      0: 'Upload +%{smart_count} file',\n      1: 'Upload +%{smart_count} files'\n    },\n    upload: 'Upload',\n    retryUpload: 'Retry upload',\n    xMoreFilesAdded: {\n      0: '%{smart_count} more file added',\n      1: '%{smart_count} more files added'\n    },\n    showErrorDetails: 'Show error details'\n  }\n};","\"use strict\";\n\nvar _core = require(\"@uppy/core\");\n\n// TODO: rename this file to StatusBar.jsx on the next major.\nconst getSpeed = require(\"@uppy/utils/lib/getSpeed\");\n\nconst getBytesRemaining = require(\"@uppy/utils/lib/getBytesRemaining\");\n\nconst getTextDirection = require(\"@uppy/utils/lib/getTextDirection\");\n\nconst statusBarStates = require(\"./StatusBarStates.js\");\n\nconst StatusBarUI = require(\"./StatusBar.js\");\n\nconst packageJson = {\n  \"version\": \"2.2.2\"\n};\n\nconst locale = require(\"./locale.js\");\n\nfunction getTotalSpeed(files) {\n  let totalSpeed = 0;\n  files.forEach(file => {\n    totalSpeed += getSpeed(file.progress);\n  });\n  return totalSpeed;\n}\n\nfunction getTotalETA(files) {\n  const totalSpeed = getTotalSpeed(files);\n\n  if (totalSpeed === 0) {\n    return 0;\n  }\n\n  const totalBytesRemaining = files.reduce((total, file) => {\n    return total + getBytesRemaining(file.progress);\n  }, 0);\n  return Math.round(totalBytesRemaining / totalSpeed * 10) / 10;\n}\n\nfunction getUploadingState(error, isAllComplete, recoveredState, files) {\n  if (error && !isAllComplete) {\n    return statusBarStates.STATE_ERROR;\n  }\n\n  if (isAllComplete) {\n    return statusBarStates.STATE_COMPLETE;\n  }\n\n  if (recoveredState) {\n    return statusBarStates.STATE_WAITING;\n  }\n\n  let state = statusBarStates.STATE_WAITING;\n  const fileIDs = Object.keys(files);\n\n  for (let i = 0; i < fileIDs.length; i++) {\n    const {\n      progress\n    } = files[fileIDs[i]]; // If ANY files are being uploaded right now, show the uploading state.\n\n    if (progress.uploadStarted && !progress.uploadComplete) {\n      return statusBarStates.STATE_UPLOADING;\n    } // If files are being preprocessed AND postprocessed at this time, we show the\n    // preprocess state. If any files are being uploaded we show uploading.\n\n\n    if (progress.preprocess && state !== statusBarStates.STATE_UPLOADING) {\n      state = statusBarStates.STATE_PREPROCESSING;\n    } // If NO files are being preprocessed or uploaded right now, but some files are\n    // being postprocessed, show the postprocess state.\n\n\n    if (progress.postprocess && state !== statusBarStates.STATE_UPLOADING && state !== statusBarStates.STATE_PREPROCESSING) {\n      state = statusBarStates.STATE_POSTPROCESSING;\n    }\n  }\n\n  return state;\n}\n/**\n * StatusBar: renders a status bar with upload/pause/resume/cancel/retry buttons,\n * progress percentage and time remaining.\n */\n\n\nclass StatusBar extends _core.UIPlugin {\n  constructor(uppy, opts) {\n    super(uppy, opts);\n\n    this.startUpload = () => {\n      const {\n        recoveredState\n      } = this.uppy.getState();\n\n      if (recoveredState) {\n        this.uppy.emit('restore-confirmed');\n        return undefined;\n      }\n\n      return this.uppy.upload().catch(() => {// Error logged in Core\n      });\n    };\n\n    this.id = this.opts.id || 'StatusBar';\n    this.title = 'StatusBar';\n    this.type = 'progressindicator';\n    this.defaultLocale = locale; // set default options\n\n    const defaultOptions = {\n      target: 'body',\n      hideUploadButton: false,\n      hideRetryButton: false,\n      hidePauseResumeButton: false,\n      hideCancelButton: false,\n      showProgressDetails: false,\n      hideAfterFinish: true,\n      doneButtonHandler: null\n    };\n    this.opts = { ...defaultOptions,\n      ...opts\n    };\n    this.i18nInit();\n    this.render = this.render.bind(this);\n    this.install = this.install.bind(this);\n  }\n\n  render(state) {\n    const {\n      capabilities,\n      files,\n      allowNewUpload,\n      totalProgress,\n      error,\n      recoveredState\n    } = state;\n    const {\n      newFiles,\n      startedFiles,\n      completeFiles,\n      inProgressNotPausedFiles,\n      isUploadStarted,\n      isAllComplete,\n      isAllErrored,\n      isAllPaused,\n      isUploadInProgress,\n      isSomeGhost\n    } = this.uppy.getObjectOfFilesPerState(); // If some state was recovered, we want to show Upload button/counter\n    // for all the files, because in this case it’s not an Upload button,\n    // but “Confirm Restore Button”\n\n    const newFilesOrRecovered = recoveredState ? Object.values(files) : newFiles;\n    const totalETA = getTotalETA(inProgressNotPausedFiles);\n    const resumableUploads = !!capabilities.resumableUploads;\n    const supportsUploadProgress = capabilities.uploadProgress !== false;\n    let totalSize = 0;\n    let totalUploadedSize = 0;\n    startedFiles.forEach(file => {\n      totalSize += file.progress.bytesTotal || 0;\n      totalUploadedSize += file.progress.bytesUploaded || 0;\n    });\n    return StatusBarUI({\n      error,\n      uploadState: getUploadingState(error, isAllComplete, recoveredState, state.files || {}),\n      allowNewUpload,\n      totalProgress,\n      totalSize,\n      totalUploadedSize,\n      isAllComplete: false,\n      isAllPaused,\n      isAllErrored,\n      isUploadStarted,\n      isUploadInProgress,\n      isSomeGhost,\n      recoveredState,\n      complete: completeFiles.length,\n      newFiles: newFilesOrRecovered.length,\n      numUploads: startedFiles.length,\n      totalETA,\n      files,\n      i18n: this.i18n,\n      uppy: this.uppy,\n      startUpload: this.startUpload,\n      doneButtonHandler: this.opts.doneButtonHandler,\n      resumableUploads,\n      supportsUploadProgress,\n      showProgressDetails: this.opts.showProgressDetails,\n      hideUploadButton: this.opts.hideUploadButton,\n      hideRetryButton: this.opts.hideRetryButton,\n      hidePauseResumeButton: this.opts.hidePauseResumeButton,\n      hideCancelButton: this.opts.hideCancelButton,\n      hideAfterFinish: this.opts.hideAfterFinish,\n      isTargetDOMEl: this.isTargetDOMEl\n    });\n  }\n\n  onMount() {\n    // Set the text direction if the page has not defined one.\n    const element = this.el;\n    const direction = getTextDirection(element);\n\n    if (!direction) {\n      element.dir = 'ltr';\n    }\n  }\n\n  install() {\n    const {\n      target\n    } = this.opts;\n\n    if (target) {\n      this.mount(target, this);\n    }\n  }\n\n  uninstall() {\n    this.unmount();\n  }\n\n}\n\nStatusBar.VERSION = packageJson.version;\nmodule.exports = StatusBar;","\"use strict\";\n\nmodule.exports = require(\"./_StatusBar.js\");","\"use strict\";\n\nvar _preact = require(\"preact\");\n\nconst TRANSITION_MS = 300;\n\nclass FadeIn extends _preact.Component {\n  constructor() {\n    super(...arguments);\n    this.ref = (0, _preact.createRef)();\n  }\n\n  componentWillEnter(callback) {\n    this.ref.current.style.opacity = '1';\n    this.ref.current.style.transform = 'none';\n    setTimeout(callback, TRANSITION_MS);\n  }\n\n  componentWillLeave(callback) {\n    this.ref.current.style.opacity = '0';\n    this.ref.current.style.transform = 'translateY(350%)';\n    setTimeout(callback, TRANSITION_MS);\n  }\n\n  render() {\n    const {\n      children\n    } = this.props;\n    return (0, _preact.h)(\"div\", {\n      className: \"uppy-Informer-animated\",\n      ref: this.ref\n    }, children);\n  }\n\n}\n\nmodule.exports = FadeIn;","\"use strict\";\n\nvar _preact = require(\"preact\");\n\n/* eslint-disable */\n\n/**\n * @source https://github.com/developit/preact-transition-group\n */\nfunction assign(obj, props) {\n  return Object.assign(obj, props);\n}\n\nfunction getKey(vnode, fallback) {\n  var _vnode$key;\n\n  return (_vnode$key = vnode == null ? void 0 : vnode.key) != null ? _vnode$key : fallback;\n}\n\nfunction linkRef(component, name) {\n  const cache = component._ptgLinkedRefs || (component._ptgLinkedRefs = {});\n  return cache[name] || (cache[name] = c => {\n    component.refs[name] = c;\n  });\n}\n\nfunction getChildMapping(children) {\n  const out = {};\n\n  for (let i = 0; i < children.length; i++) {\n    if (children[i] != null) {\n      const key = getKey(children[i], i.toString(36));\n      out[key] = children[i];\n    }\n  }\n\n  return out;\n}\n\nfunction mergeChildMappings(prev, next) {\n  prev = prev || {};\n  next = next || {};\n\n  const getValueForKey = key => next.hasOwnProperty(key) ? next[key] : prev[key]; // For each key of `next`, the list of keys to insert before that key in\n  // the combined list\n\n\n  const nextKeysPending = {};\n  let pendingKeys = [];\n\n  for (const prevKey in prev) {\n    if (next.hasOwnProperty(prevKey)) {\n      if (pendingKeys.length) {\n        nextKeysPending[prevKey] = pendingKeys;\n        pendingKeys = [];\n      }\n    } else {\n      pendingKeys.push(prevKey);\n    }\n  }\n\n  const childMapping = {};\n\n  for (const nextKey in next) {\n    if (nextKeysPending.hasOwnProperty(nextKey)) {\n      for (let i = 0; i < nextKeysPending[nextKey].length; i++) {\n        const pendingNextKey = nextKeysPending[nextKey][i];\n        childMapping[nextKeysPending[nextKey][i]] = getValueForKey(pendingNextKey);\n      }\n    }\n\n    childMapping[nextKey] = getValueForKey(nextKey);\n  } // Finally, add the keys which didn't appear before any key in `next`\n\n\n  for (let i = 0; i < pendingKeys.length; i++) {\n    childMapping[pendingKeys[i]] = getValueForKey(pendingKeys[i]);\n  }\n\n  return childMapping;\n}\n\nconst identity = i => i;\n\nclass TransitionGroup extends _preact.Component {\n  constructor(props, context) {\n    super(props, context);\n    this.refs = {};\n    this.state = {\n      children: getChildMapping((0, _preact.toChildArray)((0, _preact.toChildArray)(this.props.children)) || [])\n    };\n    this.performAppear = this.performAppear.bind(this);\n    this.performEnter = this.performEnter.bind(this);\n    this.performLeave = this.performLeave.bind(this);\n  }\n\n  componentWillMount() {\n    this.currentlyTransitioningKeys = {};\n    this.keysToAbortLeave = [];\n    this.keysToEnter = [];\n    this.keysToLeave = [];\n  }\n\n  componentDidMount() {\n    const initialChildMapping = this.state.children;\n\n    for (const key in initialChildMapping) {\n      if (initialChildMapping[key]) {\n        // this.performAppear(getKey(initialChildMapping[key], key));\n        this.performAppear(key);\n      }\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const nextChildMapping = getChildMapping((0, _preact.toChildArray)(nextProps.children) || []);\n    const prevChildMapping = this.state.children;\n    this.setState(prevState => ({\n      children: mergeChildMappings(prevState.children, nextChildMapping)\n    }));\n    let key;\n\n    for (key in nextChildMapping) {\n      if (nextChildMapping.hasOwnProperty(key)) {\n        const hasPrev = prevChildMapping && prevChildMapping.hasOwnProperty(key); // We should re-enter the component and abort its leave function\n\n        if (nextChildMapping[key] && hasPrev && this.currentlyTransitioningKeys[key]) {\n          this.keysToEnter.push(key);\n          this.keysToAbortLeave.push(key);\n        } else if (nextChildMapping[key] && !hasPrev && !this.currentlyTransitioningKeys[key]) {\n          this.keysToEnter.push(key);\n        }\n      }\n    }\n\n    for (key in prevChildMapping) {\n      if (prevChildMapping.hasOwnProperty(key)) {\n        const hasNext = nextChildMapping && nextChildMapping.hasOwnProperty(key);\n\n        if (prevChildMapping[key] && !hasNext && !this.currentlyTransitioningKeys[key]) {\n          this.keysToLeave.push(key);\n        }\n      }\n    }\n  }\n\n  componentDidUpdate() {\n    const {\n      keysToEnter\n    } = this;\n    this.keysToEnter = [];\n    keysToEnter.forEach(this.performEnter);\n    const {\n      keysToLeave\n    } = this;\n    this.keysToLeave = [];\n    keysToLeave.forEach(this.performLeave);\n  }\n\n  _finishAbort(key) {\n    const idx = this.keysToAbortLeave.indexOf(key);\n\n    if (idx !== -1) {\n      this.keysToAbortLeave.splice(idx, 1);\n    }\n  }\n\n  performAppear(key) {\n    this.currentlyTransitioningKeys[key] = true;\n    const component = this.refs[key];\n\n    if (component.componentWillAppear) {\n      component.componentWillAppear(this._handleDoneAppearing.bind(this, key));\n    } else {\n      this._handleDoneAppearing(key);\n    }\n  }\n\n  _handleDoneAppearing(key) {\n    const component = this.refs[key];\n\n    if (component.componentDidAppear) {\n      component.componentDidAppear();\n    }\n\n    delete this.currentlyTransitioningKeys[key];\n\n    this._finishAbort(key);\n\n    const currentChildMapping = getChildMapping((0, _preact.toChildArray)(this.props.children) || []);\n\n    if (!currentChildMapping || !currentChildMapping.hasOwnProperty(key)) {\n      // This was removed before it had fully appeared. Remove it.\n      this.performLeave(key);\n    }\n  }\n\n  performEnter(key) {\n    this.currentlyTransitioningKeys[key] = true;\n    const component = this.refs[key];\n\n    if (component.componentWillEnter) {\n      component.componentWillEnter(this._handleDoneEntering.bind(this, key));\n    } else {\n      this._handleDoneEntering(key);\n    }\n  }\n\n  _handleDoneEntering(key) {\n    const component = this.refs[key];\n\n    if (component.componentDidEnter) {\n      component.componentDidEnter();\n    }\n\n    delete this.currentlyTransitioningKeys[key];\n\n    this._finishAbort(key);\n\n    const currentChildMapping = getChildMapping((0, _preact.toChildArray)(this.props.children) || []);\n\n    if (!currentChildMapping || !currentChildMapping.hasOwnProperty(key)) {\n      // This was removed before it had fully entered. Remove it.\n      this.performLeave(key);\n    }\n  }\n\n  performLeave(key) {\n    // If we should immediately abort this leave function,\n    // don't run the leave transition at all.\n    const idx = this.keysToAbortLeave.indexOf(key);\n\n    if (idx !== -1) {\n      return;\n    }\n\n    this.currentlyTransitioningKeys[key] = true;\n    const component = this.refs[key];\n\n    if (component.componentWillLeave) {\n      component.componentWillLeave(this._handleDoneLeaving.bind(this, key));\n    } else {\n      // Note that this is somewhat dangerous b/c it calls setState()\n      // again, effectively mutating the component before all the work\n      // is done.\n      this._handleDoneLeaving(key);\n    }\n  }\n\n  _handleDoneLeaving(key) {\n    // If we should immediately abort the leave,\n    // then skip this altogether\n    const idx = this.keysToAbortLeave.indexOf(key);\n\n    if (idx !== -1) {\n      return;\n    }\n\n    const component = this.refs[key];\n\n    if (component.componentDidLeave) {\n      component.componentDidLeave();\n    }\n\n    delete this.currentlyTransitioningKeys[key];\n    const currentChildMapping = getChildMapping((0, _preact.toChildArray)(this.props.children) || []);\n\n    if (currentChildMapping && currentChildMapping.hasOwnProperty(key)) {\n      // This entered again before it fully left. Add it again.\n      this.performEnter(key);\n    } else {\n      const children = assign({}, this.state.children);\n      delete children[key];\n      this.setState({\n        children\n      });\n    }\n  }\n\n  render(_ref, _ref2) {\n    let {\n      childFactory,\n      transitionLeave,\n      transitionName,\n      transitionAppear,\n      transitionEnter,\n      transitionLeaveTimeout,\n      transitionEnterTimeout,\n      transitionAppearTimeout,\n      component,\n      ...props\n    } = _ref;\n    let {\n      children\n    } = _ref2;\n    // TODO: we could get rid of the need for the wrapper node\n    // by cloning a single child\n    const childrenToRender = [];\n\n    for (const key in children) {\n      if (children.hasOwnProperty(key)) {\n        const child = children[key];\n\n        if (child) {\n          const ref = linkRef(this, key),\n                el = (0, _preact.cloneElement)(childFactory(child), {\n            ref,\n            key\n          });\n          childrenToRender.push(el);\n        }\n      }\n    }\n\n    return (0, _preact.h)(component, props, childrenToRender);\n  }\n\n}\n\nTransitionGroup.defaultProps = {\n  component: 'span',\n  childFactory: identity\n};\nmodule.exports = TransitionGroup;","\"use strict\";\n\nvar _preact = require(\"preact\");\n\nvar _core = require(\"@uppy/core\");\n\n/* eslint-disable jsx-a11y/no-noninteractive-element-interactions  */\n\n/* eslint-disable jsx-a11y/click-events-have-key-events */\nconst FadeIn = require(\"./FadeIn.js\");\n\nconst TransitionGroup = require(\"./TransitionGroup.js\");\n\nconst packageJson = {\n  \"version\": \"2.1.1\"\n};\n/**\n * Informer\n * Shows rad message bubbles\n * used like this: `uppy.info('hello world', 'info', 5000)`\n * or for errors: `uppy.info('Error uploading img.jpg', 'error', 5000)`\n *\n */\n\nclass Informer extends _core.UIPlugin {\n  constructor(uppy, opts) {\n    super(uppy, opts);\n\n    this.render = state => {\n      return (0, _preact.h)(\"div\", {\n        className: \"uppy uppy-Informer\"\n      }, (0, _preact.h)(TransitionGroup, null, state.info.map(info => (0, _preact.h)(FadeIn, {\n        key: info.message\n      }, (0, _preact.h)(\"p\", {\n        role: \"alert\"\n      }, info.message, ' ', info.details && (0, _preact.h)(\"span\", {\n        \"aria-label\": info.details,\n        \"data-microtip-position\": \"top-left\",\n        \"data-microtip-size\": \"medium\",\n        role: \"tooltip\" // eslint-disable-next-line no-alert\n        ,\n        onClick: () => alert(`${info.message} \\n\\n ${info.details}`)\n      }, \"?\"))))));\n    };\n\n    this.type = 'progressindicator';\n    this.id = this.opts.id || 'Informer';\n    this.title = 'Informer'; // set default options\n\n    const defaultOptions = {}; // merge default options with the ones set by user\n\n    this.opts = { ...defaultOptions,\n      ...opts\n    };\n  }\n\n  install() {\n    const {\n      target\n    } = this.opts;\n\n    if (target) {\n      this.mount(target, this);\n    }\n  }\n\n}\n\nInformer.VERSION = packageJson.version;\nmodule.exports = Informer;","\"use strict\";\n\nmodule.exports = require(\"./Informer.js\");","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?t(exports):\"function\"==typeof define&&define.amd?define(\"exifr\",[\"exports\"],t):t((e=\"undefined\"!=typeof globalThis?globalThis:e||self).exifr={})}(this,(function(e){\"use strict\";function t(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var s=\"undefined\"!=typeof self?self:global;const i=\"undefined\"!=typeof navigator,n=i&&\"undefined\"==typeof HTMLImageElement,r=!(\"undefined\"==typeof global||\"undefined\"==typeof process||!process.versions||!process.versions.node),a=s.Buffer,h=!!a,f=e=>void 0!==e;function l(e){return void 0===e||(e instanceof Map?0===e.size:0===Object.values(e).filter(f).length)}function o(e){let t=new Error(e);throw delete t.stack,t}function u(e){let t=function(e){let t=0;return e.ifd0.enabled&&(t+=1024),e.exif.enabled&&(t+=2048),e.makerNote&&(t+=2048),e.userComment&&(t+=1024),e.gps.enabled&&(t+=512),e.interop.enabled&&(t+=100),e.ifd1.enabled&&(t+=1024),t+2048}(e);return e.jfif.enabled&&(t+=50),e.xmp.enabled&&(t+=2e4),e.iptc.enabled&&(t+=14e3),e.icc.enabled&&(t+=6e3),t}const d=e=>String.fromCharCode.apply(null,e),c=\"undefined\"!=typeof TextDecoder?new TextDecoder(\"utf-8\"):void 0;class p{static from(e,t){return e instanceof this&&e.le===t?e:new p(e,void 0,void 0,t)}constructor(e,t=0,s,i){if(\"boolean\"==typeof i&&(this.le=i),Array.isArray(e)&&(e=new Uint8Array(e)),0===e)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){void 0===s&&(s=e.byteLength-t);let i=new DataView(e,t,s);this._swapDataView(i)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof p){void 0===s&&(s=e.byteLength-t),(t+=e.byteOffset)+s>e.byteOffset+e.byteLength&&o(\"Creating view outside of available memory in ArrayBuffer\");let i=new DataView(e.buffer,t,s);this._swapDataView(i)}else if(\"number\"==typeof e){let t=new DataView(new ArrayBuffer(e));this._swapDataView(t)}else o(\"Invalid input argument for BufferView: \"+e)}_swapArrayBuffer(e){this._swapDataView(new DataView(e))}_swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}_swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}_lengthToEnd(e){return this.byteLength-e}set(e,t,s=p){return e instanceof DataView||e instanceof p?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||o(\"BufferView.set(): Invalid data argument.\"),this.toUint8().set(e,t),new s(this,t,e.byteLength)}subarray(e,t){return t=t||this._lengthToEnd(e),new p(this,e,t)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(e,t){return new Uint8Array(this.buffer,this.byteOffset+e,t)}getString(e=0,t=this.byteLength){let s=this.getUint8Array(e,t);return i=s,c?c.decode(i):h?Buffer.from(i).toString(\"utf8\"):decodeURIComponent(escape(d(i)));var i}getLatin1String(e=0,t=this.byteLength){let s=this.getUint8Array(e,t);return d(s)}getUnicodeString(e=0,t=this.byteLength){const s=[];for(let i=0;i<t&&e+i<this.byteLength;i+=2)s.push(this.getUint16(e+i));return d(s)}getInt8(e){return this.dataView.getInt8(e)}getUint8(e){return this.dataView.getUint8(e)}getInt16(e,t=this.le){return this.dataView.getInt16(e,t)}getInt32(e,t=this.le){return this.dataView.getInt32(e,t)}getUint16(e,t=this.le){return this.dataView.getUint16(e,t)}getUint32(e,t=this.le){return this.dataView.getUint32(e,t)}getFloat32(e,t=this.le){return this.dataView.getFloat32(e,t)}getFloat64(e,t=this.le){return this.dataView.getFloat64(e,t)}getFloat(e,t=this.le){return this.dataView.getFloat32(e,t)}getDouble(e,t=this.le){return this.dataView.getFloat64(e,t)}getUintBytes(e,t,s){switch(t){case 1:return this.getUint8(e,s);case 2:return this.getUint16(e,s);case 4:return this.getUint32(e,s);case 8:return this.getUint64&&this.getUint64(e,s)}}getUint(e,t,s){switch(t){case 8:return this.getUint8(e,s);case 16:return this.getUint16(e,s);case 32:return this.getUint32(e,s);case 64:return this.getUint64&&this.getUint64(e,s)}}toString(e){return this.dataView.toString(e,this.constructor.name)}ensureChunk(){}}function g(e,t){o(`${e} '${t}' was not loaded, try using full build of exifr.`)}class m extends Map{constructor(e){super(),this.kind=e}get(e,t){return this.has(e)||g(this.kind,e),t&&(e in t||function(e,t){o(`Unknown ${e} '${t}'.`)}(this.kind,e),t[e].enabled||g(this.kind,e)),super.get(e)}keyList(){return Array.from(this.keys())}}var y=new m(\"file parser\"),b=new m(\"segment parser\"),w=new m(\"file reader\");let k=s.fetch;const O=\"Invalid input argument\";function v(e,t){return(s=e).startsWith(\"data:\")||s.length>1e4?A(e,t,\"base64\"):r&&e.includes(\"://\")?S(e,t,\"url\",U):r?A(e,t,\"fs\"):i?S(e,t,\"url\",U):void o(O);var s}async function S(e,t,s,i){return w.has(s)?A(e,t,s):i?async function(e,t){let s=await t(e);return new p(s)}(e,i):void o(`Parser ${s} is not loaded`)}async function A(e,t,s){let i=new(w.get(s))(e,t);return await i.read(),i}const U=e=>k(e).then((e=>e.arrayBuffer())),x=e=>new Promise(((t,s)=>{let i=new FileReader;i.onloadend=()=>t(i.result||new ArrayBuffer),i.onerror=s,i.readAsArrayBuffer(e)}));class C extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}}function B(e,t,s){let i=new C;for(let[e,t]of s)i.set(e,t);if(Array.isArray(t))for(let s of t)e.set(s,i);else e.set(t,i);return i}function V(e,t,s){let i,n=e.get(t);for(i of s)n.set(i[0],i[1])}const I=new Map,L=new Map,T=new Map,P=37500,z=37510,F=33723,j=34675,E=34665,_=34853,D=40965,M=[\"chunked\",\"firstChunkSize\",\"firstChunkSizeNode\",\"firstChunkSizeBrowser\",\"chunkSize\",\"chunkLimit\"],N=[\"jfif\",\"xmp\",\"icc\",\"iptc\",\"ihdr\"],R=[\"tiff\",...N],$=[\"ifd0\",\"ifd1\",\"exif\",\"gps\",\"interop\"],K=[...R,...$],W=[\"makerNote\",\"userComment\"],X=[\"translateKeys\",\"translateValues\",\"reviveValues\",\"multiSegment\"],H=[...X,\"sanitize\",\"mergeOutput\",\"silentErrors\"];class Y{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class G extends Y{get needed(){return this.enabled||this.deps.size>0}constructor(e,s,i,n){if(super(),t(this,\"enabled\",!1),t(this,\"skip\",new Set),t(this,\"pick\",new Set),t(this,\"deps\",new Set),t(this,\"translateKeys\",!1),t(this,\"translateValues\",!1),t(this,\"reviveValues\",!1),this.key=e,this.enabled=s,this.parse=this.enabled,this.applyInheritables(n),this.canBeFiltered=$.includes(e),this.canBeFiltered&&(this.dict=I.get(e)),void 0!==i)if(Array.isArray(i))this.parse=this.enabled=!0,this.canBeFiltered&&i.length>0&&this.translateTagSet(i,this.pick);else if(\"object\"==typeof i){if(this.enabled=!0,this.parse=!1!==i.parse,this.canBeFiltered){let{pick:e,skip:t}=i;e&&e.length>0&&this.translateTagSet(e,this.pick),t&&t.length>0&&this.translateTagSet(t,this.skip)}this.applyInheritables(i)}else!0===i||!1===i?this.parse=this.enabled=i:o(`Invalid options argument: ${i}`)}applyInheritables(e){let t,s;for(t of X)s=e[t],void 0!==s&&(this[t]=s)}translateTagSet(e,t){if(this.dict){let s,i,{tagKeys:n,tagValues:r}=this.dict;for(s of e)\"string\"==typeof s?(i=r.indexOf(s),-1===i&&(i=n.indexOf(Number(s))),-1!==i&&t.add(Number(n[i]))):t.add(s)}else for(let s of e)t.add(s)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,te(this.pick,this.deps)):this.enabled&&this.pick.size>0&&te(this.pick,this.deps)}}var J={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},q=new Map;class Q extends Y{static useCached(e){let t=q.get(e);return void 0!==t||(t=new this(e),q.set(e,t)),t}constructor(e){super(),!0===e?this.setupFromTrue():void 0===e?this.setupFromUndefined():Array.isArray(e)?this.setupFromArray(e):\"object\"==typeof e?this.setupFromObject(e):o(`Invalid options argument ${e}`),void 0===this.firstChunkSize&&(this.firstChunkSize=i?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let e;for(e of M)this[e]=J[e];for(e of H)this[e]=J[e];for(e of W)this[e]=J[e];for(e of K)this[e]=new G(e,J[e],void 0,this)}setupFromTrue(){let e;for(e of M)this[e]=J[e];for(e of H)this[e]=J[e];for(e of W)this[e]=!0;for(e of K)this[e]=new G(e,!0,void 0,this)}setupFromArray(e){let t;for(t of M)this[t]=J[t];for(t of H)this[t]=J[t];for(t of W)this[t]=J[t];for(t of K)this[t]=new G(t,!1,void 0,this);this.setupGlobalFilters(e,void 0,$)}setupFromObject(e){let t;for(t of($.ifd0=$.ifd0||$.image,$.ifd1=$.ifd1||$.thumbnail,Object.assign(this,e),M))this[t]=ee(e[t],J[t]);for(t of H)this[t]=ee(e[t],J[t]);for(t of W)this[t]=ee(e[t],J[t]);for(t of R)this[t]=new G(t,J[t],e[t],this);for(t of $)this[t]=new G(t,J[t],e[t],this.tiff);this.setupGlobalFilters(e.pick,e.skip,$,K),!0===e.tiff?this.batchEnableWithBool($,!0):!1===e.tiff?this.batchEnableWithUserValue($,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,$):\"object\"==typeof e.tiff&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,$)}batchEnableWithBool(e,t){for(let s of e)this[s].enabled=t}batchEnableWithUserValue(e,t){for(let s of e){let e=t[s];this[s].enabled=!1!==e&&void 0!==e}}setupGlobalFilters(e,t,s,i=s){if(e&&e.length){for(let e of i)this[e].enabled=!1;let t=Z(e,s);for(let[e,s]of t)te(this[e].pick,s),this[e].enabled=!0}else if(t&&t.length){let e=Z(t,s);for(let[t,s]of e)te(this[t].skip,s)}}filterNestedSegmentTags(){let{ifd0:e,exif:t,xmp:s,iptc:i,icc:n}=this;this.makerNote?t.deps.add(P):t.skip.add(P),this.userComment?t.deps.add(z):t.skip.add(z),s.enabled||e.skip.add(700),i.enabled||e.skip.add(F),n.enabled||e.skip.add(j)}traverseTiffDependencyTree(){let{ifd0:e,exif:t,gps:s,interop:i}=this;i.needed&&(t.deps.add(D),e.deps.add(D)),t.needed&&e.deps.add(E),s.needed&&e.deps.add(_),this.tiff.enabled=$.some((e=>!0===this[e].enabled))||this.makerNote||this.userComment;for(let e of $)this[e].finalizeFilters()}get onlyTiff(){return!N.map((e=>this[e].enabled)).some((e=>!0===e))&&this.tiff.enabled}checkLoadedPlugins(){for(let e of R)this[e].enabled&&!b.has(e)&&g(\"segment parser\",e)}}function Z(e,t){let s,i,n,r,a=[];for(n of t){for(r of(s=I.get(n),i=[],s))(e.includes(r[0])||e.includes(r[1]))&&i.push(r[0]);i.length&&a.push([n,i])}return a}function ee(e,t){return void 0!==e?e:void 0!==t?t:void 0}function te(e,t){for(let s of t)e.add(s)}t(Q,\"default\",J);class se{constructor(e){t(this,\"parsers\",{}),t(this,\"output\",{}),t(this,\"errors\",[]),t(this,\"pushToErrors\",(e=>this.errors.push(e))),this.options=Q.useCached(e)}async read(e){this.file=await function(e,t){return\"string\"==typeof e?v(e,t):i&&!n&&e instanceof HTMLImageElement?v(e.src,t):e instanceof Uint8Array||e instanceof ArrayBuffer||e instanceof DataView?new p(e):i&&e instanceof Blob?S(e,t,\"blob\",x):void o(O)}(e,this.options)}setup(){if(this.fileParser)return;let{file:e}=this,t=e.getUint16(0);for(let[s,i]of y)if(i.canHandle(e,t))return this.fileParser=new i(this.options,this.file,this.parsers),e[s]=!0;this.file.close&&this.file.close(),o(\"Unknown file format\")}async parse(){let{output:e,errors:t}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),t.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&t.length>0&&(e.errors=t),l(s=e)?void 0:s;var s}async executeParsers(){let{output:e}=this;await this.fileParser.parse();let t=Object.values(this.parsers).map((async t=>{let s=await t.parse();t.assignToOutput(e,s)}));this.options.silentErrors&&(t=t.map((e=>e.catch(this.pushToErrors)))),await Promise.all(t)}async extractThumbnail(){this.setup();let{options:e,file:t}=this,s=b.get(\"tiff\",e);var i;if(t.tiff?i={start:0,type:\"tiff\"}:t.jpeg&&(i=await this.fileParser.getOrFindSegment(\"tiff\")),void 0===i)return;let n=await this.fileParser.ensureSegmentChunk(i),r=this.parsers.tiff=new s(n,e,t),a=await r.extractThumbnail();return t.close&&t.close(),a}}async function ie(e,t){let s=new se(t);return await s.read(e),s.parse()}var ne=Object.freeze({__proto__:null,parse:ie,Exifr:se,fileParsers:y,segmentParsers:b,fileReaders:w,tagKeys:I,tagValues:L,tagRevivers:T,createDictionary:B,extendDictionary:V,fetchUrlAsArrayBuffer:U,readBlobAsArrayBuffer:x,chunkedProps:M,otherSegments:N,segments:R,tiffBlocks:$,segmentsAndBlocks:K,tiffExtractables:W,inheritables:X,allFormatters:H,Options:Q});class re{static findPosition(e,t){let s=e.getUint16(t+2)+2,i=\"function\"==typeof this.headerLength?this.headerLength(e,t,s):this.headerLength,n=t+i,r=s-i;return{offset:t,length:s,headerLength:i,start:n,size:r,end:n+r}}static parse(e,t={}){return new this(e,new Q({[this.type]:t}),e).parse()}normalizeInput(e){return e instanceof p?e:new p(e)}constructor(e,s={},i){t(this,\"errors\",[]),t(this,\"raw\",new Map),t(this,\"handleError\",(e=>{if(!this.options.silentErrors)throw e;this.errors.push(e.message)})),this.chunk=this.normalizeInput(e),this.file=i,this.type=this.constructor.type,this.globalOptions=this.options=s,this.localOptions=s[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(e,t){let s=T.get(t),i=L.get(t),n=I.get(t),r=this.options[t],a=r.reviveValues&&!!s,h=r.translateValues&&!!i,f=r.translateKeys&&!!n,l={};for(let[t,r]of e)a&&s.has(t)?r=s.get(t)(r):h&&i.has(t)&&(r=this.translateValue(r,i.get(t))),f&&n.has(t)&&(t=n.get(t)||t),l[t]=r;return l}translateValue(e,t){return t[e]||t.DEFAULT||e}assignToOutput(e,t){this.assignObjectToOutput(e,this.constructor.type,t)}assignObjectToOutput(e,t,s){if(this.globalOptions.mergeOutput)return Object.assign(e,s);e[t]?Object.assign(e[t],s):e[t]=s}}t(re,\"headerLength\",4),t(re,\"type\",void 0),t(re,\"multiSegment\",!1),t(re,\"canHandle\",(()=>!1));function ae(e){return 192===e||194===e||196===e||219===e||221===e||218===e||254===e}function he(e){return e>=224&&e<=239}function fe(e,t,s){for(let[i,n]of b)if(n.canHandle(e,t,s))return i}class le extends class{constructor(e,s,i){t(this,\"errors\",[]),t(this,\"ensureSegmentChunk\",(async e=>{let t=e.start,s=e.size||65536;if(this.file.chunked)if(this.file.available(t,s))e.chunk=this.file.subarray(t,s);else try{e.chunk=await this.file.readChunk(t,s)}catch(t){o(`Couldn't read segment: ${JSON.stringify(e)}. ${t.message}`)}else this.file.byteLength>t+s?e.chunk=this.file.subarray(t,s):void 0===e.size?e.chunk=this.file.subarray(t):o(\"Segment unreachable: \"+JSON.stringify(e));return e.chunk})),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=s,this.parsers=i}injectSegment(e,t){this.options[e].enabled&&this.createParser(e,t)}createParser(e,t){let s=new(b.get(e))(t,this.options,this.file);return this.parsers[e]=s}createParsers(e){for(let t of e){let{type:e,chunk:s}=t,i=this.options[e];if(i&&i.enabled){let t=this.parsers[e];t&&t.append||t||this.createParser(e,s)}}}async readSegments(e){let t=e.map(this.ensureSegmentChunk);await Promise.all(t)}}{constructor(...e){super(...e),t(this,\"appSegments\",[]),t(this,\"jpegSegments\",[]),t(this,\"unknownSegments\",[])}static canHandle(e,t){return 65496===t}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(e){!0===e?(this.findAll=!0,this.wanted=new Set(b.keyList())):(e=void 0===e?b.keyList().filter((e=>this.options[e].enabled)):e.filter((e=>this.options[e].enabled&&b.has(e))),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}async findAppSegments(e=0,t){this.setupSegmentFinderArgs(t);let{file:s,findAll:i,wanted:n,remaining:r}=this;if(!i&&this.file.chunked&&(i=Array.from(n).some((e=>{let t=b.get(e),s=this.options[e];return t.multiSegment&&s.multiSegment})),i&&await this.file.readWhole()),e=this.findAppSegmentsInRange(e,s.byteLength),!this.options.onlyTiff&&s.chunked){let t=!1;for(;r.size>0&&!t&&(s.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:i}=s,n=this.appSegments.some((e=>!this.file.available(e.offset||e.start,e.length||e.size)));if(t=e>i&&!n?!await s.readNextChunk(e):!await s.readNextChunk(i),void 0===(e=this.findAppSegmentsInRange(e,s.byteLength)))return}}}findAppSegmentsInRange(e,t){t-=2;let s,i,n,r,a,h,{file:f,findAll:l,wanted:o,remaining:u,options:d}=this;for(;e<t;e++)if(255===f.getUint8(e))if(s=f.getUint8(e+1),he(s)){if(i=f.getUint16(e+2),n=fe(f,e,i),n&&o.has(n)&&(r=b.get(n),a=r.findPosition(f,e),h=d[n],a.type=n,this.appSegments.push(a),!l&&(r.multiSegment&&h.multiSegment?(this.unfinishedMultiSegment=a.chunkNumber<a.chunkCount,this.unfinishedMultiSegment||u.delete(n)):u.delete(n),0===u.size)))break;d.recordUnknownSegments&&(a=re.findPosition(f,e),a.marker=s,this.unknownSegments.push(a)),e+=i+1}else if(ae(s)){if(i=f.getUint16(e+2),218===s&&!1!==d.stopAfterSos)return;d.recordJpegSegments&&this.jpegSegments.push({offset:e,length:i,marker:s}),e+=i+1}return e}mergeMultiSegments(){if(!this.appSegments.some((e=>e.multiSegment)))return;let e=function(e,t){let s,i,n,r=new Map;for(let a=0;a<e.length;a++)s=e[a],i=s[t],r.has(i)?n=r.get(i):r.set(i,n=[]),n.push(s);return Array.from(r)}(this.appSegments,\"type\");this.mergedAppSegments=e.map((([e,t])=>{let s=b.get(e,this.options);if(s.handleMultiSegments){return{type:e,chunk:s.handleMultiSegments(t)}}return t[0]}))}getSegment(e){return this.appSegments.find((t=>t.type===e))}async getOrFindSegment(e){let t=this.getSegment(e);return void 0===t&&(await this.findAppSegments(0,[e]),t=this.getSegment(e)),t}}t(le,\"type\",\"jpeg\"),y.set(\"jpeg\",le);const oe=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class ue extends re{parseHeader(){var e=this.chunk.getUint16();18761===e?this.le=!0:19789===e&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(e,t,s=new Map){let{pick:i,skip:n}=this.options[t];i=new Set(i);let r=i.size>0,a=0===n.size,h=this.chunk.getUint16(e);e+=2;for(let f=0;f<h;f++){let h=this.chunk.getUint16(e);if(r){if(i.has(h)&&(s.set(h,this.parseTag(e,h,t)),i.delete(h),0===i.size))break}else!a&&n.has(h)||s.set(h,this.parseTag(e,h,t));e+=12}return s}parseTag(e,t,s){let{chunk:i}=this,n=i.getUint16(e+2),r=i.getUint32(e+4),a=oe[n];if(a*r<=4?e+=8:e=i.getUint32(e+8),(n<1||n>13)&&o(`Invalid TIFF value type. block: ${s.toUpperCase()}, tag: ${t.toString(16)}, type: ${n}, offset ${e}`),e>i.byteLength&&o(`Invalid TIFF value offset. block: ${s.toUpperCase()}, tag: ${t.toString(16)}, type: ${n}, offset ${e} is outside of chunk size ${i.byteLength}`),1===n)return i.getUint8Array(e,r);if(2===n)return\"\"===(h=function(e){for(;e.endsWith(\"\\0\");)e=e.slice(0,-1);return e}(h=i.getString(e,r)).trim())?void 0:h;var h;if(7===n)return i.getUint8Array(e,r);if(1===r)return this.parseTagValue(n,e);{let t=new(function(e){switch(e){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(n))(r),s=a;for(let i=0;i<r;i++)t[i]=this.parseTagValue(n,e),e+=s;return t}}parseTagValue(e,t){let{chunk:s}=this;switch(e){case 1:return s.getUint8(t);case 3:return s.getUint16(t);case 4:return s.getUint32(t);case 5:return s.getUint32(t)/s.getUint32(t+4);case 6:return s.getInt8(t);case 8:return s.getInt16(t);case 9:return s.getInt32(t);case 10:return s.getInt32(t)/s.getInt32(t+4);case 11:return s.getFloat(t);case 12:return s.getDouble(t);case 13:return s.getUint32(t);default:o(`Invalid tiff type ${e}`)}}}class de extends ue{static canHandle(e,t){return 225===e.getUint8(t+1)&&1165519206===e.getUint32(t+4)&&0===e.getUint16(t+8)}async parse(){this.parseHeader();let{options:e}=this;return e.ifd0.enabled&&await this.parseIfd0Block(),e.exif.enabled&&await this.safeParse(\"parseExifBlock\"),e.gps.enabled&&await this.safeParse(\"parseGpsBlock\"),e.interop.enabled&&await this.safeParse(\"parseInteropBlock\"),e.ifd1.enabled&&await this.safeParse(\"parseThumbnailBlock\"),this.createOutput()}safeParse(e){let t=this[e]();return void 0!==t.catch&&(t=t.catch(this.handleError)),t}findIfd0Offset(){void 0===this.ifd0Offset&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(void 0===this.ifd1Offset){this.findIfd0Offset();let e=this.chunk.getUint16(this.ifd0Offset),t=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(t)}}parseBlock(e,t){let s=new Map;return this[t]=s,this.parseTags(e,t,s),s}async parseIfd0Block(){if(this.ifd0)return;let{file:e}=this;this.findIfd0Offset(),this.ifd0Offset<8&&o(\"Malformed EXIF data\"),!e.chunked&&this.ifd0Offset>e.byteLength&&o(`IFD0 offset points to outside of file.\\nthis.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${e.byteLength}`),e.tiff&&await e.ensureChunk(this.ifd0Offset,u(this.options));let t=this.parseBlock(this.ifd0Offset,\"ifd0\");return 0!==t.size?(this.exifOffset=t.get(E),this.interopOffset=t.get(D),this.gpsOffset=t.get(_),this.xmp=t.get(700),this.iptc=t.get(F),this.icc=t.get(j),this.options.sanitize&&(t.delete(E),t.delete(D),t.delete(_),t.delete(700),t.delete(F),t.delete(j)),t):void 0}async parseExifBlock(){if(this.exif)return;if(this.ifd0||await this.parseIfd0Block(),void 0===this.exifOffset)return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,u(this.options));let e=this.parseBlock(this.exifOffset,\"exif\");return this.interopOffset||(this.interopOffset=e.get(D)),this.makerNote=e.get(P),this.userComment=e.get(z),this.options.sanitize&&(e.delete(D),e.delete(P),e.delete(z)),this.unpack(e,41728),this.unpack(e,41729),e}unpack(e,t){let s=e.get(t);s&&1===s.length&&e.set(t,s[0])}async parseGpsBlock(){if(this.gps)return;if(this.ifd0||await this.parseIfd0Block(),void 0===this.gpsOffset)return;let e=this.parseBlock(this.gpsOffset,\"gps\");return e&&e.has(2)&&e.has(4)&&(e.set(\"latitude\",ce(...e.get(2),e.get(1))),e.set(\"longitude\",ce(...e.get(4),e.get(3)))),e}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),void 0!==this.interopOffset||this.exif||await this.parseExifBlock(),void 0!==this.interopOffset))return this.parseBlock(this.interopOffset,\"interop\")}async parseThumbnailBlock(e=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||e))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,\"ifd1\"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),void 0===this.ifd1)return;let e=this.ifd1.get(513),t=this.ifd1.get(514);return this.chunk.getUint8Array(e,t)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let e,t,s,i={};for(t of $)if(e=this[t],!l(e))if(s=this.canTranslate?this.translateBlock(e,t):Object.fromEntries(e),this.options.mergeOutput){if(\"ifd1\"===t)continue;Object.assign(i,s)}else i[t]=s;return this.makerNote&&(i.makerNote=this.makerNote),this.userComment&&(i.userComment=this.userComment),i}assignToOutput(e,t){if(this.globalOptions.mergeOutput)Object.assign(e,t);else for(let[s,i]of Object.entries(t))this.assignObjectToOutput(e,s,i)}}function ce(e,t,s,i){var n=e+t/60+s/3600;return\"S\"!==i&&\"W\"!==i||(n*=-1),n}t(de,\"type\",\"tiff\"),t(de,\"headerLength\",10),b.set(\"tiff\",de);var pe=Object.freeze({__proto__:null,default:ne,Exifr:se,fileParsers:y,segmentParsers:b,fileReaders:w,tagKeys:I,tagValues:L,tagRevivers:T,createDictionary:B,extendDictionary:V,fetchUrlAsArrayBuffer:U,readBlobAsArrayBuffer:x,chunkedProps:M,otherSegments:N,segments:R,tiffBlocks:$,segmentsAndBlocks:K,tiffExtractables:W,inheritables:X,allFormatters:H,Options:Q,parse:ie});const ge={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},me=Object.assign({},ge,{firstChunkSize:4e4,gps:[1,2,3,4]});const ye=Object.assign({},ge,{tiff:!1,ifd1:!0,mergeOutput:!1});const be=Object.assign({},ge,{firstChunkSize:4e4,ifd0:[274]});async function we(e){let t=new se(be);await t.read(e);let s=await t.parse();if(s&&s.ifd0)return s.ifd0[274]}const ke=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});if(e.rotateCanvas=!0,e.rotateCss=!0,\"object\"==typeof navigator){let t=navigator.userAgent;if(t.includes(\"iPad\")||t.includes(\"iPhone\")){let s=t.match(/OS (\\d+)_(\\d+)/);if(s){let[,t,i]=s,n=Number(t)+.1*Number(i);e.rotateCanvas=n<13.4,e.rotateCss=!1}}else if(t.includes(\"OS X 10\")){let[,s]=t.match(/OS X 10[_.](\\d+)/);e.rotateCanvas=e.rotateCss=Number(s)<15}if(t.includes(\"Chrome/\")){let[,s]=t.match(/Chrome\\/(\\d+)/);e.rotateCanvas=e.rotateCss=Number(s)<81}else if(t.includes(\"Firefox/\")){let[,s]=t.match(/Firefox\\/(\\d+)/);e.rotateCanvas=e.rotateCss=Number(s)<77}}class Oe extends p{constructor(...e){super(...e),t(this,\"ranges\",new ve),0!==this.byteLength&&this.ranges.add(0,this.byteLength)}_tryExtend(e,t,s){if(0===e&&0===this.byteLength&&s){let e=new DataView(s.buffer||s,s.byteOffset,s.byteLength);this._swapDataView(e)}else{let s=e+t;if(s>this.byteLength){let{dataView:e}=this._extend(s);this._swapDataView(e)}}}_extend(e){let t;t=h?a.allocUnsafe(e):new Uint8Array(e);let s=new DataView(t.buffer,t.byteOffset,t.byteLength);return t.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:t,dataView:s}}subarray(e,t,s=!1){return t=t||this._lengthToEnd(e),s&&this._tryExtend(e,t),this.ranges.add(e,t),super.subarray(e,t)}set(e,t,s=!1){s&&this._tryExtend(t,e.byteLength,e);let i=super.set(e,t);return this.ranges.add(t,i.byteLength),i}async ensureChunk(e,t){this.chunked&&(this.ranges.available(e,t)||await this.readChunk(e,t))}available(e,t){return this.ranges.available(e,t)}}class ve{constructor(){t(this,\"list\",[])}get length(){return this.list.length}add(e,t,s=0){let i=e+t,n=this.list.filter((t=>Se(e,t.offset,i)||Se(e,t.end,i)));if(n.length>0){e=Math.min(e,...n.map((e=>e.offset))),i=Math.max(i,...n.map((e=>e.end))),t=i-e;let s=n.shift();s.offset=e,s.length=t,s.end=i,this.list=this.list.filter((e=>!n.includes(e)))}else this.list.push({offset:e,length:t,end:i})}available(e,t){let s=e+t;return this.list.some((t=>t.offset<=e&&s<=t.end))}}function Se(e,t,s){return e<=t&&t<=s}class Ae extends Oe{constructor(e,s){super(0),t(this,\"chunksRead\",0),this.input=e,this.options=s}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(e=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let t=this.options.chunkSize,s=await this.readChunk(e,t);return!!s&&s.byteLength===t}async readChunk(e,t){if(this.chunksRead++,0!==(t=this.safeWrapAddress(e,t)))return this._readChunk(e,t)}safeWrapAddress(e,t){return void 0!==this.size&&e+t>this.size?Math.max(0,this.size-e):t}get nextChunkOffset(){if(0!==this.ranges.list.length)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return void 0!==this.size&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}w.set(\"blob\",class extends Ae{async readWhole(){this.chunked=!1;let e=await x(this.input);this._swapArrayBuffer(e)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(e,t){let s=t?e+t:void 0,i=this.input.slice(e,s),n=await x(i);return this.set(n,e,!0)}}),e.Exifr=se,e.Options=Q,e.allFormatters=H,e.chunkedProps=M,e.createDictionary=B,e.default=pe,e.extendDictionary=V,e.fetchUrlAsArrayBuffer=U,e.fileParsers=y,e.fileReaders=w,e.gps=async function(e){let t=new se(me);await t.read(e);let s=await t.parse();if(s&&s.gps){let{latitude:e,longitude:t}=s.gps;return{latitude:e,longitude:t}}},e.gpsOnlyOptions=me,e.inheritables=X,e.orientation=we,e.orientationOnlyOptions=be,e.otherSegments=N,e.parse=ie,e.readBlobAsArrayBuffer=x,e.rotation=async function(t){let s=await we(t);return Object.assign({canvas:e.rotateCanvas,css:e.rotateCss},ke[s])},e.rotations=ke,e.segmentParsers=b,e.segments=R,e.segmentsAndBlocks=K,e.tagKeys=I,e.tagRevivers=T,e.tagValues=L,e.thumbnail=async function(e){let t=new se(ye);await t.read(e);let s=await t.extractThumbnail();return s&&h?a.from(s):s},e.thumbnailOnlyOptions=ye,e.thumbnailUrl=async function(e){let t=await this.thumbnail(e);if(void 0!==t){let e=new Blob([t]);return URL.createObjectURL(e)}},e.tiffBlocks=$,e.tiffExtractables=W,Object.defineProperty(e,\"__esModule\",{value:!0})}));\n","\"use strict\";\n\nconst DATA_URL_PATTERN = /^data:([^/]+\\/[^,;]+(?:[^,]*?))(;base64)?,([\\s\\S]*)$/;\n\nfunction dataURItoBlob(dataURI, opts, toFile) {\n  var _ref, _opts$mimeType;\n\n  // get the base64 data\n  const dataURIData = DATA_URL_PATTERN.exec(dataURI); // user may provide mime type, if not get it from data URI\n\n  const mimeType = (_ref = (_opts$mimeType = opts.mimeType) != null ? _opts$mimeType : dataURIData == null ? void 0 : dataURIData[1]) != null ? _ref : 'plain/text';\n  let data;\n\n  if (dataURIData[2] != null) {\n    const binary = atob(decodeURIComponent(dataURIData[3]));\n    const bytes = new Uint8Array(binary.length);\n\n    for (let i = 0; i < binary.length; i++) {\n      bytes[i] = binary.charCodeAt(i);\n    }\n\n    data = [bytes];\n  } else {\n    data = [decodeURIComponent(dataURIData[3])];\n  } // Convert to a File?\n\n\n  if (toFile) {\n    return new File(data, opts.name || '', {\n      type: mimeType\n    });\n  }\n\n  return new Blob(data, {\n    type: mimeType\n  });\n}\n\nmodule.exports = dataURItoBlob;","\"use strict\";\n\nfunction isObjectURL(url) {\n  return url.startsWith('blob:');\n}\n\n/**\n * Check if a URL string is an object URL from `URL.createObjectURL`.\n *\n * @param {string} url\n * @returns {boolean}\n */\nmodule.exports = isObjectURL;","\"use strict\";\n\nfunction isPreviewSupported(fileType) {\n  if (!fileType) return false; // list of images that browsers can preview\n\n  return /^[^/]+\\/(jpe?g|gif|png|svg|svg\\+xml|bmp|webp|avif)$/.test(fileType);\n}\n\nmodule.exports = isPreviewSupported;","\"use strict\";\n\nmodule.exports = {\n  strings: {\n    generatingThumbnails: 'Generating thumbnails...'\n  }\n};","\"use strict\";\n\nvar _core = require(\"@uppy/core\");\n\nvar _miniUmd = require(\"exifr/dist/mini.umd.js\");\n\nconst dataURItoBlob = require(\"@uppy/utils/lib/dataURItoBlob\");\n\nconst isObjectURL = require(\"@uppy/utils/lib/isObjectURL\");\n\nconst isPreviewSupported = require(\"@uppy/utils/lib/isPreviewSupported\");\n\nconst locale = require(\"./locale.js\");\n\nconst packageJson = {\n  \"version\": \"2.2.2\"\n};\n/**\n * Save a <canvas> element's content to a Blob object.\n *\n * @param {HTMLCanvasElement} canvas\n * @returns {Promise}\n */\n\nfunction canvasToBlob(canvas, type, quality) {\n  try {\n    canvas.getContext('2d').getImageData(0, 0, 1, 1);\n  } catch (err) {\n    if (err.code === 18) {\n      return Promise.reject(new Error('cannot read image, probably an svg with external resources'));\n    }\n  }\n\n  if (canvas.toBlob) {\n    return new Promise(resolve => {\n      canvas.toBlob(resolve, type, quality);\n    }).then(blob => {\n      if (blob === null) {\n        throw new Error('cannot read image, probably an svg with external resources');\n      }\n\n      return blob;\n    });\n  }\n\n  return Promise.resolve().then(() => {\n    return dataURItoBlob(canvas.toDataURL(type, quality), {});\n  }).then(blob => {\n    if (blob === null) {\n      throw new Error('could not extract blob, probably an old browser');\n    }\n\n    return blob;\n  });\n}\n\nfunction rotateImage(image, translate) {\n  let w = image.width;\n  let h = image.height;\n\n  if (translate.deg === 90 || translate.deg === 270) {\n    w = image.height;\n    h = image.width;\n  }\n\n  const canvas = document.createElement('canvas');\n  canvas.width = w;\n  canvas.height = h;\n  const context = canvas.getContext('2d');\n  context.translate(w / 2, h / 2);\n\n  if (translate.canvas) {\n    context.rotate(translate.rad);\n    context.scale(translate.scaleX, translate.scaleY);\n  }\n\n  context.drawImage(image, -image.width / 2, -image.height / 2, image.width, image.height);\n  return canvas;\n}\n/**\n * Make sure the image doesn’t exceed browser/device canvas limits.\n * For ios with 256 RAM and ie\n */\n\n\nfunction protect(image) {\n  // https://stackoverflow.com/questions/6081483/maximum-size-of-a-canvas-element\n  const ratio = image.width / image.height;\n  const maxSquare = 5000000; // ios max canvas square\n\n  const maxSize = 4096; // ie max canvas dimensions\n\n  let maxW = Math.floor(Math.sqrt(maxSquare * ratio));\n  let maxH = Math.floor(maxSquare / Math.sqrt(maxSquare * ratio));\n\n  if (maxW > maxSize) {\n    maxW = maxSize;\n    maxH = Math.round(maxW / ratio);\n  }\n\n  if (maxH > maxSize) {\n    maxH = maxSize;\n    maxW = Math.round(ratio * maxH);\n  }\n\n  if (image.width > maxW) {\n    const canvas = document.createElement('canvas');\n    canvas.width = maxW;\n    canvas.height = maxH;\n    canvas.getContext('2d').drawImage(image, 0, 0, maxW, maxH);\n    return canvas;\n  }\n\n  return image;\n}\n/**\n * The Thumbnail Generator plugin\n */\n\n\nclass ThumbnailGenerator extends _core.UIPlugin {\n  constructor(uppy, opts) {\n    super(uppy, opts);\n\n    this.onFileAdded = file => {\n      if (!file.preview && file.data && isPreviewSupported(file.type) && !file.isRemote) {\n        this.addToQueue(file.id);\n      }\n    };\n\n    this.onCancelRequest = file => {\n      const index = this.queue.indexOf(file.id);\n\n      if (index !== -1) {\n        this.queue.splice(index, 1);\n      }\n    };\n\n    this.onFileRemoved = file => {\n      const index = this.queue.indexOf(file.id);\n\n      if (index !== -1) {\n        this.queue.splice(index, 1);\n      } // Clean up object URLs.\n\n\n      if (file.preview && isObjectURL(file.preview)) {\n        URL.revokeObjectURL(file.preview);\n      }\n    };\n\n    this.onRestored = () => {\n      const restoredFiles = this.uppy.getFiles().filter(file => file.isRestored);\n      restoredFiles.forEach(file => {\n        // Only add blob URLs; they are likely invalid after being restored.\n        if (!file.preview || isObjectURL(file.preview)) {\n          this.addToQueue(file.id);\n        }\n      });\n    };\n\n    this.onAllFilesRemoved = () => {\n      this.queue = [];\n    };\n\n    this.waitUntilAllProcessed = fileIDs => {\n      fileIDs.forEach(fileID => {\n        const file = this.uppy.getFile(fileID);\n        this.uppy.emit('preprocess-progress', file, {\n          mode: 'indeterminate',\n          message: this.i18n('generatingThumbnails')\n        });\n      });\n\n      const emitPreprocessCompleteForAll = () => {\n        fileIDs.forEach(fileID => {\n          const file = this.uppy.getFile(fileID);\n          this.uppy.emit('preprocess-complete', file);\n        });\n      };\n\n      return new Promise(resolve => {\n        if (this.queueProcessing) {\n          this.uppy.once('thumbnail:all-generated', () => {\n            emitPreprocessCompleteForAll();\n            resolve();\n          });\n        } else {\n          emitPreprocessCompleteForAll();\n          resolve();\n        }\n      });\n    };\n\n    this.type = 'modifier';\n    this.id = this.opts.id || 'ThumbnailGenerator';\n    this.title = 'Thumbnail Generator';\n    this.queue = [];\n    this.queueProcessing = false;\n    this.defaultThumbnailDimension = 200;\n    this.thumbnailType = this.opts.thumbnailType || 'image/jpeg';\n    this.defaultLocale = locale;\n    const defaultOptions = {\n      thumbnailWidth: null,\n      thumbnailHeight: null,\n      waitForThumbnailsBeforeUpload: false,\n      lazy: false\n    };\n    this.opts = { ...defaultOptions,\n      ...opts\n    };\n    this.i18nInit();\n\n    if (this.opts.lazy && this.opts.waitForThumbnailsBeforeUpload) {\n      throw new Error('ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.');\n    }\n  }\n  /**\n   * Create a thumbnail for the given Uppy file object.\n   *\n   * @param {{data: Blob}} file\n   * @param {number} targetWidth\n   * @param {number} targetHeight\n   * @returns {Promise}\n   */\n\n\n  createThumbnail(file, targetWidth, targetHeight) {\n    const originalUrl = URL.createObjectURL(file.data);\n    const onload = new Promise((resolve, reject) => {\n      const image = new Image();\n      image.src = originalUrl;\n      image.addEventListener('load', () => {\n        URL.revokeObjectURL(originalUrl);\n        resolve(image);\n      });\n      image.addEventListener('error', event => {\n        URL.revokeObjectURL(originalUrl);\n        reject(event.error || new Error('Could not create thumbnail'));\n      });\n    });\n    const orientationPromise = (0, _miniUmd.rotation)(file.data).catch(() => 1);\n    return Promise.all([onload, orientationPromise]).then(_ref => {\n      let [image, orientation] = _ref;\n      const dimensions = this.getProportionalDimensions(image, targetWidth, targetHeight, orientation.deg);\n      const rotatedImage = this.rotateImage(image, orientation);\n      const resizedImage = this.resizeImage(rotatedImage, dimensions.width, dimensions.height);\n      return this.canvasToBlob(resizedImage, this.thumbnailType, 80);\n    }).then(blob => {\n      return URL.createObjectURL(blob);\n    });\n  }\n  /**\n   * Get the new calculated dimensions for the given image and a target width\n   * or height. If both width and height are given, only width is taken into\n   * account. If neither width nor height are given, the default dimension\n   * is used.\n   */\n\n\n  getProportionalDimensions(img, width, height, rotation) {\n    // eslint-disable-line no-shadow\n    let aspect = img.width / img.height;\n\n    if (rotation === 90 || rotation === 270) {\n      aspect = img.height / img.width;\n    }\n\n    if (width != null) {\n      return {\n        width,\n        height: Math.round(width / aspect)\n      };\n    }\n\n    if (height != null) {\n      return {\n        width: Math.round(height * aspect),\n        height\n      };\n    }\n\n    return {\n      width: this.defaultThumbnailDimension,\n      height: Math.round(this.defaultThumbnailDimension / aspect)\n    };\n  }\n  /**\n   * Resize an image to the target `width` and `height`.\n   *\n   * Returns a Canvas with the resized image on it.\n   */\n\n\n  resizeImage(image, targetWidth, targetHeight) {\n    // Resizing in steps refactored to use a solution from\n    // https://blog.uploadcare.com/image-resize-in-browsers-is-broken-e38eed08df01\n    let img = this.protect(image);\n    let steps = Math.ceil(Math.log2(img.width / targetWidth));\n\n    if (steps < 1) {\n      steps = 1;\n    }\n\n    let sW = targetWidth * 2 ** (steps - 1);\n    let sH = targetHeight * 2 ** (steps - 1);\n    const x = 2;\n\n    while (steps--) {\n      const canvas = document.createElement('canvas');\n      canvas.width = sW;\n      canvas.height = sH;\n      canvas.getContext('2d').drawImage(img, 0, 0, sW, sH);\n      img = canvas;\n      sW = Math.round(sW / x);\n      sH = Math.round(sH / x);\n    }\n\n    return img;\n  }\n  /**\n   * Set the preview URL for a file.\n   */\n\n\n  setPreviewURL(fileID, preview) {\n    this.uppy.setFileState(fileID, {\n      preview\n    });\n  }\n\n  addToQueue(item) {\n    this.queue.push(item);\n\n    if (this.queueProcessing === false) {\n      this.processQueue();\n    }\n  }\n\n  processQueue() {\n    this.queueProcessing = true;\n\n    if (this.queue.length > 0) {\n      const current = this.uppy.getFile(this.queue.shift());\n\n      if (!current) {\n        this.uppy.log('[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug', 'error');\n        return Promise.resolve();\n      }\n\n      return this.requestThumbnail(current).catch(() => {}) // eslint-disable-line node/handle-callback-err\n      .then(() => this.processQueue());\n    }\n\n    this.queueProcessing = false;\n    this.uppy.log('[ThumbnailGenerator] Emptied thumbnail queue');\n    this.uppy.emit('thumbnail:all-generated');\n    return Promise.resolve();\n  }\n\n  requestThumbnail(file) {\n    if (isPreviewSupported(file.type) && !file.isRemote) {\n      return this.createThumbnail(file, this.opts.thumbnailWidth, this.opts.thumbnailHeight).then(preview => {\n        this.setPreviewURL(file.id, preview);\n        this.uppy.log(`[ThumbnailGenerator] Generated thumbnail for ${file.id}`);\n        this.uppy.emit('thumbnail:generated', this.uppy.getFile(file.id), preview);\n      }).catch(err => {\n        this.uppy.log(`[ThumbnailGenerator] Failed thumbnail for ${file.id}:`, 'warning');\n        this.uppy.log(err, 'warning');\n        this.uppy.emit('thumbnail:error', this.uppy.getFile(file.id), err);\n      });\n    }\n\n    return Promise.resolve();\n  }\n\n  install() {\n    this.uppy.on('file-removed', this.onFileRemoved);\n    this.uppy.on('cancel-all', this.onAllFilesRemoved);\n\n    if (this.opts.lazy) {\n      this.uppy.on('thumbnail:request', this.onFileAdded);\n      this.uppy.on('thumbnail:cancel', this.onCancelRequest);\n    } else {\n      this.uppy.on('file-added', this.onFileAdded);\n      this.uppy.on('restored', this.onRestored);\n    }\n\n    if (this.opts.waitForThumbnailsBeforeUpload) {\n      this.uppy.addPreProcessor(this.waitUntilAllProcessed);\n    }\n  }\n\n  uninstall() {\n    this.uppy.off('file-removed', this.onFileRemoved);\n    this.uppy.off('cancel-all', this.onAllFilesRemoved);\n\n    if (this.opts.lazy) {\n      this.uppy.off('thumbnail:request', this.onFileAdded);\n      this.uppy.off('thumbnail:cancel', this.onCancelRequest);\n    } else {\n      this.uppy.off('file-added', this.onFileAdded);\n      this.uppy.off('restored', this.onRestored);\n    }\n\n    if (this.opts.waitForThumbnailsBeforeUpload) {\n      this.uppy.removePreProcessor(this.waitUntilAllProcessed);\n    }\n  }\n\n}\n\nThumbnailGenerator.VERSION = packageJson.version;\nmodule.exports = ThumbnailGenerator; // TODO: remove these methods from the prototype in the next major.\n\nThumbnailGenerator.prototype.canvasToBlob = canvasToBlob;\nThumbnailGenerator.prototype.protect = protect;\nThumbnailGenerator.prototype.rotateImage = rotateImage;","\"use strict\";\n\nconst isDOMElement = require(\"./isDOMElement.js\");\n/**\n * Find one or more DOM elements.\n *\n * @param {string|Node} element\n * @returns {Node[]|null}\n */\n\n\nfunction findAllDOMElements(element) {\n  if (typeof element === 'string') {\n    const elements = document.querySelectorAll(element);\n    return elements.length === 0 ? null : Array.from(elements);\n  }\n\n  if (typeof element === 'object' && isDOMElement(element)) {\n    return [element];\n  }\n\n  return null;\n}\n\nmodule.exports = findAllDOMElements;","\"use strict\";\n\nfunction getFilesAndDirectoriesFromDirectory(directoryReader, oldEntries, logDropError, _ref) {\n  let {\n    onSuccess\n  } = _ref;\n  directoryReader.readEntries(entries => {\n    const newEntries = [...oldEntries, ...entries]; // According to the FileSystem API spec, getFilesAndDirectoriesFromDirectory()\n    // must be called until it calls the onSuccess with an empty array.\n\n    if (entries.length) {\n      queueMicrotask(() => {\n        getFilesAndDirectoriesFromDirectory(directoryReader, newEntries, logDropError, {\n          onSuccess\n        });\n      }); // Done iterating this particular directory\n    } else {\n      onSuccess(newEntries);\n    }\n  }, // Make sure we resolve on error anyway, it's fine if only one directory couldn't be parsed!\n  error => {\n    logDropError(error);\n    onSuccess(oldEntries);\n  });\n}\n\n/**\n * Recursive function, calls the original callback() when the directory is entirely parsed.\n *\n * @param {FileSystemDirectoryReader} directoryReader\n * @param {Array} oldEntries\n * @param {Function} logDropError\n * @param {Function} callback - called with ([ all files and directories in that directoryReader ])\n */\nmodule.exports = getFilesAndDirectoriesFromDirectory;","\"use strict\";\n\nconst getFilesAndDirectoriesFromDirectory = require(\"./getFilesAndDirectoriesFromDirectory.js\");\n/**\n * Interop between deprecated webkitGetAsEntry and standard getAsFileSystemHandle.\n */\n\n\nfunction getAsFileSystemHandleFromEntry(entry, logDropError) {\n  if (entry == null) return entry;\n  return {\n    // eslint-disable-next-line no-nested-ternary\n    kind: entry.isFile ? 'file' : entry.isDirectory ? 'directory' : undefined,\n    name: entry.name,\n\n    getFile() {\n      return new Promise((resolve, reject) => entry.file(resolve, reject));\n    },\n\n    async *values() {\n      // If the file is a directory.\n      const directoryReader = entry.createReader();\n      const entries = await new Promise(resolve => {\n        getFilesAndDirectoriesFromDirectory(directoryReader, [], logDropError, {\n          onSuccess: dirEntries => resolve(dirEntries.map(file => getAsFileSystemHandleFromEntry(file, logDropError)))\n        });\n      });\n      yield* entries;\n    }\n\n  };\n}\n\nasync function* createPromiseToAddFileOrParseDirectory(entry, relativePath) {\n  // For each dropped item, - make sure it's a file/directory, and start deepening in!\n  if (entry.kind === 'file') {\n    const file = await entry.getFile();\n\n    if (file !== null) {\n      file.relativePath = relativePath ? `${relativePath}/${entry.name}` : null;\n      yield file;\n    }\n  } else if (entry.kind === 'directory') {\n    for await (const handle of entry.values()) {\n      yield* createPromiseToAddFileOrParseDirectory(handle, `${relativePath}/${entry.name}`);\n    }\n  }\n}\n\nasync function* getFilesFromDataTransfer(dataTransfer, logDropError) {\n  const entries = await Promise.all(Array.from(dataTransfer.items, async item => {\n    var _await$item$getAsFile;\n\n    const lastResortFile = item.getAsFile(); // Chromium bug, see https://github.com/transloadit/uppy/issues/3505.\n\n    const entry = (_await$item$getAsFile = await (item.getAsFileSystemHandle == null ? void 0 : item.getAsFileSystemHandle())) != null ? _await$item$getAsFile : getAsFileSystemHandleFromEntry(item.webkitGetAsEntry(), logDropError);\n    return {\n      lastResortFile,\n      entry\n    };\n  }));\n\n  for (const {\n    lastResortFile,\n    entry\n  } of entries) {\n    // :entry can be null when we drop the url e.g.\n    if (entry != null) {\n      try {\n        yield* createPromiseToAddFileOrParseDirectory(entry, '');\n      } catch (err) {\n        if (lastResortFile) {\n          yield lastResortFile;\n        } else {\n          logDropError(err);\n        }\n      }\n    }\n  }\n}\n\nmodule.exports = getFilesFromDataTransfer;","\"use strict\";\n\nconst toArray = require(\"../../toArray.js\"); // .files fallback, should be implemented in any browser\n\n\nfunction fallbackApi(dataTransfer) {\n  const files = toArray(dataTransfer.files);\n  return Promise.resolve(files);\n}\n\nmodule.exports = fallbackApi;","\"use strict\";\n\nconst webkitGetAsEntryApi = require(\"./utils/webkitGetAsEntryApi/index.js\");\n\nconst fallbackApi = require(\"./utils/fallbackApi.js\");\n/**\n * Returns a promise that resolves to the array of dropped files (if a folder is\n * dropped, and browser supports folder parsing - promise resolves to the flat\n * array of all files in all directories).\n * Each file has .relativePath prop appended to it (e.g. \"/docs/Prague/ticket_from_prague_to_ufa.pdf\")\n * if browser supports it. Otherwise it's undefined.\n *\n * @param {DataTransfer} dataTransfer\n * @param {Function} logDropError - a function that's called every time some\n * folder or some file error out (e.g. because of the folder name being too long\n * on Windows). Notice that resulting promise will always be resolved anyway.\n *\n * @returns {Promise} - Array<File>\n */\n\n\nasync function getDroppedFiles(dataTransfer, _temp) {\n  let {\n    logDropError = () => {}\n  } = _temp === void 0 ? {} : _temp;\n\n  // Get all files from all subdirs. Works (at least) in Chrome, Mozilla, and Safari\n  try {\n    const accumulator = [];\n\n    for await (const file of webkitGetAsEntryApi(dataTransfer, logDropError)) {\n      accumulator.push(file);\n    }\n\n    return accumulator; // Otherwise just return all first-order files\n  } catch {\n    return fallbackApi(dataTransfer);\n  }\n}\n\nmodule.exports = getDroppedFiles;","var safeIsNaN = Number.isNaN ||\n    function ponyfill(value) {\n        return typeof value === 'number' && value !== value;\n    };\nfunction isEqual(first, second) {\n    if (first === second) {\n        return true;\n    }\n    if (safeIsNaN(first) && safeIsNaN(second)) {\n        return true;\n    }\n    return false;\n}\nfunction areInputsEqual(newInputs, lastInputs) {\n    if (newInputs.length !== lastInputs.length) {\n        return false;\n    }\n    for (var i = 0; i < newInputs.length; i++) {\n        if (!isEqual(newInputs[i], lastInputs[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoizeOne(resultFn, isEqual) {\n    if (isEqual === void 0) { isEqual = areInputsEqual; }\n    var lastThis;\n    var lastArgs = [];\n    var lastResult;\n    var calledOnce = false;\n    function memoized() {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (calledOnce && lastThis === this && isEqual(newArgs, lastArgs)) {\n            return lastResult;\n        }\n        lastResult = resultFn.apply(this, newArgs);\n        calledOnce = true;\n        lastThis = this;\n        lastArgs = newArgs;\n        return lastResult;\n    }\n    return memoized;\n}\n\nexport default memoizeOne;\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n","\"use strict\";\n\nconst debounce = require(\"lodash.debounce\");\n\nconst FOCUSABLE_ELEMENTS = require(\"@uppy/utils/lib/FOCUSABLE_ELEMENTS\");\n\nconst getActiveOverlayEl = require(\"./getActiveOverlayEl.js\");\n/*\n  Focuses on some element in the currently topmost overlay.\n\n  1. If there are some [data-uppy-super-focusable] elements rendered already - focuses\n     on the first superfocusable element, and leaves focus up to the control of\n     a user (until currently focused element disappears from the screen [which\n     can happen when overlay changes, or, e.g., when we click on a folder in googledrive]).\n  2. If there are no [data-uppy-super-focusable] elements yet (or ever) - focuses\n     on the first focusable element, but switches focus if superfocusable elements appear on next render.\n*/\n\n\nfunction createSuperFocus() {\n  let lastFocusWasOnSuperFocusableEl = false;\n\n  const superFocus = (dashboardEl, activeOverlayType) => {\n    const overlayEl = getActiveOverlayEl(dashboardEl, activeOverlayType);\n    const isFocusInOverlay = overlayEl.contains(document.activeElement); // If focus is already in the topmost overlay, AND on last update we focused on the superfocusable\n    // element - then leave focus up to the user.\n    // [Practical check] without this line, typing in the search input in googledrive overlay won't work.\n\n    if (isFocusInOverlay && lastFocusWasOnSuperFocusableEl) return;\n    const superFocusableEl = overlayEl.querySelector('[data-uppy-super-focusable]'); // If we are already in the topmost overlay, AND there are no super focusable elements yet, - leave focus up to the user.\n    // [Practical check] without this line, if you are in an empty folder in google drive, and something's uploading in the\n    // bg, - focus will be jumping to Done all the time.\n\n    if (isFocusInOverlay && !superFocusableEl) return;\n\n    if (superFocusableEl) {\n      superFocusableEl.focus({\n        preventScroll: true\n      });\n      lastFocusWasOnSuperFocusableEl = true;\n    } else {\n      const firstEl = overlayEl.querySelector(FOCUSABLE_ELEMENTS);\n      firstEl == null ? void 0 : firstEl.focus({\n        preventScroll: true\n      });\n      lastFocusWasOnSuperFocusableEl = false;\n    }\n  }; // ___Why do we need to debounce?\n  //    1. To deal with animations: overlay changes via animations, which results in the DOM updating AFTER plugin.update()\n  //       already executed.\n  //    [Practical check] without debounce, if we open the Url overlay, and click 'Done', Dashboard won't get focused again.\n  //    [Practical check] if we delay 250ms instead of 260ms - IE11 won't get focused in same situation.\n  //    2. Performance: there can be many state update()s in a second, and this function is called every time.\n\n\n  return debounce(superFocus, 260);\n}\n\nmodule.exports = createSuperFocus;","\"use strict\";\n\nfunction isDragDropSupported() {\n  const div = document.body;\n\n  if (!('draggable' in div) || !('ondragstart' in div && 'ondrop' in div)) {\n    return false;\n  }\n\n  if (!('FormData' in window)) {\n    return false;\n  }\n\n  if (!('FileReader' in window)) {\n    return false;\n  }\n\n  return true;\n}\n\n/**\n * Checks if the browser supports Drag & Drop (not supported on mobile devices, for example).\n *\n * @returns {boolean}\n */\nmodule.exports = isDragDropSupported;","module.exports = function isShallowEqual (a, b) {\n  if (a === b) return true\n  for (var i in a) if (!(i in b)) return false\n  for (var i in b) if (a[i] !== b[i]) return false\n  return true\n}\n","\"use strict\";\n\nvar _preact = require(\"preact\");\n\nfunction iconImage() {\n  return (0, _preact.h)(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    width: \"25\",\n    height: \"25\",\n    viewBox: \"0 0 25 25\"\n  }, (0, _preact.h)(\"g\", {\n    fill: \"#686DE0\",\n    fillRule: \"evenodd\"\n  }, (0, _preact.h)(\"path\", {\n    d: \"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z\",\n    fillRule: \"nonzero\"\n  }), (0, _preact.h)(\"path\", {\n    d: \"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z\",\n    fillRule: \"nonzero\"\n  }), (0, _preact.h)(\"circle\", {\n    cx: \"7.5\",\n    cy: \"9.5\",\n    r: \"1.5\"\n  })));\n}\n\nfunction iconAudio() {\n  return (0, _preact.h)(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"25\",\n    height: \"25\",\n    viewBox: \"0 0 25 25\"\n  }, (0, _preact.h)(\"path\", {\n    d: \"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z\",\n    fill: \"#049BCF\",\n    fillRule: \"nonzero\"\n  }));\n}\n\nfunction iconVideo() {\n  return (0, _preact.h)(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"25\",\n    height: \"25\",\n    viewBox: \"0 0 25 25\"\n  }, (0, _preact.h)(\"path\", {\n    d: \"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z\",\n    fill: \"#19AF67\",\n    fillRule: \"nonzero\"\n  }));\n}\n\nfunction iconPDF() {\n  return (0, _preact.h)(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"25\",\n    height: \"25\",\n    viewBox: \"0 0 25 25\"\n  }, (0, _preact.h)(\"path\", {\n    d: \"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z\",\n    fill: \"#E2514A\",\n    fillRule: \"nonzero\"\n  }));\n}\n\nfunction iconArchive() {\n  return (0, _preact.h)(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    width: \"25\",\n    height: \"25\",\n    viewBox: \"0 0 25 25\"\n  }, (0, _preact.h)(\"path\", {\n    d: \"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z\",\n    fill: \"#00C469\",\n    fillRule: \"nonzero\"\n  }));\n}\n\nfunction iconFile() {\n  return (0, _preact.h)(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"25\",\n    height: \"25\",\n    viewBox: \"0 0 25 25\"\n  }, (0, _preact.h)(\"g\", {\n    fill: \"#A7AFB7\",\n    fillRule: \"nonzero\"\n  }, (0, _preact.h)(\"path\", {\n    d: \"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z\"\n  }), (0, _preact.h)(\"path\", {\n    d: \"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z\"\n  })));\n}\n\nfunction iconText() {\n  return (0, _preact.h)(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"25\",\n    height: \"25\",\n    viewBox: \"0 0 25 25\"\n  }, (0, _preact.h)(\"path\", {\n    d: \"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z\",\n    fill: \"#5A5E69\",\n    fillRule: \"nonzero\"\n  }));\n}\n\nfunction getIconByMime(fileType) {\n  const defaultChoice = {\n    color: '#838999',\n    icon: iconFile()\n  };\n  if (!fileType) return defaultChoice;\n  const fileTypeGeneral = fileType.split('/')[0];\n  const fileTypeSpecific = fileType.split('/')[1]; // Text\n\n  if (fileTypeGeneral === 'text') {\n    return {\n      color: '#5a5e69',\n      icon: iconText()\n    };\n  } // Image\n\n\n  if (fileTypeGeneral === 'image') {\n    return {\n      color: '#686de0',\n      icon: iconImage()\n    };\n  } // Audio\n\n\n  if (fileTypeGeneral === 'audio') {\n    return {\n      color: '#068dbb',\n      icon: iconAudio()\n    };\n  } // Video\n\n\n  if (fileTypeGeneral === 'video') {\n    return {\n      color: '#19af67',\n      icon: iconVideo()\n    };\n  } // PDF\n\n\n  if (fileTypeGeneral === 'application' && fileTypeSpecific === 'pdf') {\n    return {\n      color: '#e25149',\n      icon: iconPDF()\n    };\n  } // Archive\n\n\n  const archiveTypes = ['zip', 'x-7z-compressed', 'x-rar-compressed', 'x-tar', 'x-gzip', 'x-apple-diskimage'];\n\n  if (fileTypeGeneral === 'application' && archiveTypes.indexOf(fileTypeSpecific) !== -1) {\n    return {\n      color: '#00C469',\n      icon: iconArchive()\n    };\n  }\n\n  return defaultChoice;\n}\n\nmodule.exports = getIconByMime;","\"use strict\";\n\nvar _preact = require(\"preact\");\n\nconst getFileTypeIcon = require(\"../utils/getFileTypeIcon.js\");\n\nfunction FilePreview(props) {\n  const {\n    file\n  } = props;\n\n  if (file.preview) {\n    return (0, _preact.h)(\"img\", {\n      className: \"uppy-Dashboard-Item-previewImg\",\n      alt: file.name,\n      src: file.preview\n    });\n  }\n\n  const {\n    color,\n    icon\n  } = getFileTypeIcon(file.type);\n  return (0, _preact.h)(\"div\", {\n    className: \"uppy-Dashboard-Item-previewIconWrap\"\n  }, (0, _preact.h)(\"span\", {\n    className: \"uppy-Dashboard-Item-previewIcon\",\n    style: {\n      color\n    }\n  }, icon), (0, _preact.h)(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-Dashboard-Item-previewIconBg\",\n    width: \"58\",\n    height: \"76\",\n    viewBox: \"0 0 58 76\"\n  }, (0, _preact.h)(\"rect\", {\n    fill: \"#FFF\",\n    width: \"58\",\n    height: \"76\",\n    rx: \"3\",\n    fillRule: \"evenodd\"\n  })));\n}\n\nmodule.exports = FilePreview;","\"use strict\";\n\nvar _preact = require(\"preact\");\n\nconst metaFieldIdToName = (metaFieldId, metaFields) => {\n  const field = metaFields.filter(f => f.id === metaFieldId);\n  return field[0].name;\n};\n\nfunction renderMissingMetaFieldsError(props) {\n  const {\n    file,\n    toggleFileCard,\n    i18n,\n    metaFields\n  } = props;\n  const {\n    missingRequiredMetaFields\n  } = file;\n\n  if (!(missingRequiredMetaFields != null && missingRequiredMetaFields.length)) {\n    return null;\n  }\n\n  const metaFieldsString = missingRequiredMetaFields.map(missingMetaField => metaFieldIdToName(missingMetaField, metaFields)).join(', ');\n  return (0, _preact.h)(\"div\", {\n    className: \"uppy-Dashboard-Item-errorMessage\"\n  }, i18n('missingRequiredMetaFields', {\n    smart_count: missingRequiredMetaFields.length,\n    fields: metaFieldsString\n  }), ' ', (0, _preact.h)(\"button\", {\n    type: \"button\",\n    class: \"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn\",\n    onClick: () => toggleFileCard(true, file.id)\n  }, i18n('editFile')));\n}\n\nmodule.exports = renderMissingMetaFieldsError;","\"use strict\";\n\nvar _preact = require(\"preact\");\n\nconst FilePreview = require(\"../../FilePreview.js\");\n\nconst MetaErrorMessage = require(\"../MetaErrorMessage.js\");\n\nconst getFileTypeIcon = require(\"../../../utils/getFileTypeIcon.js\");\n\nfunction FilePreviewAndLink(props) {\n  return (0, _preact.h)(\"div\", {\n    className: \"uppy-Dashboard-Item-previewInnerWrap\",\n    style: {\n      backgroundColor: getFileTypeIcon(props.file.type).color\n    }\n  }, props.showLinkToFileUploadResult && props.file.uploadURL && (0, _preact.h)(\"a\", {\n    className: \"uppy-Dashboard-Item-previewLink\",\n    href: props.file.uploadURL,\n    rel: \"noreferrer noopener\",\n    target: \"_blank\",\n    \"aria-label\": props.file.meta.name\n  }, (0, _preact.h)(\"span\", {\n    hidden: true\n  }, props.file.meta.name)), (0, _preact.h)(FilePreview, {\n    file: props.file\n  }), (0, _preact.h)(MetaErrorMessage, {\n    file: props.file,\n    i18n: props.i18n,\n    toggleFileCard: props.toggleFileCard,\n    metaFields: props.metaFields\n  }));\n}\n\nmodule.exports = FilePreviewAndLink;","\"use strict\";\n\nvar _preact = require(\"preact\");\n\nfunction onPauseResumeCancelRetry(props) {\n  if (props.isUploaded) return;\n\n  if (props.error && !props.hideRetryButton) {\n    props.uppy.retryUpload(props.file.id);\n    return;\n  }\n\n  if (props.resumableUploads && !props.hidePauseResumeButton) {\n    props.uppy.pauseResume(props.file.id);\n  } else if (props.individualCancellation && !props.hideCancelButton) {\n    props.uppy.removeFile(props.file.id);\n  }\n}\n\nfunction progressIndicatorTitle(props) {\n  if (props.isUploaded) {\n    return props.i18n('uploadComplete');\n  }\n\n  if (props.error) {\n    return props.i18n('retryUpload');\n  }\n\n  if (props.resumableUploads) {\n    if (props.file.isPaused) {\n      return props.i18n('resumeUpload');\n    }\n\n    return props.i18n('pauseUpload');\n  }\n\n  if (props.individualCancellation) {\n    return props.i18n('cancelUpload');\n  }\n\n  return '';\n}\n\nfunction ProgressIndicatorButton(props) {\n  return (0, _preact.h)(\"div\", {\n    className: \"uppy-Dashboard-Item-progress\"\n  }, (0, _preact.h)(\"button\", {\n    className: \"uppy-u-reset uppy-Dashboard-Item-progressIndicator\",\n    type: \"button\",\n    \"aria-label\": progressIndicatorTitle(props),\n    title: progressIndicatorTitle(props),\n    onClick: () => onPauseResumeCancelRetry(props)\n  }, props.children));\n}\n\nfunction ProgressCircleContainer(_ref) {\n  let {\n    children\n  } = _ref;\n  return (0, _preact.h)(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    width: \"70\",\n    height: \"70\",\n    viewBox: \"0 0 36 36\",\n    className: \"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle\"\n  }, children);\n}\n\nfunction ProgressCircle(_ref2) {\n  let {\n    progress\n  } = _ref2;\n  // circle length equals 2 * PI * R\n  const circleLength = 2 * Math.PI * 15;\n  return (0, _preact.h)(\"g\", null, (0, _preact.h)(\"circle\", {\n    className: \"uppy-Dashboard-Item-progressIcon--bg\",\n    r: \"15\",\n    cx: \"18\",\n    cy: \"18\",\n    \"stroke-width\": \"2\",\n    fill: \"none\"\n  }), (0, _preact.h)(\"circle\", {\n    className: \"uppy-Dashboard-Item-progressIcon--progress\",\n    r: \"15\",\n    cx: \"18\",\n    cy: \"18\",\n    transform: \"rotate(-90, 18, 18)\",\n    fill: \"none\",\n    \"stroke-width\": \"2\",\n    \"stroke-dasharray\": circleLength,\n    \"stroke-dashoffset\": circleLength - circleLength / 100 * progress\n  }));\n}\n\nfunction FileProgress(props) {\n  // Nothing if upload has not started\n  if (!props.file.progress.uploadStarted) {\n    return null;\n  } // Green checkmark when complete\n\n\n  if (props.isUploaded) {\n    return (0, _preact.h)(\"div\", {\n      className: \"uppy-Dashboard-Item-progress\"\n    }, (0, _preact.h)(\"div\", {\n      className: \"uppy-Dashboard-Item-progressIndicator\"\n    }, (0, _preact.h)(ProgressCircleContainer, null, (0, _preact.h)(\"circle\", {\n      r: \"15\",\n      cx: \"18\",\n      cy: \"18\",\n      fill: \"#1bb240\"\n    }), (0, _preact.h)(\"polygon\", {\n      className: \"uppy-Dashboard-Item-progressIcon--check\",\n      transform: \"translate(2, 3)\",\n      points: \"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634\"\n    }))));\n  }\n\n  if (props.recoveredState) {\n    return undefined;\n  } // Retry button for error\n\n\n  if (props.error && !props.hideRetryButton) {\n    return (// eslint-disable-next-line react/jsx-props-no-spreading\n      (0, _preact.h)(ProgressIndicatorButton, props, (0, _preact.h)(\"svg\", {\n        \"aria-hidden\": \"true\",\n        focusable: \"false\",\n        className: \"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry\",\n        width: \"28\",\n        height: \"31\",\n        viewBox: \"0 0 16 19\"\n      }, (0, _preact.h)(\"path\", {\n        d: \"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z\"\n      }), (0, _preact.h)(\"path\", {\n        d: \"M7.9 3H10v2H7.9z\"\n      }), (0, _preact.h)(\"path\", {\n        d: \"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z\"\n      }), (0, _preact.h)(\"path\", {\n        d: \"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z\"\n      })))\n    );\n  } // Pause/resume button for resumable uploads\n\n\n  if (props.resumableUploads && !props.hidePauseResumeButton) {\n    return (// eslint-disable-next-line react/jsx-props-no-spreading\n      (0, _preact.h)(ProgressIndicatorButton, props, (0, _preact.h)(ProgressCircleContainer, null, (0, _preact.h)(ProgressCircle, {\n        progress: props.file.progress.percentage\n      }), props.file.isPaused ? (0, _preact.h)(\"polygon\", {\n        className: \"uppy-Dashboard-Item-progressIcon--play\",\n        transform: \"translate(3, 3)\",\n        points: \"12 20 12 10 20 15\"\n      }) : (0, _preact.h)(\"g\", {\n        className: \"uppy-Dashboard-Item-progressIcon--pause\",\n        transform: \"translate(14.5, 13)\"\n      }, (0, _preact.h)(\"rect\", {\n        x: \"0\",\n        y: \"0\",\n        width: \"2\",\n        height: \"10\",\n        rx: \"0\"\n      }), (0, _preact.h)(\"rect\", {\n        x: \"5\",\n        y: \"0\",\n        width: \"2\",\n        height: \"10\",\n        rx: \"0\"\n      }))))\n    );\n  } // Cancel button for non-resumable uploads if individualCancellation is supported (not bundled)\n\n\n  if (!props.resumableUploads && props.individualCancellation && !props.hideCancelButton) {\n    return (// eslint-disable-next-line react/jsx-props-no-spreading\n      (0, _preact.h)(ProgressIndicatorButton, props, (0, _preact.h)(ProgressCircleContainer, null, (0, _preact.h)(ProgressCircle, {\n        progress: props.file.progress.percentage\n      }), (0, _preact.h)(\"polygon\", {\n        className: \"cancel\",\n        transform: \"translate(2, 2)\",\n        points: \"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12\"\n      })))\n    );\n  } // Just progress when buttons are disabled\n\n\n  return (0, _preact.h)(\"div\", {\n    className: \"uppy-Dashboard-Item-progress\"\n  }, (0, _preact.h)(\"div\", {\n    className: \"uppy-Dashboard-Item-progressIndicator\"\n  }, (0, _preact.h)(ProgressCircleContainer, null, (0, _preact.h)(ProgressCircle, {\n    progress: props.file.progress.percentage\n  }))));\n}\n\nmodule.exports = FileProgress;","\"use strict\";\n\n/**\n * Truncates a string to the given number of chars (maxLength) by inserting '...' in the middle of that string.\n * Partially taken from https://stackoverflow.com/a/5723274/3192470.\n *\n * @param {string} string - string to be truncated\n * @param {number} maxLength - maximum size of the resulting string\n * @returns {string}\n */\nconst separator = '...';\n\nfunction truncateString(string, maxLength) {\n  // Return the empty string if maxLength is zero\n  if (maxLength === 0) return ''; // Return original string if it's already shorter than maxLength\n\n  if (string.length <= maxLength) return string; // Return truncated substring appended of the ellipsis char if string can't be meaningfully truncated\n\n  if (maxLength <= separator.length + 1) return `${string.slice(0, maxLength - 1)}…`;\n  const charsToShow = maxLength - separator.length;\n  const frontChars = Math.ceil(charsToShow / 2);\n  const backChars = Math.floor(charsToShow / 2);\n  return string.slice(0, frontChars) + separator + string.slice(-backChars);\n}\n\nmodule.exports = truncateString;","\"use strict\";\n\nvar _preact = require(\"preact\");\n\nconst prettierBytes = require(\"@transloadit/prettier-bytes\");\n\nconst truncateString = require(\"@uppy/utils/lib/truncateString\");\n\nconst MetaErrorMessage = require(\"../MetaErrorMessage.js\");\n\nconst renderFileName = props => {\n  const {\n    author,\n    name\n  } = props.file.meta;\n\n  function getMaxNameLength() {\n    if (props.containerWidth <= 352) {\n      return 35;\n    }\n\n    if (props.containerWidth <= 576) {\n      return 60;\n    } // When `author` is present, we want to make sure\n    // the file name fits on one line so we can place\n    // the author on the second line.\n\n\n    return author ? 20 : 30;\n  }\n\n  return (0, _preact.h)(\"div\", {\n    className: \"uppy-Dashboard-Item-name\",\n    title: name\n  }, truncateString(name, getMaxNameLength()));\n};\n\nconst renderAuthor = props => {\n  const {\n    author\n  } = props.file.meta;\n  const {\n    providerName\n  } = props.file.remote;\n  const dot = `\\u00B7`;\n\n  if (!author) {\n    return null;\n  }\n\n  return (0, _preact.h)(\"div\", {\n    className: \"uppy-Dashboard-Item-author\"\n  }, (0, _preact.h)(\"a\", {\n    href: `${author.url}?utm_source=Companion&utm_medium=referral`,\n    target: \"_blank\",\n    rel: \"noopener noreferrer\"\n  }, truncateString(author.name, 13)), providerName ? (0, _preact.h)(_preact.Fragment, null, ` ${dot} `, providerName, ` ${dot} `) : null);\n};\n\nconst renderFileSize = props => props.file.size && (0, _preact.h)(\"div\", {\n  className: \"uppy-Dashboard-Item-statusSize\"\n}, prettierBytes(props.file.size));\n\nconst ReSelectButton = props => props.file.isGhost && (0, _preact.h)(\"span\", null, ' \\u2022 ', (0, _preact.h)(\"button\", {\n  className: \"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect\",\n  type: \"button\",\n  onClick: props.toggleAddFilesPanel\n}, props.i18n('reSelect')));\n\nconst ErrorButton = _ref => {\n  let {\n    file,\n    onClick\n  } = _ref;\n\n  if (file.error) {\n    return (0, _preact.h)(\"button\", {\n      className: \"uppy-u-reset uppy-Dashboard-Item-errorDetails\",\n      \"aria-label\": file.error,\n      \"data-microtip-position\": \"bottom\",\n      \"data-microtip-size\": \"medium\",\n      onClick: onClick,\n      type: \"button\"\n    }, \"?\");\n  }\n\n  return null;\n};\n\nfunction FileInfo(props) {\n  const {\n    file\n  } = props;\n  return (0, _preact.h)(\"div\", {\n    className: \"uppy-Dashboard-Item-fileInfo\",\n    \"data-uppy-file-source\": file.source\n  }, (0, _preact.h)(\"div\", {\n    className: \"uppy-Dashboard-Item-fileName\"\n  }, renderFileName(props), (0, _preact.h)(ErrorButton, {\n    file: props.file // eslint-disable-next-line no-alert\n    ,\n    onClick: () => alert(props.file.error) // TODO: move to a custom alert implementation\n\n  })), (0, _preact.h)(\"div\", {\n    className: \"uppy-Dashboard-Item-status\"\n  }, renderAuthor(props), renderFileSize(props), ReSelectButton(props)), (0, _preact.h)(MetaErrorMessage, {\n    file: props.file,\n    i18n: props.i18n,\n    toggleFileCard: props.toggleFileCard,\n    metaFields: props.metaFields\n  }));\n}\n\nmodule.exports = FileInfo;","\"use strict\";\n\nfunction copyToClipboard(textToCopy, fallbackString) {\n  // TODO: make `fallbackString` an optional parameter instead.\n  fallbackString || (fallbackString = 'Copy the URL below'); // eslint-disable-line no-param-reassign\n\n  return new Promise(resolve => {\n    const textArea = document.createElement('textarea');\n    textArea.setAttribute('style', {\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      width: '2em',\n      height: '2em',\n      padding: 0,\n      border: 'none',\n      outline: 'none',\n      boxShadow: 'none',\n      background: 'transparent'\n    });\n    textArea.value = textToCopy;\n    document.body.appendChild(textArea);\n    textArea.select();\n\n    const magicCopyFailed = () => {\n      document.body.removeChild(textArea); // eslint-disable-next-line no-alert\n\n      window.prompt(fallbackString, textToCopy);\n      resolve();\n    };\n\n    try {\n      const successful = document.execCommand('copy');\n\n      if (!successful) {\n        return magicCopyFailed('copy command unavailable');\n      }\n\n      document.body.removeChild(textArea);\n      return resolve();\n    } catch (err) {\n      document.body.removeChild(textArea);\n      return magicCopyFailed(err);\n    }\n  });\n}\n\n/**\n * Copies text to clipboard by creating an almost invisible textarea,\n * adding text there, then running execCommand('copy').\n * Falls back to prompt() when the easy way fails (hello, Safari!)\n * From http://stackoverflow.com/a/30810322\n *\n * @param {string} textToCopy\n * @param {string} fallbackString\n * @returns {Promise}\n */\nmodule.exports = copyToClipboard;","\"use strict\";\n\nvar _preact = require(\"preact\");\n\nconst copyToClipboard = require(\"../../../utils/copyToClipboard.js\");\n\nfunction EditButton(_ref) {\n  let {\n    file,\n    uploadInProgressOrComplete,\n    metaFields,\n    canEditFile,\n    i18n,\n    onClick\n  } = _ref;\n\n  if (!uploadInProgressOrComplete && metaFields && metaFields.length > 0 || !uploadInProgressOrComplete && canEditFile(file)) {\n    return (0, _preact.h)(\"button\", {\n      className: \"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit\",\n      type: \"button\",\n      \"aria-label\": i18n('editFileWithFilename', {\n        file: file.meta.name\n      }),\n      title: i18n('editFileWithFilename', {\n        file: file.meta.name\n      }),\n      onClick: () => onClick()\n    }, (0, _preact.h)(\"svg\", {\n      \"aria-hidden\": \"true\",\n      focusable: \"false\",\n      className: \"uppy-c-icon\",\n      width: \"14\",\n      height: \"14\",\n      viewBox: \"0 0 14 14\"\n    }, (0, _preact.h)(\"g\", {\n      fillRule: \"evenodd\"\n    }, (0, _preact.h)(\"path\", {\n      d: \"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z\",\n      fillRule: \"nonzero\"\n    }), (0, _preact.h)(\"rect\", {\n      x: \"1\",\n      y: \"12.293\",\n      width: \"11\",\n      height: \"1\",\n      rx: \".5\"\n    }), (0, _preact.h)(\"path\", {\n      fillRule: \"nonzero\",\n      d: \"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z\"\n    }))));\n  }\n\n  return null;\n}\n\nfunction RemoveButton(_ref2) {\n  let {\n    i18n,\n    onClick,\n    file\n  } = _ref2;\n  return (0, _preact.h)(\"button\", {\n    className: \"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove\",\n    type: \"button\",\n    \"aria-label\": i18n('removeFile', {\n      file: file.meta.name\n    }),\n    title: i18n('removeFile', {\n      file: file.meta.name\n    }),\n    onClick: () => onClick()\n  }, (0, _preact.h)(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"18\",\n    height: \"18\",\n    viewBox: \"0 0 18 18\"\n  }, (0, _preact.h)(\"path\", {\n    d: \"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z\"\n  }), (0, _preact.h)(\"path\", {\n    fill: \"#FFF\",\n    d: \"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z\"\n  })));\n}\n\nconst copyLinkToClipboard = (event, props) => {\n  copyToClipboard(props.file.uploadURL, props.i18n('copyLinkToClipboardFallback')).then(() => {\n    props.uppy.log('Link copied to clipboard.');\n    props.uppy.info(props.i18n('copyLinkToClipboardSuccess'), 'info', 3000);\n  }).catch(props.uppy.log) // avoid losing focus\n  .then(() => event.target.focus({\n    preventScroll: true\n  }));\n};\n\nfunction CopyLinkButton(props) {\n  const {\n    i18n\n  } = props;\n  return (0, _preact.h)(\"button\", {\n    className: \"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink\",\n    type: \"button\",\n    \"aria-label\": i18n('copyLink'),\n    title: i18n('copyLink'),\n    onClick: event => copyLinkToClipboard(event, props)\n  }, (0, _preact.h)(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"14\",\n    height: \"14\",\n    viewBox: \"0 0 14 12\"\n  }, (0, _preact.h)(\"path\", {\n    d: \"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z\"\n  })));\n}\n\nfunction Buttons(props) {\n  const {\n    uppy,\n    file,\n    uploadInProgressOrComplete,\n    canEditFile,\n    metaFields,\n    showLinkToFileUploadResult,\n    showRemoveButton,\n    i18n,\n    toggleFileCard,\n    openFileEditor\n  } = props;\n\n  const editAction = () => {\n    if (metaFields && metaFields.length > 0) {\n      toggleFileCard(true, file.id);\n    } else {\n      openFileEditor(file);\n    }\n  };\n\n  return (0, _preact.h)(\"div\", {\n    className: \"uppy-Dashboard-Item-actionWrapper\"\n  }, (0, _preact.h)(EditButton, {\n    i18n: i18n,\n    file: file,\n    uploadInProgressOrComplete: uploadInProgressOrComplete,\n    canEditFile: canEditFile,\n    metaFields: metaFields,\n    onClick: editAction\n  }), showLinkToFileUploadResult && file.uploadURL ? (0, _preact.h)(CopyLinkButton, {\n    file: file,\n    uppy: uppy,\n    i18n: i18n\n  }) : null, showRemoveButton ? (0, _preact.h)(RemoveButton, {\n    i18n: i18n,\n    file: file,\n    uppy: uppy,\n    onClick: () => props.uppy.removeFile(file.id, 'removed-by-user')\n  }) : null);\n}\n\nmodule.exports = Buttons;","\"use strict\";\n\nvar _preact = require(\"preact\");\n\nconst classNames = require(\"classnames\");\n\nconst shallowEqual = require(\"is-shallow-equal\");\n\nconst FilePreviewAndLink = require(\"./FilePreviewAndLink/index.js\");\n\nconst FileProgress = require(\"./FileProgress/index.js\");\n\nconst FileInfo = require(\"./FileInfo/index.js\");\n\nconst Buttons = require(\"./Buttons/index.js\");\n\nclass FileItem extends _preact.Component {\n  componentDidMount() {\n    const {\n      file\n    } = this.props;\n\n    if (!file.preview) {\n      this.props.handleRequestThumbnail(file);\n    }\n  }\n\n  shouldComponentUpdate(nextProps) {\n    return !shallowEqual(this.props, nextProps);\n  } // VirtualList mounts FileItems again and they emit `thumbnail:request`\n  // Otherwise thumbnails are broken or missing after Golden Retriever restores files\n\n\n  componentDidUpdate() {\n    const {\n      file\n    } = this.props;\n\n    if (!file.preview) {\n      this.props.handleRequestThumbnail(file);\n    }\n  }\n\n  componentWillUnmount() {\n    const {\n      file\n    } = this.props;\n\n    if (!file.preview) {\n      this.props.handleCancelThumbnail(file);\n    }\n  }\n\n  render() {\n    const {\n      file\n    } = this.props;\n    const isProcessing = file.progress.preprocess || file.progress.postprocess;\n    const isUploaded = file.progress.uploadComplete && !isProcessing && !file.error;\n    const uploadInProgressOrComplete = file.progress.uploadStarted || isProcessing;\n    const uploadInProgress = file.progress.uploadStarted && !file.progress.uploadComplete || isProcessing;\n    const error = file.error || false; // File that Golden Retriever was able to partly restore (only meta, not blob),\n    // users still need to re-add it, so it’s a ghost\n\n    const {\n      isGhost\n    } = file;\n    let showRemoveButton = this.props.individualCancellation ? !isUploaded : !uploadInProgress && !isUploaded;\n\n    if (isUploaded && this.props.showRemoveButtonAfterComplete) {\n      showRemoveButton = true;\n    }\n\n    const dashboardItemClass = classNames({\n      'uppy-Dashboard-Item': true,\n      'is-inprogress': uploadInProgress && !this.props.recoveredState,\n      'is-processing': isProcessing,\n      'is-complete': isUploaded,\n      'is-error': !!error,\n      'is-resumable': this.props.resumableUploads,\n      'is-noIndividualCancellation': !this.props.individualCancellation,\n      'is-ghost': isGhost\n    });\n    return (0, _preact.h)(\"div\", {\n      className: dashboardItemClass,\n      id: `uppy_${file.id}`,\n      role: this.props.role\n    }, (0, _preact.h)(\"div\", {\n      className: \"uppy-Dashboard-Item-preview\"\n    }, (0, _preact.h)(FilePreviewAndLink, {\n      file: file,\n      showLinkToFileUploadResult: this.props.showLinkToFileUploadResult,\n      i18n: this.props.i18n,\n      toggleFileCard: this.props.toggleFileCard,\n      metaFields: this.props.metaFields\n    }), (0, _preact.h)(FileProgress, {\n      uppy: this.props.uppy,\n      file: file,\n      error: error,\n      isUploaded: isUploaded,\n      hideRetryButton: this.props.hideRetryButton,\n      hideCancelButton: this.props.hideCancelButton,\n      hidePauseResumeButton: this.props.hidePauseResumeButton,\n      recoveredState: this.props.recoveredState,\n      showRemoveButtonAfterComplete: this.props.showRemoveButtonAfterComplete,\n      resumableUploads: this.props.resumableUploads,\n      individualCancellation: this.props.individualCancellation,\n      i18n: this.props.i18n\n    })), (0, _preact.h)(\"div\", {\n      className: \"uppy-Dashboard-Item-fileInfoAndButtons\"\n    }, (0, _preact.h)(FileInfo, {\n      file: file,\n      id: this.props.id,\n      acquirers: this.props.acquirers,\n      containerWidth: this.props.containerWidth,\n      i18n: this.props.i18n,\n      toggleAddFilesPanel: this.props.toggleAddFilesPanel,\n      toggleFileCard: this.props.toggleFileCard,\n      metaFields: this.props.metaFields\n    }), (0, _preact.h)(Buttons, {\n      file: file,\n      metaFields: this.props.metaFields,\n      showLinkToFileUploadResult: this.props.showLinkToFileUploadResult,\n      showRemoveButton: showRemoveButton,\n      canEditFile: this.props.canEditFile,\n      uploadInProgressOrComplete: uploadInProgressOrComplete,\n      toggleFileCard: this.props.toggleFileCard,\n      openFileEditor: this.props.openFileEditor,\n      uppy: this.props.uppy,\n      i18n: this.props.i18n\n    })));\n  }\n\n}\n\nmodule.exports = FileItem;","\"use strict\";\n\nvar _preact = require(\"preact\");\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nconst STYLE_INNER = {\n  position: 'relative',\n  // Disabled for our use case: the wrapper elements around FileList already deal with overflow,\n  // and this additional property would hide things that we want to show.\n  //\n  // overflow: 'hidden',\n  width: '100%',\n  minHeight: '100%'\n};\nconst STYLE_CONTENT = {\n  position: 'absolute',\n  top: 0,\n  left: 0,\n  // Because the `top` value gets set to some offset, this `height` being 100% would make the scrollbar\n  // stretch far beyond the content. For our use case, the content div actually can get its height from\n  // the elements inside it, so we don't need to specify a `height` property at all.\n  //\n  // height: '100%',\n  width: '100%',\n  overflow: 'visible'\n};\n\nclass VirtualList extends _preact.Component {\n  constructor(props) {\n    super(props); // The currently focused node, used to retain focus when the visible rows change.\n    // To avoid update loops, this should not cause state updates, so it's kept as a plain property.\n\n    this.handleScroll = () => {\n      this.setState({\n        offset: this.base.scrollTop\n      });\n    };\n\n    this.handleResize = () => {\n      this.resize();\n    };\n\n    this.focusElement = null;\n    this.state = {\n      offset: 0,\n      height: 0\n    };\n  }\n\n  componentDidMount() {\n    this.resize();\n    window.addEventListener('resize', this.handleResize);\n  } // TODO: refactor to stable lifecycle method\n  // eslint-disable-next-line\n\n\n  componentWillUpdate() {\n    if (this.base.contains(document.activeElement)) {\n      this.focusElement = document.activeElement;\n    }\n  }\n\n  componentDidUpdate() {\n    // Maintain focus when rows are added and removed.\n    if (this.focusElement && this.focusElement.parentNode && document.activeElement !== this.focusElement) {\n      this.focusElement.focus();\n    }\n\n    this.focusElement = null;\n    this.resize();\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.handleResize);\n  }\n\n  resize() {\n    const {\n      height\n    } = this.state;\n\n    if (height !== this.base.offsetHeight) {\n      this.setState({\n        height: this.base.offsetHeight\n      });\n    }\n  }\n\n  render(_ref) {\n    let {\n      data,\n      rowHeight,\n      renderRow,\n      overscanCount = 10,\n      ...props\n    } = _ref;\n    const {\n      offset,\n      height\n    } = this.state; // first visible row index\n\n    let start = Math.floor(offset / rowHeight); // actual number of visible rows (without overscan)\n\n    let visibleRowCount = Math.floor(height / rowHeight); // Overscan: render blocks of rows modulo an overscan row count\n    // This dramatically reduces DOM writes during scrolling\n\n    if (overscanCount) {\n      start = Math.max(0, start - start % overscanCount);\n      visibleRowCount += overscanCount;\n    } // last visible + overscan row index + padding to allow keyboard focus to travel past the visible area\n\n\n    const end = start + visibleRowCount + 4; // data slice currently in viewport plus overscan items\n\n    const selection = data.slice(start, end);\n    const styleInner = { ...STYLE_INNER,\n      height: data.length * rowHeight\n    };\n    const styleContent = { ...STYLE_CONTENT,\n      top: start * rowHeight\n    }; // The `role=\"presentation\"` attributes ensure that these wrapper elements are not treated as list\n    // items by accessibility and outline tools.\n\n    return (// eslint-disable-next-line react/jsx-props-no-spreading\n      (0, _preact.h)(\"div\", _extends({\n        onScroll: this.handleScroll\n      }, props), (0, _preact.h)(\"div\", {\n        role: \"presentation\",\n        style: styleInner\n      }, (0, _preact.h)(\"div\", {\n        role: \"presentation\",\n        style: styleContent\n      }, selection.map(renderRow))))\n    );\n  }\n\n}\n\nmodule.exports = VirtualList;","\"use strict\";\n\nvar _preact = require(\"preact\");\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nconst classNames = require(\"classnames\");\n\nconst FileItem = require(\"./FileItem/index.js\");\n\nconst VirtualList = require(\"./VirtualList.js\");\n\nfunction chunks(list, size) {\n  const chunked = [];\n  let currentChunk = [];\n  list.forEach(item => {\n    if (currentChunk.length < size) {\n      currentChunk.push(item);\n    } else {\n      chunked.push(currentChunk);\n      currentChunk = [item];\n    }\n  });\n  if (currentChunk.length) chunked.push(currentChunk);\n  return chunked;\n}\n\nmodule.exports = props => {\n  const noFiles = props.totalFileCount === 0;\n  const dashboardFilesClass = classNames('uppy-Dashboard-files', {\n    'uppy-Dashboard-files--noFiles': noFiles\n  }); // It's not great that this is hardcoded!\n  // It's ESPECIALLY not great that this is checking against `itemsPerRow`!\n\n  const rowHeight = props.itemsPerRow === 1 // Mobile\n  ? 71 // 190px height + 2 * 5px margin\n  : 200;\n  const fileProps = {\n    // FIXME This is confusing, it's actually the Dashboard's plugin ID\n    id: props.id,\n    error: props.error,\n    // TODO move this to context\n    i18n: props.i18n,\n    uppy: props.uppy,\n    // features\n    acquirers: props.acquirers,\n    resumableUploads: props.resumableUploads,\n    individualCancellation: props.individualCancellation,\n    // visual options\n    hideRetryButton: props.hideRetryButton,\n    hidePauseResumeButton: props.hidePauseResumeButton,\n    hideCancelButton: props.hideCancelButton,\n    showLinkToFileUploadResult: props.showLinkToFileUploadResult,\n    showRemoveButtonAfterComplete: props.showRemoveButtonAfterComplete,\n    isWide: props.isWide,\n    metaFields: props.metaFields,\n    recoveredState: props.recoveredState,\n    // callbacks\n    toggleFileCard: props.toggleFileCard,\n    handleRequestThumbnail: props.handleRequestThumbnail,\n    handleCancelThumbnail: props.handleCancelThumbnail\n  };\n\n  const sortByGhostComesFirst = (file1, file2) => {\n    return props.files[file2].isGhost - props.files[file1].isGhost;\n  }; // Sort files by file.isGhost, ghost files first, only if recoveredState is present\n\n\n  const files = Object.keys(props.files);\n  if (props.recoveredState) files.sort(sortByGhostComesFirst);\n  const rows = chunks(files, props.itemsPerRow);\n\n  const renderRow = row => // The `role=\"presentation` attribute ensures that the list items are properly\n  // associated with the `VirtualList` element.\n  // We use the first file ID as the key—this should not change across scroll rerenders\n  (0, _preact.h)(\"div\", {\n    role: \"presentation\",\n    key: row[0]\n  }, row.map(fileID => (0, _preact.h)(FileItem, _extends({\n    key: fileID,\n    uppy: props.uppy\n  }, fileProps, {\n    // eslint-disable-line react/jsx-props-no-spreading\n    role: \"listitem\",\n    openFileEditor: props.openFileEditor,\n    canEditFile: props.canEditFile,\n    toggleAddFilesPanel: props.toggleAddFilesPanel,\n    file: props.files[fileID]\n  }))));\n\n  return (0, _preact.h)(VirtualList, {\n    class: dashboardFilesClass,\n    role: \"list\",\n    data: rows,\n    renderRow: renderRow,\n    rowHeight: rowHeight\n  });\n};","\"use strict\";\n\nvar _preact = require(\"preact\");\n\nlet _Symbol$for;\n\n_Symbol$for = Symbol.for('uppy test: disable unused locale key warning');\n\nclass AddFiles extends _preact.Component {\n  constructor() {\n    super(...arguments);\n\n    this.triggerFileInputClick = () => {\n      this.fileInput.click();\n    };\n\n    this.triggerFolderInputClick = () => {\n      this.folderInput.click();\n    };\n\n    this.onFileInputChange = event => {\n      this.props.handleInputChange(event); // We clear the input after a file is selected, because otherwise\n      // change event is not fired in Chrome and Safari when a file\n      // with the same name is selected.\n      // ___Why not use value=\"\" on <input/> instead?\n      //    Because if we use that method of clearing the input,\n      //    Chrome will not trigger change if we drop the same file twice (Issue #768).\n\n      event.target.value = null; // eslint-disable-line no-param-reassign\n    };\n\n    this.renderHiddenInput = (isFolder, refCallback) => {\n      return (0, _preact.h)(\"input\", {\n        className: \"uppy-Dashboard-input\",\n        hidden: true,\n        \"aria-hidden\": \"true\",\n        tabIndex: -1,\n        webkitdirectory: isFolder,\n        type: \"file\",\n        name: \"files[]\",\n        multiple: this.props.maxNumberOfFiles !== 1,\n        onChange: this.onFileInputChange,\n        accept: this.props.allowedFileTypes,\n        ref: refCallback\n      });\n    };\n\n    this.renderMyDeviceAcquirer = () => {\n      return (0, _preact.h)(\"div\", {\n        className: \"uppy-DashboardTab\",\n        role: \"presentation\",\n        \"data-uppy-acquirer-id\": \"MyDevice\"\n      }, (0, _preact.h)(\"button\", {\n        type: \"button\",\n        className: \"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn\",\n        role: \"tab\",\n        tabIndex: 0,\n        \"data-uppy-super-focusable\": true,\n        onClick: this.triggerFileInputClick\n      }, (0, _preact.h)(\"svg\", {\n        \"aria-hidden\": \"true\",\n        focusable: \"false\",\n        width: \"32\",\n        height: \"32\",\n        viewBox: \"0 0 32 32\"\n      }, (0, _preact.h)(\"g\", {\n        fill: \"none\",\n        fillRule: \"evenodd\"\n      }, (0, _preact.h)(\"rect\", {\n        className: \"uppy-ProviderIconBg\",\n        width: \"32\",\n        height: \"32\",\n        rx: \"16\",\n        fill: \"#2275D7\"\n      }), (0, _preact.h)(\"path\", {\n        d: \"M21.973 21.152H9.863l-1.108-5.087h14.464l-1.246 5.087zM9.935 11.37h3.958l.886 1.444a.673.673 0 0 0 .585.316h6.506v1.37H9.935v-3.13zm14.898 3.44a.793.793 0 0 0-.616-.31h-.978v-2.126c0-.379-.275-.613-.653-.613H15.75l-.886-1.445a.673.673 0 0 0-.585-.316H9.232c-.378 0-.667.209-.667.587V14.5h-.782a.793.793 0 0 0-.61.303.795.795 0 0 0-.155.663l1.45 6.633c.078.36.396.618.764.618h13.354c.36 0 .674-.246.76-.595l1.631-6.636a.795.795 0 0 0-.144-.675z\",\n        fill: \"#FFF\"\n      }))), (0, _preact.h)(\"div\", {\n        className: \"uppy-DashboardTab-name\"\n      }, this.props.i18n('myDevice'))));\n    };\n\n    this.renderBrowseButton = (text, onClickFn) => {\n      const numberOfAcquirers = this.props.acquirers.length;\n      return (0, _preact.h)(\"button\", {\n        type: \"button\",\n        className: \"uppy-u-reset uppy-Dashboard-browse\",\n        onClick: onClickFn,\n        \"data-uppy-super-focusable\": numberOfAcquirers === 0\n      }, text);\n    };\n\n    this.renderDropPasteBrowseTagline = () => {\n      const numberOfAcquirers = this.props.acquirers.length;\n      const browseFiles = this.renderBrowseButton(this.props.i18n('browseFiles'), this.triggerFileInputClick);\n      const browseFolders = this.renderBrowseButton(this.props.i18n('browseFolders'), this.triggerFolderInputClick); // in order to keep the i18n CamelCase and options lower (as are defaults) we will want to transform a lower\n      // to Camel\n\n      const lowerFMSelectionType = this.props.fileManagerSelectionType;\n      const camelFMSelectionType = lowerFMSelectionType.charAt(0).toUpperCase() + lowerFMSelectionType.slice(1);\n      return (0, _preact.h)(\"div\", {\n        class: \"uppy-Dashboard-AddFiles-title\"\n      }, // eslint-disable-next-line no-nested-ternary\n      this.props.disableLocalFiles ? this.props.i18n('importFiles') : numberOfAcquirers > 0 ? this.props.i18nArray(`dropPasteImport${camelFMSelectionType}`, {\n        browseFiles,\n        browseFolders,\n        browse: browseFiles\n      }) : this.props.i18nArray(`dropPaste${camelFMSelectionType}`, {\n        browseFiles,\n        browseFolders,\n        browse: browseFiles\n      }));\n    };\n\n    this.renderAcquirer = acquirer => {\n      return (0, _preact.h)(\"div\", {\n        className: \"uppy-DashboardTab\",\n        role: \"presentation\",\n        \"data-uppy-acquirer-id\": acquirer.id\n      }, (0, _preact.h)(\"button\", {\n        type: \"button\",\n        className: \"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn\",\n        role: \"tab\",\n        tabIndex: 0,\n        \"data-cy\": acquirer.id,\n        \"aria-controls\": `uppy-DashboardContent-panel--${acquirer.id}`,\n        \"aria-selected\": this.props.activePickerPanel.id === acquirer.id,\n        \"data-uppy-super-focusable\": true,\n        onClick: () => this.props.showPanel(acquirer.id)\n      }, acquirer.icon(), (0, _preact.h)(\"div\", {\n        className: \"uppy-DashboardTab-name\"\n      }, acquirer.name)));\n    };\n\n    this.renderAcquirers = (acquirers, disableLocalFiles) => {\n      // Group last two buttons, so we don’t end up with\n      // just one button on a new line\n      const acquirersWithoutLastTwo = [...acquirers];\n      const lastTwoAcquirers = acquirersWithoutLastTwo.splice(acquirers.length - 2, acquirers.length);\n      return (0, _preact.h)(\"div\", {\n        className: \"uppy-Dashboard-AddFiles-list\",\n        role: \"tablist\"\n      }, !disableLocalFiles && this.renderMyDeviceAcquirer(), acquirersWithoutLastTwo.map(acquirer => this.renderAcquirer(acquirer)), (0, _preact.h)(\"span\", {\n        role: \"presentation\",\n        style: {\n          'white-space': 'nowrap'\n        }\n      }, lastTwoAcquirers.map(acquirer => this.renderAcquirer(acquirer))));\n    };\n  }\n\n  [_Symbol$for]() {\n    // Those are actually used in `renderDropPasteBrowseTagline` method.\n    this.props.i18nArray('dropPasteBoth');\n    this.props.i18nArray('dropPasteFiles');\n    this.props.i18nArray('dropPasteFolders');\n    this.props.i18nArray('dropPasteImportBoth');\n    this.props.i18nArray('dropPasteImportFiles');\n    this.props.i18nArray('dropPasteImportFolders');\n  }\n\n  renderPoweredByUppy() {\n    const {\n      i18nArray\n    } = this.props;\n    const uppyBranding = (0, _preact.h)(\"span\", null, (0, _preact.h)(\"svg\", {\n      \"aria-hidden\": \"true\",\n      focusable: \"false\",\n      className: \"uppy-c-icon uppy-Dashboard-poweredByIcon\",\n      width: \"11\",\n      height: \"11\",\n      viewBox: \"0 0 11 11\"\n    }, (0, _preact.h)(\"path\", {\n      d: \"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z\",\n      fillRule: \"evenodd\"\n    })), (0, _preact.h)(\"span\", {\n      className: \"uppy-Dashboard-poweredByUppy\"\n    }, \"Uppy\"));\n    const linkText = i18nArray('poweredBy', {\n      uppy: uppyBranding\n    });\n    return (0, _preact.h)(\"a\", {\n      tabIndex: \"-1\",\n      href: \"https://uppy.io\",\n      rel: \"noreferrer noopener\",\n      target: \"_blank\",\n      className: \"uppy-Dashboard-poweredBy\"\n    }, linkText);\n  }\n\n  render() {\n    return (0, _preact.h)(\"div\", {\n      className: \"uppy-Dashboard-AddFiles\"\n    }, this.renderHiddenInput(false, ref => {\n      this.fileInput = ref;\n    }), this.renderHiddenInput(true, ref => {\n      this.folderInput = ref;\n    }), this.renderDropPasteBrowseTagline(), this.props.acquirers.length > 0 && this.renderAcquirers(this.props.acquirers, this.props.disableLocalFiles), (0, _preact.h)(\"div\", {\n      className: \"uppy-Dashboard-AddFiles-info\"\n    }, this.props.note && (0, _preact.h)(\"div\", {\n      className: \"uppy-Dashboard-note\"\n    }, this.props.note), this.props.proudlyDisplayPoweredByUppy && this.renderPoweredByUppy(this.props)));\n  }\n\n}\n\nmodule.exports = AddFiles;","\"use strict\";\n\nvar _preact = require(\"preact\");\n\nconst classNames = require(\"classnames\");\n\nconst AddFiles = require(\"./AddFiles.js\");\n\nconst AddFilesPanel = props => {\n  return (0, _preact.h)(\"div\", {\n    className: classNames('uppy-Dashboard-AddFilesPanel', props.className),\n    \"data-uppy-panelType\": \"AddFiles\",\n    \"aria-hidden\": props.showAddFilesPanel\n  }, (0, _preact.h)(\"div\", {\n    className: \"uppy-DashboardContent-bar\"\n  }, (0, _preact.h)(\"div\", {\n    className: \"uppy-DashboardContent-title\",\n    role: \"heading\",\n    \"aria-level\": \"1\"\n  }, props.i18n('addingMoreFiles')), (0, _preact.h)(\"button\", {\n    className: \"uppy-DashboardContent-back\",\n    type: \"button\",\n    onClick: () => props.toggleAddFilesPanel(false)\n  }, props.i18n('back'))), (0, _preact.h)(AddFiles, props));\n};\n\nmodule.exports = AddFilesPanel;","\"use strict\";\n\n// ignore drop/paste events if they are not in input or textarea —\n// otherwise when Url plugin adds drop/paste listeners to this.el,\n// draging UI elements or pasting anything into any field triggers those events —\n// Url treats them as URLs that need to be imported\nfunction ignoreEvent(ev) {\n  const {\n    tagName\n  } = ev.target;\n\n  if (tagName === 'INPUT' || tagName === 'TEXTAREA') {\n    ev.stopPropagation();\n    return;\n  }\n\n  ev.preventDefault();\n  ev.stopPropagation();\n}\n\nmodule.exports = ignoreEvent;","\"use strict\";\n\nvar _preact = require(\"preact\");\n\nconst classNames = require(\"classnames\");\n\nconst ignoreEvent = require(\"../utils/ignoreEvent.js\");\n\nfunction PickerPanelContent(_ref) {\n  let {\n    activePickerPanel,\n    className,\n    hideAllPanels,\n    i18n,\n    state,\n    uppy\n  } = _ref;\n  return (0, _preact.h)(\"div\", {\n    className: classNames('uppy-DashboardContent-panel', className),\n    role: \"tabpanel\",\n    \"data-uppy-panelType\": \"PickerPanel\",\n    id: `uppy-DashboardContent-panel--${activePickerPanel.id}`,\n    onDragOver: ignoreEvent,\n    onDragLeave: ignoreEvent,\n    onDrop: ignoreEvent,\n    onPaste: ignoreEvent\n  }, (0, _preact.h)(\"div\", {\n    className: \"uppy-DashboardContent-bar\"\n  }, (0, _preact.h)(\"div\", {\n    className: \"uppy-DashboardContent-title\",\n    role: \"heading\",\n    \"aria-level\": \"1\"\n  }, i18n('importFrom', {\n    name: activePickerPanel.name\n  })), (0, _preact.h)(\"button\", {\n    className: \"uppy-DashboardContent-back\",\n    type: \"button\",\n    onClick: hideAllPanels\n  }, i18n('cancel'))), (0, _preact.h)(\"div\", {\n    className: \"uppy-DashboardContent-panelBody\"\n  }, uppy.getPlugin(activePickerPanel.id).render(state)));\n}\n\nmodule.exports = PickerPanelContent;","\"use strict\";\n\nvar _preact = require(\"preact\");\n\nconst classNames = require(\"classnames\");\n\nfunction EditorPanel(props) {\n  const file = props.files[props.fileCardFor];\n  return (0, _preact.h)(\"div\", {\n    className: classNames('uppy-DashboardContent-panel', props.className),\n    role: \"tabpanel\",\n    \"data-uppy-panelType\": \"FileEditor\",\n    id: \"uppy-DashboardContent-panel--editor\"\n  }, (0, _preact.h)(\"div\", {\n    className: \"uppy-DashboardContent-bar\"\n  }, (0, _preact.h)(\"div\", {\n    className: \"uppy-DashboardContent-title\",\n    role: \"heading\",\n    \"aria-level\": \"1\"\n  }, props.i18nArray('editing', {\n    file: (0, _preact.h)(\"span\", {\n      className: \"uppy-DashboardContent-titleFile\"\n    }, file.meta ? file.meta.name : file.name)\n  })), (0, _preact.h)(\"button\", {\n    className: \"uppy-DashboardContent-back\",\n    type: \"button\",\n    onClick: props.hideAllPanels\n  }, props.i18n('cancel')), (0, _preact.h)(\"button\", {\n    className: \"uppy-DashboardContent-save\",\n    type: \"button\",\n    onClick: props.saveFileEditor\n  }, props.i18n('save'))), (0, _preact.h)(\"div\", {\n    className: \"uppy-DashboardContent-panelBody\"\n  }, props.editors.map(target => {\n    return props.uppy.getPlugin(target.id).render(props.state);\n  })));\n}\n\nmodule.exports = EditorPanel;","\"use strict\";\n\nvar _preact = require(\"preact\");\n\nconst uploadStates = {\n  STATE_ERROR: 'error',\n  STATE_WAITING: 'waiting',\n  STATE_PREPROCESSING: 'preprocessing',\n  STATE_UPLOADING: 'uploading',\n  STATE_POSTPROCESSING: 'postprocessing',\n  STATE_COMPLETE: 'complete',\n  STATE_PAUSED: 'paused'\n};\n\nfunction getUploadingState(isAllErrored, isAllComplete, isAllPaused, files) {\n  if (files === void 0) {\n    files = {};\n  }\n\n  if (isAllErrored) {\n    return uploadStates.STATE_ERROR;\n  }\n\n  if (isAllComplete) {\n    return uploadStates.STATE_COMPLETE;\n  }\n\n  if (isAllPaused) {\n    return uploadStates.STATE_PAUSED;\n  }\n\n  let state = uploadStates.STATE_WAITING;\n  const fileIDs = Object.keys(files);\n\n  for (let i = 0; i < fileIDs.length; i++) {\n    const {\n      progress\n    } = files[fileIDs[i]]; // If ANY files are being uploaded right now, show the uploading state.\n\n    if (progress.uploadStarted && !progress.uploadComplete) {\n      return uploadStates.STATE_UPLOADING;\n    } // If files are being preprocessed AND postprocessed at this time, we show the\n    // preprocess state. If any files are being uploaded we show uploading.\n\n\n    if (progress.preprocess && state !== uploadStates.STATE_UPLOADING) {\n      state = uploadStates.STATE_PREPROCESSING;\n    } // If NO files are being preprocessed or uploaded right now, but some files are\n    // being postprocessed, show the postprocess state.\n\n\n    if (progress.postprocess && state !== uploadStates.STATE_UPLOADING && state !== uploadStates.STATE_PREPROCESSING) {\n      state = uploadStates.STATE_POSTPROCESSING;\n    }\n  }\n\n  return state;\n}\n\nfunction UploadStatus(_ref) {\n  let {\n    files,\n    i18n,\n    isAllComplete,\n    isAllErrored,\n    isAllPaused,\n    inProgressNotPausedFiles,\n    newFiles,\n    processingFiles\n  } = _ref;\n  const uploadingState = getUploadingState(isAllErrored, isAllComplete, isAllPaused, files);\n\n  switch (uploadingState) {\n    case 'uploading':\n      return i18n('uploadingXFiles', {\n        smart_count: inProgressNotPausedFiles.length\n      });\n\n    case 'preprocessing':\n    case 'postprocessing':\n      return i18n('processingXFiles', {\n        smart_count: processingFiles.length\n      });\n\n    case 'paused':\n      return i18n('uploadPaused');\n\n    case 'waiting':\n      return i18n('xFilesSelected', {\n        smart_count: newFiles.length\n      });\n\n    case 'complete':\n      return i18n('uploadComplete');\n\n    default:\n  }\n}\n\nfunction PanelTopBar(props) {\n  const {\n    i18n,\n    isAllComplete,\n    hideCancelButton,\n    maxNumberOfFiles,\n    toggleAddFilesPanel,\n    uppy\n  } = props;\n  let {\n    allowNewUpload\n  } = props; // TODO maybe this should be done in ../Dashboard.jsx, then just pass that down as `allowNewUpload`\n\n  if (allowNewUpload && maxNumberOfFiles) {\n    // eslint-disable-next-line react/destructuring-assignment\n    allowNewUpload = props.totalFileCount < props.maxNumberOfFiles;\n  }\n\n  return (0, _preact.h)(\"div\", {\n    className: \"uppy-DashboardContent-bar\"\n  }, !isAllComplete && !hideCancelButton ? (0, _preact.h)(\"button\", {\n    className: \"uppy-DashboardContent-back\",\n    type: \"button\",\n    onClick: () => uppy.cancelAll()\n  }, i18n('cancel')) : (0, _preact.h)(\"div\", null), (0, _preact.h)(\"div\", {\n    className: \"uppy-DashboardContent-title\",\n    role: \"heading\",\n    \"aria-level\": \"1\"\n  }, (0, _preact.h)(UploadStatus, props)), allowNewUpload ? (0, _preact.h)(\"button\", {\n    className: \"uppy-DashboardContent-addMore\",\n    type: \"button\",\n    \"aria-label\": i18n('addMoreFiles'),\n    title: i18n('addMoreFiles'),\n    onClick: () => toggleAddFilesPanel(true)\n  }, (0, _preact.h)(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"15\",\n    height: \"15\",\n    viewBox: \"0 0 15 15\"\n  }, (0, _preact.h)(\"path\", {\n    d: \"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z\"\n  })), (0, _preact.h)(\"span\", {\n    className: \"uppy-DashboardContent-addMoreCaption\"\n  }, i18n('addMore'))) : (0, _preact.h)(\"div\", null));\n}\n\nmodule.exports = PanelTopBar;","\"use strict\";\n\nvar _preact = require(\"preact\");\n\nvar _nonSecure = require(\"nanoid/non-secure\");\n\nconst classNames = require(\"classnames\");\n\nconst getFileTypeIcon = require(\"../../utils/getFileTypeIcon.js\");\n\nconst ignoreEvent = require(\"../../utils/ignoreEvent.js\");\n\nconst FilePreview = require(\"../FilePreview.js\");\n\nclass FileCard extends _preact.Component {\n  constructor(props) {\n    super(props);\n    this.form = document.createElement('form');\n\n    this.updateMeta = (newVal, name) => {\n      this.setState(_ref => {\n        let {\n          formState\n        } = _ref;\n        return {\n          formState: { ...formState,\n            [name]: newVal\n          }\n        };\n      });\n    };\n\n    this.handleSave = e => {\n      e.preventDefault();\n      const fileID = this.props.fileCardFor;\n      this.props.saveFileCard(this.state.formState, fileID);\n    };\n\n    this.handleCancel = () => {\n      const file = this.props.files[this.props.fileCardFor];\n      this.props.uppy.emit('file-editor:cancel', file);\n      this.props.toggleFileCard(false);\n    };\n\n    this.saveOnEnter = ev => {\n      if (ev.keyCode === 13) {\n        ev.stopPropagation();\n        ev.preventDefault();\n        const file = this.props.files[this.props.fileCardFor];\n        this.props.saveFileCard(this.state.formState, file.id);\n      }\n    };\n\n    this.renderMetaFields = () => {\n      const metaFields = this.getMetaFields() || [];\n      const fieldCSSClasses = {\n        text: 'uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input'\n      };\n      return metaFields.map(field => {\n        const id = `uppy-Dashboard-FileCard-input-${field.id}`;\n        const required = this.props.requiredMetaFields.includes(field.id);\n        return (0, _preact.h)(\"fieldset\", {\n          key: field.id,\n          className: \"uppy-Dashboard-FileCard-fieldset\"\n        }, (0, _preact.h)(\"label\", {\n          className: \"uppy-Dashboard-FileCard-label\",\n          htmlFor: id\n        }, field.name), field.render !== undefined ? field.render({\n          value: this.state.formState[field.id],\n          onChange: newVal => this.updateMeta(newVal, field.id),\n          fieldCSSClasses,\n          required,\n          form: this.form.id\n        }, _preact.h) : (0, _preact.h)(\"input\", {\n          className: fieldCSSClasses.text,\n          id: id,\n          form: this.form.id,\n          type: field.type || 'text',\n          required: required,\n          value: this.state.formState[field.id],\n          placeholder: field.placeholder // If `form` attribute is not supported, we need to capture pressing Enter to avoid bubbling in case Uppy is\n          // embedded inside a <form>.\n          ,\n          onKeyUp: 'form' in HTMLInputElement.prototype ? undefined : this.saveOnEnter,\n          onKeyDown: 'form' in HTMLInputElement.prototype ? undefined : this.saveOnEnter,\n          onKeyPress: 'form' in HTMLInputElement.prototype ? undefined : this.saveOnEnter,\n          onInput: ev => this.updateMeta(ev.target.value, field.id),\n          \"data-uppy-super-focusable\": true\n        }));\n      });\n    };\n\n    const _file = this.props.files[this.props.fileCardFor];\n\n    const _metaFields = this.getMetaFields() || [];\n\n    const storedMetaData = {};\n\n    _metaFields.forEach(field => {\n      storedMetaData[field.id] = _file.meta[field.id] || '';\n    });\n\n    this.state = {\n      formState: storedMetaData\n    };\n    this.form.id = (0, _nonSecure.nanoid)();\n  } // TODO(aduh95): move this to `UNSAFE_componentWillMount` when updating to Preact X+.\n\n\n  componentWillMount() {\n    // eslint-disable-line react/no-deprecated\n    this.form.addEventListener('submit', this.handleSave);\n    document.body.appendChild(this.form);\n  }\n\n  componentWillUnmount() {\n    this.form.removeEventListener('submit', this.handleSave);\n    document.body.removeChild(this.form);\n  }\n\n  getMetaFields() {\n    return typeof this.props.metaFields === 'function' ? this.props.metaFields(this.props.files[this.props.fileCardFor]) : this.props.metaFields;\n  }\n\n  render() {\n    const file = this.props.files[this.props.fileCardFor];\n    const showEditButton = this.props.canEditFile(file);\n    return (0, _preact.h)(\"div\", {\n      className: classNames('uppy-Dashboard-FileCard', this.props.className),\n      \"data-uppy-panelType\": \"FileCard\",\n      onDragOver: ignoreEvent,\n      onDragLeave: ignoreEvent,\n      onDrop: ignoreEvent,\n      onPaste: ignoreEvent\n    }, (0, _preact.h)(\"div\", {\n      className: \"uppy-DashboardContent-bar\"\n    }, (0, _preact.h)(\"div\", {\n      className: \"uppy-DashboardContent-title\",\n      role: \"heading\",\n      \"aria-level\": \"1\"\n    }, this.props.i18nArray('editing', {\n      file: (0, _preact.h)(\"span\", {\n        className: \"uppy-DashboardContent-titleFile\"\n      }, file.meta ? file.meta.name : file.name)\n    })), (0, _preact.h)(\"button\", {\n      className: \"uppy-DashboardContent-back\",\n      type: \"button\",\n      form: this.form.id,\n      title: this.props.i18n('finishEditingFile'),\n      onClick: this.handleCancel\n    }, this.props.i18n('cancel'))), (0, _preact.h)(\"div\", {\n      className: \"uppy-Dashboard-FileCard-inner\"\n    }, (0, _preact.h)(\"div\", {\n      className: \"uppy-Dashboard-FileCard-preview\",\n      style: {\n        backgroundColor: getFileTypeIcon(file.type).color\n      }\n    }, (0, _preact.h)(FilePreview, {\n      file: file\n    }), showEditButton && (0, _preact.h)(\"button\", {\n      type: \"button\",\n      className: \"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit\",\n      onClick: event => {\n        // When opening the image editor we want to save any meta fields changes.\n        // Otherwise it's confusing for the user to click save in the editor,\n        // but the changes here are discarded. This bypasses validation,\n        // but we are okay with that.\n        this.handleSave(event);\n        this.props.openFileEditor(file);\n      },\n      form: this.form.id\n    }, this.props.i18n('editFile'))), (0, _preact.h)(\"div\", {\n      className: \"uppy-Dashboard-FileCard-info\"\n    }, this.renderMetaFields()), (0, _preact.h)(\"div\", {\n      className: \"uppy-Dashboard-FileCard-actions\"\n    }, (0, _preact.h)(\"button\", {\n      className: \"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn\" // If `form` attribute is supported, we want a submit button to trigger the form validation.\n      // Otherwise, fallback to a classic button with a onClick event handler.\n      ,\n      type: 'form' in HTMLButtonElement.prototype ? 'submit' : 'button',\n      onClick: 'form' in HTMLButtonElement.prototype ? undefined : this.handleSave,\n      form: this.form.id\n    }, this.props.i18n('saveChanges')), (0, _preact.h)(\"button\", {\n      className: \"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn\",\n      type: \"button\",\n      onClick: this.handleCancel,\n      form: this.form.id\n    }, this.props.i18n('cancel')))));\n  }\n\n}\n\nmodule.exports = FileCard;","\"use strict\";\n\nvar _preact = require(\"preact\");\n\nconst classNames = require(\"classnames\");\n\nconst transitionName = 'uppy-transition-slideDownUp';\nconst duration = 250;\n/**\n * Vertical slide transition.\n *\n * This can take a _single_ child component, which _must_ accept a `className` prop.\n *\n * Currently this is specific to the `uppy-transition-slideDownUp` transition,\n * but it should be simple to extend this for any type of single-element\n * transition by setting the CSS name and duration as props.\n */\n\nclass Slide extends _preact.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      cachedChildren: null,\n      className: ''\n    };\n  } // TODO: refactor to stable lifecycle method\n  // eslint-disable-next-line\n\n\n  componentWillUpdate(nextProps) {\n    const {\n      cachedChildren\n    } = this.state;\n    const child = (0, _preact.toChildArray)(nextProps.children)[0];\n    if (cachedChildren === child) return null;\n    const patch = {\n      cachedChildren: child\n    }; // Enter transition\n\n    if (child && !cachedChildren) {\n      patch.className = `${transitionName}-enter`;\n      cancelAnimationFrame(this.animationFrame);\n      clearTimeout(this.leaveTimeout);\n      this.leaveTimeout = undefined;\n      this.animationFrame = requestAnimationFrame(() => {\n        // Force it to render before we add the active class\n        // this.base.getBoundingClientRect()\n        this.setState({\n          className: `${transitionName}-enter ${transitionName}-enter-active`\n        });\n        this.enterTimeout = setTimeout(() => {\n          this.setState({\n            className: ''\n          });\n        }, duration);\n      });\n    } // Leave transition\n\n\n    if (cachedChildren && !child && this.leaveTimeout === undefined) {\n      patch.cachedChildren = cachedChildren;\n      patch.className = `${transitionName}-leave`;\n      cancelAnimationFrame(this.animationFrame);\n      clearTimeout(this.enterTimeout);\n      this.enterTimeout = undefined;\n      this.animationFrame = requestAnimationFrame(() => {\n        this.setState({\n          className: `${transitionName}-leave ${transitionName}-leave-active`\n        });\n        this.leaveTimeout = setTimeout(() => {\n          this.setState({\n            cachedChildren: null,\n            className: ''\n          });\n        }, duration);\n      });\n    } // eslint-disable-next-line\n\n\n    this.setState(patch);\n  }\n\n  render() {\n    const {\n      cachedChildren,\n      className\n    } = this.state;\n\n    if (!cachedChildren) {\n      return null;\n    }\n\n    return (0, _preact.cloneElement)(cachedChildren, {\n      className: classNames(className, cachedChildren.props.className)\n    });\n  }\n\n}\n\nmodule.exports = Slide;","\"use strict\";\n\nvar _preact = require(\"preact\");\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nconst classNames = require(\"classnames\");\n\nconst isDragDropSupported = require(\"@uppy/utils/lib/isDragDropSupported\");\n\nconst FileList = require(\"./FileList.js\");\n\nconst AddFiles = require(\"./AddFiles.js\");\n\nconst AddFilesPanel = require(\"./AddFilesPanel.js\");\n\nconst PickerPanelContent = require(\"./PickerPanelContent.js\");\n\nconst EditorPanel = require(\"./EditorPanel.js\");\n\nconst PanelTopBar = require(\"./PickerPanelTopBar.js\");\n\nconst FileCard = require(\"./FileCard/index.js\");\n\nconst Slide = require(\"./Slide.js\"); // http://dev.edenspiekermann.com/2016/02/11/introducing-accessible-modal-dialog\n// https://github.com/ghosh/micromodal\n\n\nconst WIDTH_XL = 900;\nconst WIDTH_LG = 700;\nconst WIDTH_MD = 576;\nconst HEIGHT_MD = 400;\n\nfunction Dashboard(props) {\n  const noFiles = props.totalFileCount === 0;\n  const isSizeMD = props.containerWidth > WIDTH_MD;\n  const dashboardClassName = classNames({\n    'uppy-Dashboard': true,\n    'uppy-Dashboard--isDisabled': props.disabled,\n    'uppy-Dashboard--animateOpenClose': props.animateOpenClose,\n    'uppy-Dashboard--isClosing': props.isClosing,\n    'uppy-Dashboard--isDraggingOver': props.isDraggingOver,\n    'uppy-Dashboard--modal': !props.inline,\n    'uppy-size--md': props.containerWidth > WIDTH_MD,\n    'uppy-size--lg': props.containerWidth > WIDTH_LG,\n    'uppy-size--xl': props.containerWidth > WIDTH_XL,\n    'uppy-size--height-md': props.containerHeight > HEIGHT_MD,\n    'uppy-Dashboard--isAddFilesPanelVisible': props.showAddFilesPanel,\n    'uppy-Dashboard--isInnerWrapVisible': props.areInsidesReadyToBeVisible\n  }); // Important: keep these in sync with the percent width values in `src/components/FileItem/index.scss`.\n\n  let itemsPerRow = 1; // mobile\n\n  if (props.containerWidth > WIDTH_XL) {\n    itemsPerRow = 5;\n  } else if (props.containerWidth > WIDTH_LG) {\n    itemsPerRow = 4;\n  } else if (props.containerWidth > WIDTH_MD) {\n    itemsPerRow = 3;\n  }\n\n  const showFileList = props.showSelectedFiles && !noFiles;\n  const numberOfFilesForRecovery = props.recoveredState ? Object.keys(props.recoveredState.files).length : null;\n  const numberOfGhosts = props.files ? Object.keys(props.files).filter(fileID => props.files[fileID].isGhost).length : null;\n\n  const renderRestoredText = () => {\n    if (numberOfGhosts > 0) {\n      return props.i18n('recoveredXFiles', {\n        smart_count: numberOfGhosts\n      });\n    }\n\n    return props.i18n('recoveredAllFiles');\n  };\n\n  const dashboard = (0, _preact.h)(\"div\", {\n    className: dashboardClassName,\n    \"data-uppy-theme\": props.theme,\n    \"data-uppy-num-acquirers\": props.acquirers.length,\n    \"data-uppy-drag-drop-supported\": !props.disableLocalFiles && isDragDropSupported(),\n    \"aria-hidden\": props.inline ? 'false' : props.isHidden,\n    \"aria-disabled\": props.disabled,\n    \"aria-label\": !props.inline ? props.i18n('dashboardWindowTitle') : props.i18n('dashboardTitle'),\n    onPaste: props.handlePaste,\n    onDragOver: props.handleDragOver,\n    onDragLeave: props.handleDragLeave,\n    onDrop: props.handleDrop\n  }, (0, _preact.h)(\"div\", {\n    \"aria-hidden\": \"true\",\n    className: \"uppy-Dashboard-overlay\",\n    tabIndex: -1,\n    onClick: props.handleClickOutside\n  }), (0, _preact.h)(\"div\", {\n    className: \"uppy-Dashboard-inner\",\n    \"aria-modal\": !props.inline && 'true',\n    role: !props.inline && 'dialog',\n    style: {\n      width: props.inline && props.width ? props.width : '',\n      height: props.inline && props.height ? props.height : ''\n    }\n  }, !props.inline ? (0, _preact.h)(\"button\", {\n    className: \"uppy-u-reset uppy-Dashboard-close\",\n    type: \"button\",\n    \"aria-label\": props.i18n('closeModal'),\n    title: props.i18n('closeModal'),\n    onClick: props.closeModal\n  }, (0, _preact.h)(\"span\", {\n    \"aria-hidden\": \"true\"\n  }, \"\\xD7\")) : null, (0, _preact.h)(\"div\", {\n    className: \"uppy-Dashboard-innerWrap\"\n  }, (0, _preact.h)(\"div\", {\n    className: \"uppy-Dashboard-dropFilesHereHint\"\n  }, props.i18n('dropHint')), showFileList && (0, _preact.h)(PanelTopBar, props), numberOfFilesForRecovery && (0, _preact.h)(\"div\", {\n    className: \"uppy-Dashboard-serviceMsg\"\n  }, (0, _preact.h)(\"svg\", {\n    className: \"uppy-Dashboard-serviceMsg-icon\",\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    width: \"21\",\n    height: \"16\",\n    viewBox: \"0 0 24 19\"\n  }, (0, _preact.h)(\"g\", {\n    transform: \"translate(0 -1)\",\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, (0, _preact.h)(\"path\", {\n    d: \"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z\",\n    fill: \"#FFD300\"\n  }), (0, _preact.h)(\"path\", {\n    fill: \"#000\",\n    d: \"M11 6h2l-.3 8h-1.4z\"\n  }), (0, _preact.h)(\"circle\", {\n    fill: \"#000\",\n    cx: \"12\",\n    cy: \"17\",\n    r: \"1\"\n  }))), (0, _preact.h)(\"strong\", {\n    className: \"uppy-Dashboard-serviceMsg-title\"\n  }, props.i18n('sessionRestored')), (0, _preact.h)(\"div\", {\n    className: \"uppy-Dashboard-serviceMsg-text\"\n  }, renderRestoredText())), showFileList ? (0, _preact.h)(FileList // eslint-disable-next-line react/jsx-props-no-spreading\n  , _extends({}, props, {\n    itemsPerRow: itemsPerRow\n  })) : // eslint-disable-next-line react/jsx-props-no-spreading\n  (0, _preact.h)(AddFiles, _extends({}, props, {\n    isSizeMD: isSizeMD\n  })), (0, _preact.h)(Slide, null, props.showAddFilesPanel ? (0, _preact.h)(AddFilesPanel, _extends({\n    key: \"AddFiles\"\n  }, props, {\n    isSizeMD: isSizeMD\n  })) : null), (0, _preact.h)(Slide, null, props.fileCardFor ? (0, _preact.h)(FileCard, _extends({\n    key: \"FileCard\"\n  }, props)) : null), (0, _preact.h)(Slide, null, props.activePickerPanel ? (0, _preact.h)(PickerPanelContent, _extends({\n    key: \"Picker\"\n  }, props)) : null), (0, _preact.h)(Slide, null, props.showFileEditor ? (0, _preact.h)(EditorPanel, _extends({\n    key: \"Editor\"\n  }, props)) : null), (0, _preact.h)(\"div\", {\n    className: \"uppy-Dashboard-progressindicators\"\n  }, props.progressindicators.map(target => {\n    return props.uppy.getPlugin(target.id).render(props.state);\n  })))));\n  return dashboard;\n}\n\nmodule.exports = Dashboard;","\"use strict\";\n\nmodule.exports = {\n  strings: {\n    // When `inline: false`, used as the screen reader label for the button that closes the modal.\n    closeModal: 'Close Modal',\n    // Used as the screen reader label for the plus (+) button that shows the “Add more files” screen\n    addMoreFiles: 'Add more files',\n    addingMoreFiles: 'Adding more files',\n    // Used as the header for import panels, e.g., “Import from Google Drive”.\n    importFrom: 'Import from %{name}',\n    // When `inline: false`, used as the screen reader label for the dashboard modal.\n    dashboardWindowTitle: 'Uppy Dashboard Window (Press escape to close)',\n    // When `inline: true`, used as the screen reader label for the dashboard area.\n    dashboardTitle: 'Uppy Dashboard',\n    // Shown in the Informer when a link to a file was copied to the clipboard.\n    copyLinkToClipboardSuccess: 'Link copied to clipboard.',\n    // Used when a link cannot be copied automatically — the user has to select the text from the\n    // input element below this string.\n    copyLinkToClipboardFallback: 'Copy the URL below',\n    // Used as the hover title and screen reader label for buttons that copy a file link.\n    copyLink: 'Copy link',\n    back: 'Back',\n    // Used as the screen reader label for buttons that remove a file.\n    removeFile: 'Remove file',\n    // Used as the screen reader label for buttons that open the metadata editor panel for a file.\n    editFile: 'Edit file',\n    // Shown in the panel header for the metadata editor. Rendered as “Editing image.png”.\n    editing: 'Editing %{file}',\n    // Used as the screen reader label for the button that saves metadata edits and returns to the\n    // file list view.\n    finishEditingFile: 'Finish editing file',\n    saveChanges: 'Save changes',\n    // Used as the label for the tab button that opens the system file selection dialog.\n    myDevice: 'My Device',\n    dropHint: 'Drop your files here',\n    // Used as the hover text and screen reader label for file progress indicators when\n    // they have been fully uploaded.\n    uploadComplete: 'Upload complete',\n    uploadPaused: 'Upload paused',\n    // Used as the hover text and screen reader label for the buttons to resume paused uploads.\n    resumeUpload: 'Resume upload',\n    // Used as the hover text and screen reader label for the buttons to pause uploads.\n    pauseUpload: 'Pause upload',\n    // Used as the hover text and screen reader label for the buttons to retry failed uploads.\n    retryUpload: 'Retry upload',\n    // Used as the hover text and screen reader label for the buttons to cancel uploads.\n    cancelUpload: 'Cancel upload',\n    // Used in a title, how many files are currently selected\n    xFilesSelected: {\n      0: '%{smart_count} file selected',\n      1: '%{smart_count} files selected'\n    },\n    uploadingXFiles: {\n      0: 'Uploading %{smart_count} file',\n      1: 'Uploading %{smart_count} files'\n    },\n    processingXFiles: {\n      0: 'Processing %{smart_count} file',\n      1: 'Processing %{smart_count} files'\n    },\n    // The \"powered by Uppy\" link at the bottom of the Dashboard.\n    poweredBy: 'Powered by %{uppy}',\n    addMore: 'Add more',\n    editFileWithFilename: 'Edit file %{file}',\n    save: 'Save',\n    cancel: 'Cancel',\n    dropPasteFiles: 'Drop files here or %{browseFiles}',\n    dropPasteFolders: 'Drop files here or %{browseFolders}',\n    dropPasteBoth: 'Drop files here, %{browseFiles} or %{browseFolders}',\n    dropPasteImportFiles: 'Drop files here, %{browseFiles} or import from:',\n    dropPasteImportFolders: 'Drop files here, %{browseFolders} or import from:',\n    dropPasteImportBoth: 'Drop files here, %{browseFiles}, %{browseFolders} or import from:',\n    importFiles: 'Import files from:',\n    browseFiles: 'browse files',\n    browseFolders: 'browse folders',\n    recoveredXFiles: {\n      0: 'We could not fully recover 1 file. Please re-select it and resume the upload.',\n      1: 'We could not fully recover %{smart_count} files. Please re-select them and resume the upload.'\n    },\n    recoveredAllFiles: 'We restored all files. You can now resume the upload.',\n    sessionRestored: 'Session restored',\n    reSelect: 'Re-select',\n    missingRequiredMetaFields: {\n      0: 'Missing required meta field: %{fields}.',\n      1: 'Missing required meta fields: %{fields}.'\n    }\n  }\n};","\"use strict\";\n\nvar _preact = require(\"preact\");\n\nvar _core = require(\"@uppy/core\");\n\nvar _nonSecure = require(\"nanoid/non-secure\");\n\nvar trapFocus = require(\"./utils/trapFocus.js\");\n\nfunction _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError(\"attempted to use private field on non-instance\"); } return receiver; }\n\nvar id = 0;\n\nfunction _classPrivateFieldLooseKey(name) { return \"__private_\" + id++ + \"_\" + name; }\n\nconst StatusBar = require(\"@uppy/status-bar\");\n\nconst Informer = require(\"@uppy/informer\");\n\nconst ThumbnailGenerator = require(\"@uppy/thumbnail-generator\");\n\nconst findAllDOMElements = require(\"@uppy/utils/lib/findAllDOMElements\");\n\nconst toArray = require(\"@uppy/utils/lib/toArray\");\n\nconst getDroppedFiles = require(\"@uppy/utils/lib/getDroppedFiles\");\n\nconst memoizeOne = require(\"memoize-one\");\n\nconst FOCUSABLE_ELEMENTS = require(\"@uppy/utils/lib/FOCUSABLE_ELEMENTS.js\");\n\nconst createSuperFocus = require(\"./utils/createSuperFocus.js\");\n\nconst DashboardUI = require(\"./components/Dashboard.js\");\n\nconst packageJson = {\n  \"version\": \"2.4.3\"\n};\n\nconst locale = require(\"./locale.js\");\n\nconst memoize = memoizeOne.default || memoizeOne;\nconst TAB_KEY = 9;\nconst ESC_KEY = 27;\n\nfunction createPromise() {\n  const o = {};\n  o.promise = new Promise((resolve, reject) => {\n    o.resolve = resolve;\n    o.reject = reject;\n  });\n  return o;\n}\n\nfunction defaultPickerIcon() {\n  return (0, _preact.h)(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    width: \"30\",\n    height: \"30\",\n    viewBox: \"0 0 30 30\"\n  }, (0, _preact.h)(\"path\", {\n    d: \"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z\"\n  }));\n}\n/**\n * Dashboard UI with previews, metadata editing, tabs for various services and more\n */\n\n\nvar _openFileEditorWhenFilesAdded = /*#__PURE__*/_classPrivateFieldLooseKey(\"openFileEditorWhenFilesAdded\");\n\nvar _attachRenderFunctionToTarget = /*#__PURE__*/_classPrivateFieldLooseKey(\"attachRenderFunctionToTarget\");\n\nvar _isTargetSupported = /*#__PURE__*/_classPrivateFieldLooseKey(\"isTargetSupported\");\n\nvar _getAcquirers = /*#__PURE__*/_classPrivateFieldLooseKey(\"getAcquirers\");\n\nvar _getProgressIndicators = /*#__PURE__*/_classPrivateFieldLooseKey(\"getProgressIndicators\");\n\nvar _getEditors = /*#__PURE__*/_classPrivateFieldLooseKey(\"getEditors\");\n\nclass Dashboard extends _core.UIPlugin {\n  constructor(uppy, _opts) {\n    var _this;\n\n    super(uppy, _opts);\n    _this = this;\n\n    this.removeTarget = plugin => {\n      const pluginState = this.getPluginState(); // filter out the one we want to remove\n\n      const newTargets = pluginState.targets.filter(target => target.id !== plugin.id);\n      this.setPluginState({\n        targets: newTargets\n      });\n    };\n\n    this.addTarget = plugin => {\n      const callerPluginId = plugin.id || plugin.constructor.name;\n      const callerPluginName = plugin.title || callerPluginId;\n      const callerPluginType = plugin.type;\n\n      if (callerPluginType !== 'acquirer' && callerPluginType !== 'progressindicator' && callerPluginType !== 'editor') {\n        const msg = 'Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor';\n        this.uppy.log(msg, 'error');\n        return undefined;\n      }\n\n      const target = {\n        id: callerPluginId,\n        name: callerPluginName,\n        type: callerPluginType\n      };\n      const state = this.getPluginState();\n      const newTargets = state.targets.slice();\n      newTargets.push(target);\n      this.setPluginState({\n        targets: newTargets\n      });\n      return this.el;\n    };\n\n    this.hideAllPanels = () => {\n      const state = this.getPluginState();\n      const update = {\n        activePickerPanel: false,\n        showAddFilesPanel: false,\n        activeOverlayType: null,\n        fileCardFor: null,\n        showFileEditor: false\n      };\n\n      if (state.activePickerPanel === update.activePickerPanel && state.showAddFilesPanel === update.showAddFilesPanel && state.showFileEditor === update.showFileEditor && state.activeOverlayType === update.activeOverlayType) {\n        // avoid doing a state update if nothing changed\n        return;\n      }\n\n      this.setPluginState(update);\n    };\n\n    this.showPanel = id => {\n      const {\n        targets\n      } = this.getPluginState();\n      const activePickerPanel = targets.filter(target => {\n        return target.type === 'acquirer' && target.id === id;\n      })[0];\n      this.setPluginState({\n        activePickerPanel,\n        activeOverlayType: 'PickerPanel'\n      });\n    };\n\n    this.canEditFile = file => {\n      const {\n        targets\n      } = this.getPluginState();\n\n      const editors = _classPrivateFieldLooseBase(this, _getEditors)[_getEditors](targets);\n\n      return editors.some(target => this.uppy.getPlugin(target.id).canEditFile(file));\n    };\n\n    this.openFileEditor = file => {\n      const {\n        targets\n      } = this.getPluginState();\n\n      const editors = _classPrivateFieldLooseBase(this, _getEditors)[_getEditors](targets);\n\n      this.setPluginState({\n        showFileEditor: true,\n        fileCardFor: file.id || null,\n        activeOverlayType: 'FileEditor'\n      });\n      editors.forEach(editor => {\n        this.uppy.getPlugin(editor.id).selectFile(file);\n      });\n    };\n\n    this.saveFileEditor = () => {\n      const {\n        targets\n      } = this.getPluginState();\n\n      const editors = _classPrivateFieldLooseBase(this, _getEditors)[_getEditors](targets);\n\n      editors.forEach(editor => {\n        this.uppy.getPlugin(editor.id).save();\n      });\n      this.hideAllPanels();\n    };\n\n    this.openModal = () => {\n      const {\n        promise,\n        resolve\n      } = createPromise(); // save scroll position\n\n      this.savedScrollPosition = window.pageYOffset; // save active element, so we can restore focus when modal is closed\n\n      this.savedActiveElement = document.activeElement;\n\n      if (this.opts.disablePageScrollWhenModalOpen) {\n        document.body.classList.add('uppy-Dashboard-isFixed');\n      }\n\n      if (this.opts.animateOpenClose && this.getPluginState().isClosing) {\n        const handler = () => {\n          this.setPluginState({\n            isHidden: false\n          });\n          this.el.removeEventListener('animationend', handler, false);\n          resolve();\n        };\n\n        this.el.addEventListener('animationend', handler, false);\n      } else {\n        this.setPluginState({\n          isHidden: false\n        });\n        resolve();\n      }\n\n      if (this.opts.browserBackButtonClose) {\n        this.updateBrowserHistory();\n      } // handle ESC and TAB keys in modal dialog\n\n\n      document.addEventListener('keydown', this.handleKeyDownInModal);\n      this.uppy.emit('dashboard:modal-open');\n      return promise;\n    };\n\n    this.closeModal = function (opts) {\n      if (opts === void 0) {\n        opts = {};\n      }\n\n      const {\n        // Whether the modal is being closed by the user (`true`) or by other means (e.g. browser back button)\n        manualClose = true\n      } = opts;\n\n      const {\n        isHidden,\n        isClosing\n      } = _this.getPluginState();\n\n      if (isHidden || isClosing) {\n        // short-circuit if animation is ongoing\n        return undefined;\n      }\n\n      const {\n        promise,\n        resolve\n      } = createPromise();\n\n      if (_this.opts.disablePageScrollWhenModalOpen) {\n        document.body.classList.remove('uppy-Dashboard-isFixed');\n      }\n\n      if (_this.opts.animateOpenClose) {\n        _this.setPluginState({\n          isClosing: true\n        });\n\n        const handler = () => {\n          _this.setPluginState({\n            isHidden: true,\n            isClosing: false\n          });\n\n          _this.superFocus.cancel();\n\n          _this.savedActiveElement.focus();\n\n          _this.el.removeEventListener('animationend', handler, false);\n\n          resolve();\n        };\n\n        _this.el.addEventListener('animationend', handler, false);\n      } else {\n        _this.setPluginState({\n          isHidden: true\n        });\n\n        _this.superFocus.cancel();\n\n        _this.savedActiveElement.focus();\n\n        resolve();\n      } // handle ESC and TAB keys in modal dialog\n\n\n      document.removeEventListener('keydown', _this.handleKeyDownInModal);\n\n      if (manualClose) {\n        if (_this.opts.browserBackButtonClose) {\n          var _history$state;\n\n          // Make sure that the latest entry in the history state is our modal name\n          // eslint-disable-next-line no-restricted-globals\n          if ((_history$state = history.state) != null && _history$state[_this.modalName]) {\n            // Go back in history to clear out the entry we created (ultimately closing the modal)\n            // eslint-disable-next-line no-restricted-globals\n            history.back();\n          }\n        }\n      }\n\n      _this.uppy.emit('dashboard:modal-closed');\n\n      return promise;\n    };\n\n    this.isModalOpen = () => {\n      return !this.getPluginState().isHidden || false;\n    };\n\n    this.requestCloseModal = () => {\n      if (this.opts.onRequestCloseModal) {\n        return this.opts.onRequestCloseModal();\n      }\n\n      return this.closeModal();\n    };\n\n    this.setDarkModeCapability = isDarkModeOn => {\n      const {\n        capabilities\n      } = this.uppy.getState();\n      this.uppy.setState({\n        capabilities: { ...capabilities,\n          darkMode: isDarkModeOn\n        }\n      });\n    };\n\n    this.handleSystemDarkModeChange = event => {\n      const isDarkModeOnNow = event.matches;\n      this.uppy.log(`[Dashboard] Dark mode is ${isDarkModeOnNow ? 'on' : 'off'}`);\n      this.setDarkModeCapability(isDarkModeOnNow);\n    };\n\n    this.toggleFileCard = (show, fileID) => {\n      const file = this.uppy.getFile(fileID);\n\n      if (show) {\n        this.uppy.emit('dashboard:file-edit-start', file);\n      } else {\n        this.uppy.emit('dashboard:file-edit-complete', file);\n      }\n\n      this.setPluginState({\n        fileCardFor: show ? fileID : null,\n        activeOverlayType: show ? 'FileCard' : null\n      });\n    };\n\n    this.toggleAddFilesPanel = show => {\n      this.setPluginState({\n        showAddFilesPanel: show,\n        activeOverlayType: show ? 'AddFiles' : null\n      });\n    };\n\n    this.addFiles = files => {\n      const descriptors = files.map(file => ({\n        source: this.id,\n        name: file.name,\n        type: file.type,\n        data: file,\n        meta: {\n          // path of the file relative to the ancestor directory the user selected.\n          // e.g. 'docs/Old Prague/airbnb.pdf'\n          relativePath: file.relativePath || file.webkitRelativePath || null\n        }\n      }));\n\n      try {\n        this.uppy.addFiles(descriptors);\n      } catch (err) {\n        this.uppy.log(err);\n      }\n    };\n\n    this.startListeningToResize = () => {\n      // Watch for Dashboard container (`.uppy-Dashboard-inner`) resize\n      // and update containerWidth/containerHeight in plugin state accordingly.\n      // Emits first event on initialization.\n      this.resizeObserver = new ResizeObserver(entries => {\n        const uppyDashboardInnerEl = entries[0];\n        const {\n          width,\n          height\n        } = uppyDashboardInnerEl.contentRect;\n        this.uppy.log(`[Dashboard] resized: ${width} / ${height}`, 'debug');\n        this.setPluginState({\n          containerWidth: width,\n          containerHeight: height,\n          areInsidesReadyToBeVisible: true\n        });\n      });\n      this.resizeObserver.observe(this.el.querySelector('.uppy-Dashboard-inner')); // If ResizeObserver fails to emit an event telling us what size to use - default to the mobile view\n\n      this.makeDashboardInsidesVisibleAnywayTimeout = setTimeout(() => {\n        const pluginState = this.getPluginState();\n        const isModalAndClosed = !this.opts.inline && pluginState.isHidden;\n\n        if ( // if ResizeObserver hasn't yet fired,\n        !pluginState.areInsidesReadyToBeVisible // and it's not due to the modal being closed\n        && !isModalAndClosed) {\n          this.uppy.log(\"[Dashboard] resize event didn't fire on time: defaulted to mobile layout\", 'debug');\n          this.setPluginState({\n            areInsidesReadyToBeVisible: true\n          });\n        }\n      }, 1000);\n    };\n\n    this.stopListeningToResize = () => {\n      this.resizeObserver.disconnect();\n      clearTimeout(this.makeDashboardInsidesVisibleAnywayTimeout);\n    };\n\n    this.recordIfFocusedOnUppyRecently = event => {\n      if (this.el.contains(event.target)) {\n        this.ifFocusedOnUppyRecently = true;\n      } else {\n        this.ifFocusedOnUppyRecently = false; // ___Why run this.superFocus.cancel here when it already runs in superFocusOnEachUpdate?\n        //    Because superFocus is debounced, when we move from Uppy to some other element on the page,\n        //    previously run superFocus sometimes hits and moves focus back to Uppy.\n\n        this.superFocus.cancel();\n      }\n    };\n\n    this.disableAllFocusableElements = disable => {\n      const focusableNodes = toArray(this.el.querySelectorAll(FOCUSABLE_ELEMENTS));\n\n      if (disable) {\n        focusableNodes.forEach(node => {\n          // save previous tabindex in a data-attribute, to restore when enabling\n          const currentTabIndex = node.getAttribute('tabindex');\n\n          if (currentTabIndex) {\n            node.dataset.inertTabindex = currentTabIndex; // eslint-disable-line no-param-reassign\n          }\n\n          node.setAttribute('tabindex', '-1');\n        });\n      } else {\n        focusableNodes.forEach(node => {\n          if ('inertTabindex' in node.dataset) {\n            node.setAttribute('tabindex', node.dataset.inertTabindex);\n          } else {\n            node.removeAttribute('tabindex');\n          }\n        });\n      }\n\n      this.dashboardIsDisabled = disable;\n    };\n\n    this.updateBrowserHistory = () => {\n      var _history$state2;\n\n      // Ensure history state does not already contain our modal name to avoid double-pushing\n      // eslint-disable-next-line no-restricted-globals\n      if (!((_history$state2 = history.state) != null && _history$state2[this.modalName])) {\n        // Push to history so that the page is not lost on browser back button press\n        // eslint-disable-next-line no-restricted-globals\n        history.pushState({ // eslint-disable-next-line no-restricted-globals\n          ...history.state,\n          [this.modalName]: true\n        }, '');\n      } // Listen for back button presses\n\n\n      window.addEventListener('popstate', this.handlePopState, false);\n    };\n\n    this.handlePopState = event => {\n      var _event$state;\n\n      // Close the modal if the history state no longer contains our modal name\n      if (this.isModalOpen() && (!event.state || !event.state[this.modalName])) {\n        this.closeModal({\n          manualClose: false\n        });\n      } // When the browser back button is pressed and uppy is now the latest entry\n      // in the history but the modal is closed, fix the history by removing the\n      // uppy history entry.\n      // This occurs when another entry is added into the history state while the\n      // modal is open, and then the modal gets manually closed.\n      // Solves PR #575 (https://github.com/transloadit/uppy/pull/575)\n\n\n      if (!this.isModalOpen() && (_event$state = event.state) != null && _event$state[this.modalName]) {\n        // eslint-disable-next-line no-restricted-globals\n        history.back();\n      }\n    };\n\n    this.handleKeyDownInModal = event => {\n      // close modal on esc key press\n      if (event.keyCode === ESC_KEY) this.requestCloseModal(event); // trap focus on tab key press\n\n      if (event.keyCode === TAB_KEY) trapFocus.forModal(event, this.getPluginState().activeOverlayType, this.el);\n    };\n\n    this.handleClickOutside = () => {\n      if (this.opts.closeModalOnClickOutside) this.requestCloseModal();\n    };\n\n    this.handlePaste = event => {\n      // Let any acquirer plugin (Url/Webcam/etc.) handle pastes to the root\n      this.uppy.iteratePlugins(plugin => {\n        if (plugin.type === 'acquirer') {\n          // Every Plugin with .type acquirer can define handleRootPaste(event)\n          plugin.handleRootPaste == null ? void 0 : plugin.handleRootPaste(event);\n        }\n      }); // Add all dropped files\n\n      const files = toArray(event.clipboardData.files);\n\n      if (files.length > 0) {\n        this.uppy.log('[Dashboard] Files pasted');\n        this.addFiles(files);\n      }\n    };\n\n    this.handleInputChange = event => {\n      event.preventDefault();\n      const files = toArray(event.target.files);\n\n      if (files.length > 0) {\n        this.uppy.log('[Dashboard] Files selected through input');\n        this.addFiles(files);\n      }\n    };\n\n    this.handleDragOver = event => {\n      var _this$opts$onDragOver, _this$opts;\n\n      event.preventDefault();\n      event.stopPropagation(); // Check if some plugin can handle the datatransfer without files —\n      // for instance, the Url plugin can import a url\n\n      const canSomePluginHandleRootDrop = () => {\n        let somePluginCanHandleRootDrop = true;\n        this.uppy.iteratePlugins(plugin => {\n          if (plugin.canHandleRootDrop != null && plugin.canHandleRootDrop(event)) {\n            somePluginCanHandleRootDrop = true;\n          }\n        });\n        return somePluginCanHandleRootDrop;\n      }; // Check if the \"type\" of the datatransfer object includes files\n\n\n      const doesEventHaveFiles = () => {\n        const {\n          types\n        } = event.dataTransfer;\n        return types.some(type => type === 'Files');\n      }; // Deny drop, if no plugins can handle datatransfer, there are no files,\n      // or when opts.disabled is set, or new uploads are not allowed\n\n\n      const somePluginCanHandleRootDrop = canSomePluginHandleRootDrop(event);\n      const hasFiles = doesEventHaveFiles(event);\n\n      if (!somePluginCanHandleRootDrop && !hasFiles || this.opts.disabled // opts.disableLocalFiles should only be taken into account if no plugins\n      // can handle the datatransfer\n      || this.opts.disableLocalFiles && (hasFiles || !somePluginCanHandleRootDrop) || !this.uppy.getState().allowNewUpload) {\n        event.dataTransfer.dropEffect = 'none'; // eslint-disable-line no-param-reassign\n\n        clearTimeout(this.removeDragOverClassTimeout);\n        return;\n      } // Add a small (+) icon on drop\n      // (and prevent browsers from interpreting this as files being _moved_ into the\n      // browser, https://github.com/transloadit/uppy/issues/1978).\n\n\n      event.dataTransfer.dropEffect = 'copy'; // eslint-disable-line no-param-reassign\n\n      clearTimeout(this.removeDragOverClassTimeout);\n      this.setPluginState({\n        isDraggingOver: true\n      });\n      (_this$opts$onDragOver = (_this$opts = this.opts).onDragOver) == null ? void 0 : _this$opts$onDragOver.call(_this$opts, event);\n    };\n\n    this.handleDragLeave = event => {\n      var _this$opts$onDragLeav, _this$opts2;\n\n      event.preventDefault();\n      event.stopPropagation();\n      clearTimeout(this.removeDragOverClassTimeout); // Timeout against flickering, this solution is taken from drag-drop library.\n      // Solution with 'pointer-events: none' didn't work across browsers.\n\n      this.removeDragOverClassTimeout = setTimeout(() => {\n        this.setPluginState({\n          isDraggingOver: false\n        });\n      }, 50);\n      (_this$opts$onDragLeav = (_this$opts2 = this.opts).onDragLeave) == null ? void 0 : _this$opts$onDragLeav.call(_this$opts2, event);\n    };\n\n    this.handleDrop = async event => {\n      var _this$opts$onDrop, _this$opts3;\n\n      event.preventDefault();\n      event.stopPropagation();\n      clearTimeout(this.removeDragOverClassTimeout);\n      this.setPluginState({\n        isDraggingOver: false\n      }); // Let any acquirer plugin (Url/Webcam/etc.) handle drops to the root\n\n      this.uppy.iteratePlugins(plugin => {\n        if (plugin.type === 'acquirer') {\n          // Every Plugin with .type acquirer can define handleRootDrop(event)\n          plugin.handleRootDrop == null ? void 0 : plugin.handleRootDrop(event);\n        }\n      }); // Add all dropped files\n\n      let executedDropErrorOnce = false;\n\n      const logDropError = error => {\n        this.uppy.log(error, 'error'); // In practice all drop errors are most likely the same,\n        // so let's just show one to avoid overwhelming the user\n\n        if (!executedDropErrorOnce) {\n          this.uppy.info(error.message, 'error');\n          executedDropErrorOnce = true;\n        }\n      }; // Add all dropped files\n\n\n      const files = await getDroppedFiles(event.dataTransfer, {\n        logDropError\n      });\n\n      if (files.length > 0) {\n        this.uppy.log('[Dashboard] Files dropped');\n        this.addFiles(files);\n      }\n\n      (_this$opts$onDrop = (_this$opts3 = this.opts).onDrop) == null ? void 0 : _this$opts$onDrop.call(_this$opts3, event);\n    };\n\n    this.handleRequestThumbnail = file => {\n      if (!this.opts.waitForThumbnailsBeforeUpload) {\n        this.uppy.emit('thumbnail:request', file);\n      }\n    };\n\n    this.handleCancelThumbnail = file => {\n      if (!this.opts.waitForThumbnailsBeforeUpload) {\n        this.uppy.emit('thumbnail:cancel', file);\n      }\n    };\n\n    this.handleKeyDownInInline = event => {\n      // Trap focus on tab key press.\n      if (event.keyCode === TAB_KEY) trapFocus.forInline(event, this.getPluginState().activeOverlayType, this.el);\n    };\n\n    this.handlePasteOnBody = event => {\n      const isFocusInOverlay = this.el.contains(document.activeElement);\n\n      if (isFocusInOverlay) {\n        this.handlePaste(event);\n      }\n    };\n\n    this.handleComplete = _ref => {\n      let {\n        failed\n      } = _ref;\n\n      if (this.opts.closeAfterFinish && failed.length === 0) {\n        // All uploads are done\n        this.requestCloseModal();\n      }\n    };\n\n    this.handleCancelRestore = () => {\n      this.uppy.emit('restore-canceled');\n    };\n\n    Object.defineProperty(this, _openFileEditorWhenFilesAdded, {\n      writable: true,\n      value: files => {\n        const firstFile = files[0];\n\n        if (this.canEditFile(firstFile)) {\n          this.openFileEditor(firstFile);\n        }\n      }\n    });\n\n    this.initEvents = () => {\n      // Modal open button\n      if (this.opts.trigger && !this.opts.inline) {\n        const showModalTrigger = findAllDOMElements(this.opts.trigger);\n\n        if (showModalTrigger) {\n          showModalTrigger.forEach(trigger => trigger.addEventListener('click', this.openModal));\n        } else {\n          this.uppy.log('Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself', 'warning');\n        }\n      }\n\n      this.startListeningToResize();\n      document.addEventListener('paste', this.handlePasteOnBody);\n      this.uppy.on('plugin-remove', this.removeTarget);\n      this.uppy.on('file-added', this.hideAllPanels);\n      this.uppy.on('dashboard:modal-closed', this.hideAllPanels);\n      this.uppy.on('file-editor:complete', this.hideAllPanels);\n      this.uppy.on('complete', this.handleComplete); // ___Why fire on capture?\n      //    Because this.ifFocusedOnUppyRecently needs to change before onUpdate() fires.\n\n      document.addEventListener('focus', this.recordIfFocusedOnUppyRecently, true);\n      document.addEventListener('click', this.recordIfFocusedOnUppyRecently, true);\n\n      if (this.opts.inline) {\n        this.el.addEventListener('keydown', this.handleKeyDownInInline);\n      }\n\n      if (this.opts.autoOpenFileEditor) {\n        this.uppy.on('files-added', _classPrivateFieldLooseBase(this, _openFileEditorWhenFilesAdded)[_openFileEditorWhenFilesAdded]);\n      }\n    };\n\n    this.removeEvents = () => {\n      const showModalTrigger = findAllDOMElements(this.opts.trigger);\n\n      if (!this.opts.inline && showModalTrigger) {\n        showModalTrigger.forEach(trigger => trigger.removeEventListener('click', this.openModal));\n      }\n\n      this.stopListeningToResize();\n      document.removeEventListener('paste', this.handlePasteOnBody);\n      window.removeEventListener('popstate', this.handlePopState, false);\n      this.uppy.off('plugin-remove', this.removeTarget);\n      this.uppy.off('file-added', this.hideAllPanels);\n      this.uppy.off('dashboard:modal-closed', this.hideAllPanels);\n      this.uppy.off('file-editor:complete', this.hideAllPanels);\n      this.uppy.off('complete', this.handleComplete);\n      document.removeEventListener('focus', this.recordIfFocusedOnUppyRecently);\n      document.removeEventListener('click', this.recordIfFocusedOnUppyRecently);\n\n      if (this.opts.inline) {\n        this.el.removeEventListener('keydown', this.handleKeyDownInInline);\n      }\n\n      if (this.opts.autoOpenFileEditor) {\n        this.uppy.off('files-added', _classPrivateFieldLooseBase(this, _openFileEditorWhenFilesAdded)[_openFileEditorWhenFilesAdded]);\n      }\n    };\n\n    this.superFocusOnEachUpdate = () => {\n      const isFocusInUppy = this.el.contains(document.activeElement); // When focus is lost on the page (== focus is on body for most browsers, or focus is null for IE11)\n\n      const isFocusNowhere = document.activeElement === document.body || document.activeElement === null;\n      const isInformerHidden = this.uppy.getState().info.length === 0;\n      const isModal = !this.opts.inline;\n\n      if ( // If update is connected to showing the Informer - let the screen reader calmly read it.\n      isInformerHidden && ( // If we are in a modal - always superfocus without concern for other elements\n      // on the page (user is unlikely to want to interact with the rest of the page)\n      isModal // If we are already inside of Uppy, or\n      || isFocusInUppy // If we are not focused on anything BUT we have already, at least once, focused on uppy\n      //   1. We focus when isFocusNowhere, because when the element we were focused\n      //      on disappears (e.g. an overlay), - focus gets lost. If user is typing\n      //      something somewhere else on the page, - focus won't be 'nowhere'.\n      //   2. We only focus when focus is nowhere AND this.ifFocusedOnUppyRecently,\n      //      to avoid focus jumps if we do something else on the page.\n      //   [Practical check] Without '&& this.ifFocusedOnUppyRecently', in Safari, in inline mode,\n      //                     when file is uploading, - navigate via tab to the checkbox,\n      //                     try to press space multiple times. Focus will jump to Uppy.\n      || isFocusNowhere && this.ifFocusedOnUppyRecently)) {\n        this.superFocus(this.el, this.getPluginState().activeOverlayType);\n      } else {\n        this.superFocus.cancel();\n      }\n    };\n\n    this.afterUpdate = () => {\n      if (this.opts.disabled && !this.dashboardIsDisabled) {\n        this.disableAllFocusableElements(true);\n        return;\n      }\n\n      if (!this.opts.disabled && this.dashboardIsDisabled) {\n        this.disableAllFocusableElements(false);\n      }\n\n      this.superFocusOnEachUpdate();\n    };\n\n    this.saveFileCard = (meta, fileID) => {\n      this.uppy.setFileMeta(fileID, meta);\n      this.toggleFileCard(false, fileID);\n    };\n\n    Object.defineProperty(this, _attachRenderFunctionToTarget, {\n      writable: true,\n      value: target => {\n        const plugin = this.uppy.getPlugin(target.id);\n        return { ...target,\n          icon: plugin.icon || this.opts.defaultPickerIcon,\n          render: plugin.render\n        };\n      }\n    });\n    Object.defineProperty(this, _isTargetSupported, {\n      writable: true,\n      value: target => {\n        const plugin = this.uppy.getPlugin(target.id); // If the plugin does not provide a `supported` check, assume the plugin works everywhere.\n\n        if (typeof plugin.isSupported !== 'function') {\n          return true;\n        }\n\n        return plugin.isSupported();\n      }\n    });\n    Object.defineProperty(this, _getAcquirers, {\n      writable: true,\n      value: memoize(targets => {\n        return targets.filter(target => target.type === 'acquirer' && _classPrivateFieldLooseBase(this, _isTargetSupported)[_isTargetSupported](target)).map(_classPrivateFieldLooseBase(this, _attachRenderFunctionToTarget)[_attachRenderFunctionToTarget]);\n      })\n    });\n    Object.defineProperty(this, _getProgressIndicators, {\n      writable: true,\n      value: memoize(targets => {\n        return targets.filter(target => target.type === 'progressindicator').map(_classPrivateFieldLooseBase(this, _attachRenderFunctionToTarget)[_attachRenderFunctionToTarget]);\n      })\n    });\n    Object.defineProperty(this, _getEditors, {\n      writable: true,\n      value: memoize(targets => {\n        return targets.filter(target => target.type === 'editor').map(_classPrivateFieldLooseBase(this, _attachRenderFunctionToTarget)[_attachRenderFunctionToTarget]);\n      })\n    });\n\n    this.render = state => {\n      const pluginState = this.getPluginState();\n      const {\n        files,\n        capabilities,\n        allowNewUpload\n      } = state;\n      const {\n        newFiles,\n        uploadStartedFiles,\n        completeFiles,\n        erroredFiles,\n        inProgressFiles,\n        inProgressNotPausedFiles,\n        processingFiles,\n        isUploadStarted,\n        isAllComplete,\n        isAllErrored,\n        isAllPaused\n      } = this.uppy.getObjectOfFilesPerState();\n\n      const acquirers = _classPrivateFieldLooseBase(this, _getAcquirers)[_getAcquirers](pluginState.targets);\n\n      const progressindicators = _classPrivateFieldLooseBase(this, _getProgressIndicators)[_getProgressIndicators](pluginState.targets);\n\n      const editors = _classPrivateFieldLooseBase(this, _getEditors)[_getEditors](pluginState.targets);\n\n      let theme;\n\n      if (this.opts.theme === 'auto') {\n        theme = capabilities.darkMode ? 'dark' : 'light';\n      } else {\n        theme = this.opts.theme;\n      }\n\n      if (['files', 'folders', 'both'].indexOf(this.opts.fileManagerSelectionType) < 0) {\n        this.opts.fileManagerSelectionType = 'files'; // eslint-disable-next-line no-console\n\n        console.warn(`Unsupported option for \"fileManagerSelectionType\". Using default of \"${this.opts.fileManagerSelectionType}\".`);\n      }\n\n      return DashboardUI({\n        state,\n        isHidden: pluginState.isHidden,\n        files,\n        newFiles,\n        uploadStartedFiles,\n        completeFiles,\n        erroredFiles,\n        inProgressFiles,\n        inProgressNotPausedFiles,\n        processingFiles,\n        isUploadStarted,\n        isAllComplete,\n        isAllErrored,\n        isAllPaused,\n        totalFileCount: Object.keys(files).length,\n        totalProgress: state.totalProgress,\n        allowNewUpload,\n        acquirers,\n        theme,\n        disabled: this.opts.disabled,\n        disableLocalFiles: this.opts.disableLocalFiles,\n        direction: this.opts.direction,\n        activePickerPanel: pluginState.activePickerPanel,\n        showFileEditor: pluginState.showFileEditor,\n        saveFileEditor: this.saveFileEditor,\n        disableAllFocusableElements: this.disableAllFocusableElements,\n        animateOpenClose: this.opts.animateOpenClose,\n        isClosing: pluginState.isClosing,\n        progressindicators,\n        editors,\n        autoProceed: this.uppy.opts.autoProceed,\n        id: this.id,\n        closeModal: this.requestCloseModal,\n        handleClickOutside: this.handleClickOutside,\n        handleInputChange: this.handleInputChange,\n        handlePaste: this.handlePaste,\n        inline: this.opts.inline,\n        showPanel: this.showPanel,\n        hideAllPanels: this.hideAllPanels,\n        i18n: this.i18n,\n        i18nArray: this.i18nArray,\n        uppy: this.uppy,\n        note: this.opts.note,\n        recoveredState: state.recoveredState,\n        metaFields: pluginState.metaFields,\n        resumableUploads: capabilities.resumableUploads || false,\n        individualCancellation: capabilities.individualCancellation,\n        isMobileDevice: capabilities.isMobileDevice,\n        fileCardFor: pluginState.fileCardFor,\n        toggleFileCard: this.toggleFileCard,\n        toggleAddFilesPanel: this.toggleAddFilesPanel,\n        showAddFilesPanel: pluginState.showAddFilesPanel,\n        saveFileCard: this.saveFileCard,\n        openFileEditor: this.openFileEditor,\n        canEditFile: this.canEditFile,\n        width: this.opts.width,\n        height: this.opts.height,\n        showLinkToFileUploadResult: this.opts.showLinkToFileUploadResult,\n        fileManagerSelectionType: this.opts.fileManagerSelectionType,\n        proudlyDisplayPoweredByUppy: this.opts.proudlyDisplayPoweredByUppy,\n        hideCancelButton: this.opts.hideCancelButton,\n        hideRetryButton: this.opts.hideRetryButton,\n        hidePauseResumeButton: this.opts.hidePauseResumeButton,\n        showRemoveButtonAfterComplete: this.opts.showRemoveButtonAfterComplete,\n        containerWidth: pluginState.containerWidth,\n        containerHeight: pluginState.containerHeight,\n        areInsidesReadyToBeVisible: pluginState.areInsidesReadyToBeVisible,\n        isTargetDOMEl: this.isTargetDOMEl,\n        parentElement: this.el,\n        allowedFileTypes: this.uppy.opts.restrictions.allowedFileTypes,\n        maxNumberOfFiles: this.uppy.opts.restrictions.maxNumberOfFiles,\n        requiredMetaFields: this.uppy.opts.restrictions.requiredMetaFields,\n        showSelectedFiles: this.opts.showSelectedFiles,\n        handleCancelRestore: this.handleCancelRestore,\n        handleRequestThumbnail: this.handleRequestThumbnail,\n        handleCancelThumbnail: this.handleCancelThumbnail,\n        // drag props\n        isDraggingOver: pluginState.isDraggingOver,\n        handleDragOver: this.handleDragOver,\n        handleDragLeave: this.handleDragLeave,\n        handleDrop: this.handleDrop\n      });\n    };\n\n    this.discoverProviderPlugins = () => {\n      this.uppy.iteratePlugins(plugin => {\n        if (plugin && !plugin.target && plugin.opts && plugin.opts.target === this.constructor) {\n          this.addTarget(plugin);\n        }\n      });\n    };\n\n    this.install = () => {\n      // Set default state for Dashboard\n      this.setPluginState({\n        isHidden: true,\n        fileCardFor: null,\n        activeOverlayType: null,\n        showAddFilesPanel: false,\n        activePickerPanel: false,\n        showFileEditor: false,\n        metaFields: this.opts.metaFields,\n        targets: [],\n        // We'll make them visible once .containerWidth is determined\n        areInsidesReadyToBeVisible: false,\n        isDraggingOver: false\n      });\n      const {\n        inline,\n        closeAfterFinish\n      } = this.opts;\n\n      if (inline && closeAfterFinish) {\n        throw new Error('[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.');\n      }\n\n      const {\n        allowMultipleUploads,\n        allowMultipleUploadBatches\n      } = this.uppy.opts;\n\n      if ((allowMultipleUploads || allowMultipleUploadBatches) && closeAfterFinish) {\n        this.uppy.log('[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true', 'warning');\n      }\n\n      const {\n        target\n      } = this.opts;\n\n      if (target) {\n        this.mount(target, this);\n      }\n\n      const plugins = this.opts.plugins || [];\n      plugins.forEach(pluginID => {\n        const plugin = this.uppy.getPlugin(pluginID);\n\n        if (plugin) {\n          plugin.mount(this, plugin);\n        }\n      });\n\n      if (!this.opts.disableStatusBar) {\n        this.uppy.use(StatusBar, {\n          id: `${this.id}:StatusBar`,\n          target: this,\n          hideUploadButton: this.opts.hideUploadButton,\n          hideRetryButton: this.opts.hideRetryButton,\n          hidePauseResumeButton: this.opts.hidePauseResumeButton,\n          hideCancelButton: this.opts.hideCancelButton,\n          showProgressDetails: this.opts.showProgressDetails,\n          hideAfterFinish: this.opts.hideProgressAfterFinish,\n          locale: this.opts.locale,\n          doneButtonHandler: this.opts.doneButtonHandler\n        });\n      }\n\n      if (!this.opts.disableInformer) {\n        this.uppy.use(Informer, {\n          id: `${this.id}:Informer`,\n          target: this\n        });\n      }\n\n      if (!this.opts.disableThumbnailGenerator) {\n        this.uppy.use(ThumbnailGenerator, {\n          id: `${this.id}:ThumbnailGenerator`,\n          thumbnailWidth: this.opts.thumbnailWidth,\n          thumbnailHeight: this.opts.thumbnailHeight,\n          thumbnailType: this.opts.thumbnailType,\n          waitForThumbnailsBeforeUpload: this.opts.waitForThumbnailsBeforeUpload,\n          // If we don't block on thumbnails, we can lazily generate them\n          lazy: !this.opts.waitForThumbnailsBeforeUpload\n        });\n      } // Dark Mode / theme\n\n\n      this.darkModeMediaQuery = typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(prefers-color-scheme: dark)') : null;\n      const isDarkModeOnFromTheStart = this.darkModeMediaQuery ? this.darkModeMediaQuery.matches : false;\n      this.uppy.log(`[Dashboard] Dark mode is ${isDarkModeOnFromTheStart ? 'on' : 'off'}`);\n      this.setDarkModeCapability(isDarkModeOnFromTheStart);\n\n      if (this.opts.theme === 'auto') {\n        this.darkModeMediaQuery.addListener(this.handleSystemDarkModeChange);\n      }\n\n      this.discoverProviderPlugins();\n      this.initEvents();\n    };\n\n    this.uninstall = () => {\n      if (!this.opts.disableInformer) {\n        const informer = this.uppy.getPlugin(`${this.id}:Informer`); // Checking if this plugin exists, in case it was removed by uppy-core\n        // before the Dashboard was.\n\n        if (informer) this.uppy.removePlugin(informer);\n      }\n\n      if (!this.opts.disableStatusBar) {\n        const statusBar = this.uppy.getPlugin(`${this.id}:StatusBar`);\n        if (statusBar) this.uppy.removePlugin(statusBar);\n      }\n\n      if (!this.opts.disableThumbnailGenerator) {\n        const thumbnail = this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);\n        if (thumbnail) this.uppy.removePlugin(thumbnail);\n      }\n\n      const plugins = this.opts.plugins || [];\n      plugins.forEach(pluginID => {\n        const plugin = this.uppy.getPlugin(pluginID);\n        if (plugin) plugin.unmount();\n      });\n\n      if (this.opts.theme === 'auto') {\n        this.darkModeMediaQuery.removeListener(this.handleSystemDarkModeChange);\n      }\n\n      this.unmount();\n      this.removeEvents();\n    };\n\n    this.id = this.opts.id || 'Dashboard';\n    this.title = 'Dashboard';\n    this.type = 'orchestrator';\n    this.modalName = `uppy-Dashboard-${(0, _nonSecure.nanoid)()}`;\n    this.defaultLocale = locale; // set default options\n\n    const defaultOptions = {\n      target: 'body',\n      metaFields: [],\n      trigger: null,\n      inline: false,\n      width: 750,\n      height: 550,\n      thumbnailWidth: 280,\n      thumbnailType: 'image/jpeg',\n      waitForThumbnailsBeforeUpload: false,\n      defaultPickerIcon,\n      showLinkToFileUploadResult: false,\n      showProgressDetails: false,\n      hideUploadButton: false,\n      hideCancelButton: false,\n      hideRetryButton: false,\n      hidePauseResumeButton: false,\n      hideProgressAfterFinish: false,\n      doneButtonHandler: () => {\n        this.uppy.reset();\n        this.requestCloseModal();\n      },\n      note: null,\n      closeModalOnClickOutside: false,\n      closeAfterFinish: false,\n      disableStatusBar: false,\n      disableInformer: false,\n      disableThumbnailGenerator: false,\n      disablePageScrollWhenModalOpen: true,\n      animateOpenClose: true,\n      fileManagerSelectionType: 'files',\n      proudlyDisplayPoweredByUppy: true,\n      onRequestCloseModal: () => this.closeModal(),\n      showSelectedFiles: true,\n      showRemoveButtonAfterComplete: false,\n      browserBackButtonClose: false,\n      theme: 'light',\n      autoOpenFileEditor: false,\n      disabled: false,\n      disableLocalFiles: false\n    }; // merge default options with the ones set by user\n\n    this.opts = { ...defaultOptions,\n      ..._opts\n    };\n    this.i18nInit();\n    this.superFocus = createSuperFocus();\n    this.ifFocusedOnUppyRecently = false; // Timeouts\n\n    this.makeDashboardInsidesVisibleAnywayTimeout = null;\n    this.removeDragOverClassTimeout = null;\n  }\n\n}\n\nDashboard.VERSION = packageJson.version;\nmodule.exports = Dashboard;","\"use strict\";\n\nmodule.exports = require(\"./Dashboard.js\");","function shallowEqualObjects(objA, objB) {\n  if (objA === objB) {\n    return true;\n  }\n\n  if (!objA || !objB) {\n    return false;\n  }\n\n  var aKeys = Object.keys(objA);\n  var bKeys = Object.keys(objB);\n  var len = aKeys.length;\n\n  if (bKeys.length !== len) {\n    return false;\n  }\n\n  for (var i = 0; i < len; i++) {\n    var key = aKeys[i];\n\n    if (objA[key] !== objB[key] || !Object.prototype.hasOwnProperty.call(objB, key)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction shallowEqualArrays(arrA, arrB) {\n  if (arrA === arrB) {\n    return true;\n  }\n\n  if (!arrA || !arrB) {\n    return false;\n  }\n\n  var len = arrA.length;\n\n  if (arrB.length !== len) {\n    return false;\n  }\n\n  for (var i = 0; i < len; i++) {\n    if (arrA[i] !== arrB[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport { shallowEqualArrays, shallowEqualObjects };\n","// eslint-disable-next-line import/prefer-default-export\nexport const isVue2 = function () {\n  return arguments.length > 0 && typeof (arguments.length <= 0 ? undefined : arguments[0]) === 'function';\n};","import DashboardPlugin from '@uppy/dashboard';\nimport { shallowEqualObjects } from 'shallow-equal'; // Cross compatibility dependencies\n\nimport * as Vue from 'vue';\nimport { isVue2 } from './utils.js';\nexport default {\n  data() {\n    return {\n      plugin: {}\n    };\n  },\n\n  props: {\n    uppy: {\n      required: true\n    },\n    props: {\n      type: Object\n    },\n    plugins: {\n      type: Array\n    }\n  },\n\n  mounted() {\n    this.installPlugin();\n  },\n\n  methods: {\n    installPlugin() {\n      const {\n        uppy\n      } = this;\n      const options = {\n        id: 'vue:Dashboard',\n        inline: true,\n        plugins: this.plugins,\n        ...this.props,\n        target: this.$refs.container\n      };\n      uppy.use(DashboardPlugin, options);\n      this.plugin = uppy.getPlugin(options.id);\n    },\n\n    uninstallPlugin(uppy) {\n      uppy.removePlugin(this.plugin);\n    }\n\n  },\n\n  beforeDestroy() {\n    this.uninstallPlugin(this.uppy);\n  },\n\n  beforeUnmount() {\n    this.uninstallPlugin(this.uppy);\n  },\n\n  watch: {\n    uppy(current, old) {\n      if (old !== current) {\n        this.uninstallPlugin(old);\n        this.installPlugin();\n      }\n    },\n\n    props(current, old) {\n      if (!shallowEqualObjects(current, old)) {\n        this.plugin.setOptions({ ...current\n        });\n      }\n    }\n\n  },\n\n  render() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    // Hack to allow support for Vue 2 and 3\n    if (isVue2(...args)) {\n      // If it's first argument is a function, then it's a Vue 2 App\n      const [createElement] = args;\n      return createElement('div', {\n        ref: 'container'\n      });\n    } // Otherwise, we use the `h` function from the Vue package (in Vue 3 fashion)\n\n\n    return Vue.h('div', {\n      ref: 'container'\n    });\n  }\n\n};","\"use strict\";\n\nmodule.exports = {\n  strings: {\n    // Text to show on the droppable area.\n    // `%{browse}` is replaced with a link that opens the system file selection dialog.\n    dropHereOr: 'Drop here or %{browse}',\n    // Used as the label for the link that opens the system file selection dialog.\n    browse: 'browse'\n  }\n};","\"use strict\";\n\nvar _core = require(\"@uppy/core\");\n\nvar _preact = require(\"preact\");\n\nconst toArray = require(\"@uppy/utils/lib/toArray\");\n\nconst isDragDropSupported = require(\"@uppy/utils/lib/isDragDropSupported\");\n\nconst getDroppedFiles = require(\"@uppy/utils/lib/getDroppedFiles\");\n\nconst packageJson = {\n  \"version\": \"2.1.2\"\n};\n\nconst locale = require(\"./locale.js\");\n/**\n * Drag & Drop plugin\n *\n */\n\n\nclass DragDrop extends _core.UIPlugin {\n  constructor(uppy, opts) {\n    super(uppy, opts);\n\n    this.handleDrop = async event => {\n      var _this$opts$onDrop, _this$opts;\n\n      event.preventDefault();\n      event.stopPropagation();\n      clearTimeout(this.removeDragOverClassTimeout); // Remove dragover class\n\n      this.setPluginState({\n        isDraggingOver: false\n      });\n\n      const logDropError = error => {\n        this.uppy.log(error, 'error');\n      }; // Add all dropped files\n\n\n      const files = await getDroppedFiles(event.dataTransfer, {\n        logDropError\n      });\n\n      if (files.length > 0) {\n        this.uppy.log('[DragDrop] Files dropped');\n        this.addFiles(files);\n      }\n\n      (_this$opts$onDrop = (_this$opts = this.opts).onDrop) == null ? void 0 : _this$opts$onDrop.call(_this$opts, event);\n    };\n\n    this.type = 'acquirer';\n    this.id = this.opts.id || 'DragDrop';\n    this.title = 'Drag & Drop';\n    this.defaultLocale = locale; // Default options\n\n    const defaultOpts = {\n      target: null,\n      inputName: 'files[]',\n      width: '100%',\n      height: '100%',\n      note: null\n    }; // Merge default options with the ones set by user\n\n    this.opts = { ...defaultOpts,\n      ...opts\n    };\n    this.i18nInit(); // Check for browser dragDrop support\n\n    this.isDragDropSupported = isDragDropSupported();\n    this.removeDragOverClassTimeout = null; // Bind `this` to class methods\n\n    this.onInputChange = this.onInputChange.bind(this);\n    this.handleDragOver = this.handleDragOver.bind(this);\n    this.handleDragLeave = this.handleDragLeave.bind(this);\n    this.handleDrop = this.handleDrop.bind(this);\n    this.addFiles = this.addFiles.bind(this);\n    this.render = this.render.bind(this);\n  }\n\n  addFiles(files) {\n    const descriptors = files.map(file => ({\n      source: this.id,\n      name: file.name,\n      type: file.type,\n      data: file,\n      meta: {\n        // path of the file relative to the ancestor directory the user selected.\n        // e.g. 'docs/Old Prague/airbnb.pdf'\n        relativePath: file.relativePath || null\n      }\n    }));\n\n    try {\n      this.uppy.addFiles(descriptors);\n    } catch (err) {\n      this.uppy.log(err);\n    }\n  }\n\n  onInputChange(event) {\n    const files = toArray(event.target.files);\n\n    if (files.length > 0) {\n      this.uppy.log('[DragDrop] Files selected through input');\n      this.addFiles(files);\n    } // We clear the input after a file is selected, because otherwise\n    // change event is not fired in Chrome and Safari when a file\n    // with the same name is selected.\n    // ___Why not use value=\"\" on <input/> instead?\n    //    Because if we use that method of clearing the input,\n    //    Chrome will not trigger change if we drop the same file twice (Issue #768).\n    // eslint-disable-next-line no-param-reassign\n\n\n    event.target.value = null;\n  }\n\n  handleDragOver(event) {\n    var _this$opts$onDragOver, _this$opts2;\n\n    event.preventDefault();\n    event.stopPropagation(); // Check if the \"type\" of the datatransfer object includes files. If not, deny drop.\n\n    const {\n      types\n    } = event.dataTransfer;\n    const hasFiles = types.some(type => type === 'Files');\n    const {\n      allowNewUpload\n    } = this.uppy.getState();\n\n    if (!hasFiles || !allowNewUpload) {\n      // eslint-disable-next-line no-param-reassign\n      event.dataTransfer.dropEffect = 'none';\n      clearTimeout(this.removeDragOverClassTimeout);\n      return;\n    } // Add a small (+) icon on drop\n    // (and prevent browsers from interpreting this as files being _moved_ into the browser\n    // https://github.com/transloadit/uppy/issues/1978)\n    //\n    // eslint-disable-next-line no-param-reassign\n\n\n    event.dataTransfer.dropEffect = 'copy';\n    clearTimeout(this.removeDragOverClassTimeout);\n    this.setPluginState({\n      isDraggingOver: true\n    });\n    (_this$opts$onDragOver = (_this$opts2 = this.opts).onDragOver) == null ? void 0 : _this$opts$onDragOver.call(_this$opts2, event);\n  }\n\n  handleDragLeave(event) {\n    var _this$opts$onDragLeav, _this$opts3;\n\n    event.preventDefault();\n    event.stopPropagation();\n    clearTimeout(this.removeDragOverClassTimeout); // Timeout against flickering, this solution is taken from drag-drop library.\n    // Solution with 'pointer-events: none' didn't work across browsers.\n\n    this.removeDragOverClassTimeout = setTimeout(() => {\n      this.setPluginState({\n        isDraggingOver: false\n      });\n    }, 50);\n    (_this$opts$onDragLeav = (_this$opts3 = this.opts).onDragLeave) == null ? void 0 : _this$opts$onDragLeav.call(_this$opts3, event);\n  }\n\n  renderHiddenFileInput() {\n    const {\n      restrictions\n    } = this.uppy.opts;\n    return (0, _preact.h)(\"input\", {\n      className: \"uppy-DragDrop-input\",\n      type: \"file\",\n      hidden: true,\n      ref: ref => {\n        this.fileInputRef = ref;\n      },\n      name: this.opts.inputName,\n      multiple: restrictions.maxNumberOfFiles !== 1,\n      accept: restrictions.allowedFileTypes,\n      onChange: this.onInputChange\n    });\n  }\n\n  static renderArrowSvg() {\n    return (0, _preact.h)(\"svg\", {\n      \"aria-hidden\": \"true\",\n      focusable: \"false\",\n      className: \"uppy-c-icon uppy-DragDrop-arrow\",\n      width: \"16\",\n      height: \"16\",\n      viewBox: \"0 0 16 16\"\n    }, (0, _preact.h)(\"path\", {\n      d: \"M11 10V0H5v10H2l6 6 6-6h-3zm0 0\",\n      fillRule: \"evenodd\"\n    }));\n  }\n\n  renderLabel() {\n    return (0, _preact.h)(\"div\", {\n      className: \"uppy-DragDrop-label\"\n    }, this.i18nArray('dropHereOr', {\n      browse: (0, _preact.h)(\"span\", {\n        className: \"uppy-DragDrop-browse\"\n      }, this.i18n('browse'))\n    }));\n  }\n\n  renderNote() {\n    return (0, _preact.h)(\"span\", {\n      className: \"uppy-DragDrop-note\"\n    }, this.opts.note);\n  }\n\n  render() {\n    const dragDropClass = `uppy-u-reset\n      uppy-DragDrop-container\n      ${this.isDragDropSupported ? 'uppy-DragDrop--isDragDropSupported' : ''}\n      ${this.getPluginState().isDraggingOver ? 'uppy-DragDrop--isDraggingOver' : ''}\n    `;\n    const dragDropStyle = {\n      width: this.opts.width,\n      height: this.opts.height\n    };\n    return (0, _preact.h)(\"button\", {\n      type: \"button\",\n      className: dragDropClass,\n      style: dragDropStyle,\n      onClick: () => this.fileInputRef.click(),\n      onDragOver: this.handleDragOver,\n      onDragLeave: this.handleDragLeave,\n      onDrop: this.handleDrop\n    }, this.renderHiddenFileInput(), (0, _preact.h)(\"div\", {\n      className: \"uppy-DragDrop-inner\"\n    }, DragDrop.renderArrowSvg(), this.renderLabel(), this.renderNote()));\n  }\n\n  install() {\n    const {\n      target\n    } = this.opts;\n    this.setPluginState({\n      isDraggingOver: false\n    });\n\n    if (target) {\n      this.mount(target, this);\n    }\n  }\n\n  uninstall() {\n    this.unmount();\n  }\n\n}\n\nDragDrop.VERSION = packageJson.version;\nmodule.exports = DragDrop;","\"use strict\";\n\nmodule.exports = require(\"./DragDrop.js\");","\"use strict\";\n\nvar _preact = require(\"preact\");\n\nvar _core = require(\"@uppy/core\");\n\nconst packageJson = {\n  \"version\": \"2.1.2\"\n};\n/**\n * Progress bar\n *\n */\n\nclass ProgressBar extends _core.UIPlugin {\n  constructor(uppy, opts) {\n    super(uppy, opts);\n    this.id = this.opts.id || 'ProgressBar';\n    this.title = 'Progress Bar';\n    this.type = 'progressindicator'; // set default options\n\n    const defaultOptions = {\n      target: 'body',\n      fixed: false,\n      hideAfterFinish: true\n    }; // merge default options with the ones set by user\n\n    this.opts = { ...defaultOptions,\n      ...opts\n    };\n    this.render = this.render.bind(this);\n  }\n\n  render(state) {\n    const progress = state.totalProgress || 0; // before starting and after finish should be hidden if specified in the options\n\n    const isHidden = (progress === 0 || progress === 100) && this.opts.hideAfterFinish;\n    return (0, _preact.h)(\"div\", {\n      className: \"uppy uppy-ProgressBar\",\n      style: {\n        position: this.opts.fixed ? 'fixed' : 'initial'\n      },\n      \"aria-hidden\": isHidden\n    }, (0, _preact.h)(\"div\", {\n      className: \"uppy-ProgressBar-inner\",\n      style: {\n        width: `${progress}%`\n      }\n    }), (0, _preact.h)(\"div\", {\n      className: \"uppy-ProgressBar-percentage\"\n    }, progress));\n  }\n\n  install() {\n    const {\n      target\n    } = this.opts;\n\n    if (target) {\n      this.mount(target, this);\n    }\n  }\n\n  uninstall() {\n    this.unmount();\n  }\n\n}\n\nProgressBar.VERSION = packageJson.version;\nmodule.exports = ProgressBar;","\"use strict\";\n\nmodule.exports = require(\"./ProgressBar.js\");","<template>\n  <Dashboard id=\"drag-drop-area\" :uppy=\"uppy\" :open=\"open\" :props=\"{ onRequestCloseModal: handleClose }\" />\n  <slot></slot>\n</template>\n<script>\nimport { computed, ref } from 'vue'\nimport Uppy from '@uppy/core'\nimport { Dashboard } from '@uppy/vue'\nimport '@uppy/core/dist/style.css'\nimport '@uppy/dashboard/dist/style.css'\nexport default {\n  components: {\n    Dashboard\n  },\n  props: {\n    id: { type: String, default: '' },\n    tag: { type: String, default: '' }\n  },\n  setup() {\n    const open = ref(false)\n    const uppy = computed(() => new Uppy())\n    const handleClose = () => {\n      this.open = false\n    }\n    return { uppy, open, handleClose }\n  }\n}\n</script>\n","<template>\n  <b-row>\n    <b-col lg=\"12\">\n      <b-card>\n        <div class=\"d-flex flex-wrap align-items-center justify-content-between\">\n          <div class=\"d-flex flex-wrap align-items-center\">\n            <div class=\"d-flex flex-wrap align-items-center mb-3 mb-sm-0\">\n              <h4 class=\"me-2 h4\">{{ $t('sidebar.uppy') }}</h4>\n            </div>\n          </div>\n          <small\n            >For more Information regarding Uppy Plugin refer\n            <a href=\"https://uppy.io/docs/vue/\">Documentation</a>\n          </small>\n        </div>\n      </b-card>\n    </b-col>\n  </b-row>\n  <b-row>\n    <b-col lg=\"12\">\n      <b-card>\n        <b-card-title>{{ $t('sidebar.intro') }}</b-card-title>\n        <b-card-text>Uppy is a sleek and modular file uploader. It fetches files from local disk, Google Drive, Instagram, remote urls, cameras etc, and then uploads them to the final destination. It’s fast, has a comprehensible API and lets you worry about more important problems than building a file uploader.</b-card-text>\n        <b-card-body class=\"text-center\">\n          <uppy-dashboard id=\"drag-drop-area\" />\n        </b-card-body>\n      </b-card>\n    </b-col>\n  </b-row>\n</template>\n\n<script>\nimport UppyDashboard from '@/components/custom/uppy/UppyDashboard.vue'\nexport default {\n  name: 'UppyPage',\n  components: {\n    UppyDashboard\n  }\n}\n</script>\n"],"names":["pad","number","getTimeStamp","date","hours","minutes","seconds","getTimeStamp_1","loggers","require$$0","justErrorsLogger","_len","args","_key","debugLogger","_len2","_key2","_len3","_key3","_len4","_key4","urlAlphabet","customAlphabet","alphabet","defaultSize","size","id","i","nanoid","prettierBytes","num","neg","units","exponent","unit","WildcardMatcher","text","separator","input","matches","parts","ii","partsCount","testParts","key","wildcard","test","matcher","reMimePartSplit","mimeMatch","target","pattern","result","Restricter_1","match","require$$1","defaultOptions","RestrictionError","errors","message","Restricter","getOpts","i18n","opts","file","files","maxFileSize","minFileSize","maxTotalFileSize","maxNumberOfFiles","allowedFileTypes","f","type","allowedFileTypesString","total","minNumberOfFiles","error","requiredMetaFields","own","missingFields","field","has","object","hasProperty","_classPrivateFieldLooseBase","receiver","privateKey","_classPrivateFieldLooseKey","name","insertReplacement","source","rx","replacement","newParts","chunk","raw","list","interpolate","phrase","options","dollarRegex","dollarBillsYall","interpolated","arg","_apply","Translator","locales","_apply2","n","string","plural","locale","prevLocale","Translator_1","namespaceEmitter","emitter","_fns","event","arg1","arg2","arg3","arg4","arg5","arg6","toEmit","getListeners","emitAll","fn","one","keep","fns","l","e","out","idx","keys","FUNC_ERROR_TEXT","NAN","symbolTag","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","freeGlobal","global","freeSelf","root","objectProto","objectToString","nativeMax","nativeMin","now","debounce","func","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","toNumber","isObject","invokeFunc","time","thisArg","leadingEdge","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","shouldInvoke","trailingEdge","cancel","flush","debounced","isInvoking","throttle","value","isObjectLike","isSymbol","other","isBinary","lodash_throttle","packageJson","_publish","DefaultStore","_publish2","patch","prevState","nextState","listener","defaultStore","lib","getFileNameAndExtension","fullFileName","lastDot","getFileNameAndExtension_1","mimeTypes","getFileType","_getFileNameAndExtens","fileExtension","getFileType_1","encodeCharacter","character","encodeFilename","suffix","generateFileID","generateFileID_1","supportsUploadProgress","userAgent","m","edgeVersion","major","minor","supportsUploadProgress_1","getFileName","fileType","fileDescriptor","getFileName_1","_nonSecure","_loggers","_Restricter","require$$2","_Symbol$for","_Symbol$for2","require$$3","ee","require$$4","require$$5","require$$6","require$$7","require$$8","require$$9","require$$10","require$$11","require$$12","_plugins","_restricter","_storeUnsubscribe","_emitter","_preProcessors","_uploaders","_postProcessors","_informAndEmit","_checkRequiredMetaFieldsOnFile","_checkRequiredMetaFields","_assertNewUploadAllowed","_checkAndCreateFileStateObject","_startIfAutoProceed","_addListeners","_updateOnlineStatus","_createUpload","_getUpload","_removeUpload","_runUpload","Uppy","_opts","_runUpload2","_removeUpload2","_getUpload2","_createUpload2","_addListeners2","_startIfAutoProceed2","_checkAndCreateFileStateObject2","_assertNewUploadAllowed2","_checkRequiredMetaFields2","_checkRequiredMetaFieldsOnFile2","_informAndEmit2","currentFile","callback","state","plugin","fileID","translator","newOpts","defaultProgress","updatedFiles","updatedFile","data","updatedMeta","newMeta","filesObject","totalProgress","inProgressFiles","_ref","progress","newFiles","startedFiles","uploadStartedFiles","pausedFiles","completeFiles","erroredFiles","inProgressNotPausedFiles","processingFiles","err","newFile","fileDescriptors","subError","fileIDs","reason","currentUploads","updatedUploads","removedFiles","fileIsNotRemoved","uploadFileID","uploadID","newFileIDs","capabilities","stateUpdate","removedFileIDs","isPaused","filesToRetry","_temp","canHavePercentage","inProgress","sizedFiles","unsizedFiles","progressMax","currentProgress","acc","totalSize","averageSize","uploadedSize","Plugin","msg","pluginId","existsPluginAlready","plugins","foundPlugin","method","instance","index","item","updatedState","_temp2","info","duration","isComplexMessage","logger","currentUpload","_classPrivateFieldLoo","onBeforeUploadResult","currentlyUploadingFiles","curr","waitingFileIDs","details","success","allowNewUpload","fileName","isRemote","meta","onBeforeFileAddedResult","filesArray","errorHandler","response","errorMsg","newError","uploadResp","forceAllowNewUpload","restoreStep","steps","step","updatedUpload","successful","failed","Uppy_1","isDOMElement","obj","isDOMElement_1","findDOMElement","element","context","findDOMElement_1","getTextDirection","_element","getTextDirection_1","BasePlugin","uppy","update","BasePlugin_1","_preact","calling","latestArgs","_updateUI","UIPlugin","callerPluginName","targetElement","uppyRootElement","targetPlugin","Target","p","_classPrivateFieldLoo2","_this$el","UIPlugin_1","exports","module","_0","_1","toArray","FOCUSABLE_ELEMENTS","getActiveOverlayEl","dashboardEl","activeOverlayType","overlayEl","getActiveOverlayEl_1","trapFocus_1","forInline","trapFocus","focusOnFirstNode","nodes","node","focusOnLastNode","isFocusInOverlay","activeOverlayEl","focusableNodes","focusedItemIndex","getSpeed","fileProgress","timeElapsed","getSpeed_1","getBytesRemaining","getBytesRemaining_1","StatusBarStates","hasOwn","classNames","classes","appendClass","parseValue","newClass","secondsToTime","rawSeconds","secondsToTime_1","prettyETA","hoursStr","minutesStr","secondsStr","prettyETA_1","Components","CancelBtn","DoneBtn","LoadingSpinner","PauseResumeButton","ProgressBarComplete","ProgressBarError","ProgressBarProcessing","ProgressBarUploading","ProgressDetails","RetryBtn","UploadBtn","statusBarStates","DOT","renderDot","props","isUploadStarted","recoveredState","uploadState","isSomeGhost","startUpload","uploadBtnClassNames","uploadBtnText","isAllPaused","isAllComplete","resumableUploads","title","togglePauseResume","doneButtonHandler","mode","roundedValue","dot","numUploads","complete","totalUploadedSize","totalETA","ifShowFilesUploadedOfTotal","FileUploadCount","UploadNewlyAddedFiles","ThrottledProgressDetails","showProgressDetails","showUploadNewlyAddedFiles","renderProgressDetails","displayErrorAlert","errorMessage","calculateProcessingProgress","values","preprocess","postprocess","progressValue","calculateProcessingProgress_1","_Components","STATE_ERROR","STATE_WAITING","STATE_PREPROCESSING","STATE_UPLOADING","STATE_POSTPROCESSING","STATE_COMPLETE","StatusBar","isUploadInProgress","hideUploadButton","hidePauseResumeButton","hideCancelButton","hideRetryButton","hideAfterFinish","getProgressValue","getIsIndeterminate","getIsHidden","isHidden","width","showUploadBtn","showCancelBtn","showPauseResumeBtn","showRetryBtn","showDoneBtn","progressClassNames","statusBarClassNames","StatusBar_1","_core","StatusBarUI","getTotalSpeed","totalSpeed","getTotalETA","totalBytesRemaining","getUploadingState","isAllErrored","newFilesOrRecovered","_StatusBar","TRANSITION_MS","FadeIn","children","FadeIn_1","assign","getKey","vnode","fallback","_vnode$key","linkRef","component","cache","c","getChildMapping","mergeChildMappings","prev","next","getValueForKey","nextKeysPending","pendingKeys","prevKey","childMapping","nextKey","pendingNextKey","identity","TransitionGroup","initialChildMapping","nextProps","nextChildMapping","prevChildMapping","hasPrev","hasNext","keysToEnter","keysToLeave","currentChildMapping","_ref2","childFactory","transitionLeave","transitionName","transitionAppear","transitionEnter","transitionLeaveTimeout","transitionEnterTimeout","transitionAppearTimeout","childrenToRender","child","ref","el","TransitionGroup_1","Informer","Informer_1","t","this","s","r","a","h","o","u","d","g","y","b","w","k","O","v","A","S","U","x","C","B","V","I","L","T","P","z","F","j","E","_","D","M","N","R","$","K","W","X","H","Y","G","te","J","q","Q","Z","se","ie","ne","re","ae","he","fe","le","oe","ue","de","ce","pe","ge","me","ye","be","we","ke","Oe","ve","Se","Ae","DATA_URL_PATTERN","dataURItoBlob","dataURI","toFile","_opts$mimeType","dataURIData","mimeType","binary","bytes","dataURItoBlob_1","isObjectURL","url","isObjectURL_1","isPreviewSupported","isPreviewSupported_1","_miniUmd","canvasToBlob","canvas","quality","resolve","blob","rotateImage","image","translate","protect","ratio","maxSquare","maxSize","maxW","maxH","ThumbnailGenerator","emitPreprocessCompleteForAll","targetWidth","targetHeight","originalUrl","onload","reject","orientationPromise","orientation","dimensions","rotatedImage","resizedImage","img","height","rotation","aspect","sW","sH","preview","current","findAllDOMElements","elements","findAllDOMElements_1","getFilesAndDirectoriesFromDirectory","directoryReader","oldEntries","logDropError","onSuccess","entries","newEntries","getFilesAndDirectoriesFromDirectory_1","getAsFileSystemHandleFromEntry","entry","dirEntries","createPromiseToAddFileOrParseDirectory","relativePath","handle","getFilesFromDataTransfer","dataTransfer","_await$item$getAsFile","lastResortFile","webkitGetAsEntryApi","fallbackApi","fallbackApi_1","getDroppedFiles","accumulator","getDroppedFiles_1","safeIsNaN","isEqual","first","second","areInputsEqual","newInputs","lastInputs","memoizeOne","resultFn","lastResult","calledOnce","memoized","newArgs","_i","lodash_debounce","createSuperFocus","lastFocusWasOnSuperFocusableEl","superFocusableEl","firstEl","createSuperFocus_1","isDragDropSupported","div","isDragDropSupported_1","isShallowEqual","iconImage","iconAudio","iconVideo","iconPDF","iconArchive","iconFile","iconText","getIconByMime","defaultChoice","fileTypeGeneral","fileTypeSpecific","getFileTypeIcon","FilePreview","color","icon","FilePreview_1","metaFieldIdToName","metaFieldId","metaFields","renderMissingMetaFieldsError","toggleFileCard","missingRequiredMetaFields","metaFieldsString","missingMetaField","MetaErrorMessage","FilePreviewAndLink","FilePreviewAndLink_1","onPauseResumeCancelRetry","progressIndicatorTitle","ProgressIndicatorButton","ProgressCircleContainer","ProgressCircle","circleLength","FileProgress","FileProgress_1","truncateString","maxLength","charsToShow","frontChars","backChars","truncateString_1","renderFileName","author","getMaxNameLength","renderAuthor","providerName","renderFileSize","ReSelectButton","ErrorButton","onClick","FileInfo","FileInfo_1","copyToClipboard","textToCopy","fallbackString","textArea","magicCopyFailed","copyToClipboard_1","EditButton","uploadInProgressOrComplete","canEditFile","RemoveButton","copyLinkToClipboard","CopyLinkButton","Buttons","showLinkToFileUploadResult","showRemoveButton","openFileEditor","editAction","Buttons_1","shallowEqual","FileItem","isProcessing","isUploaded","uploadInProgress","isGhost","dashboardItemClass","FileItem_1","_extends","STYLE_INNER","STYLE_CONTENT","VirtualList","rowHeight","renderRow","overscanCount","offset","start","visibleRowCount","end","selection","styleInner","styleContent","VirtualList_1","chunks","chunked","currentChunk","FileList","noFiles","dashboardFilesClass","fileProps","sortByGhostComesFirst","file1","file2","rows","row","AddFiles","isFolder","refCallback","onClickFn","numberOfAcquirers","browseFiles","browseFolders","lowerFMSelectionType","camelFMSelectionType","acquirer","acquirers","disableLocalFiles","acquirersWithoutLastTwo","lastTwoAcquirers","i18nArray","uppyBranding","linkText","AddFiles_1","AddFilesPanel","AddFilesPanel_1","ignoreEvent","ev","tagName","ignoreEvent_1","PickerPanelContent","activePickerPanel","className","hideAllPanels","PickerPanelContent_1","EditorPanel","EditorPanel_1","uploadStates","UploadStatus","PanelTopBar","toggleAddFilesPanel","PickerPanelTopBar","FileCard","newVal","formState","fieldCSSClasses","required","_file","_metaFields","storedMetaData","showEditButton","FileCard_1","Slide","cachedChildren","Slide_1","WIDTH_XL","WIDTH_LG","WIDTH_MD","HEIGHT_MD","Dashboard","isSizeMD","dashboardClassName","itemsPerRow","showFileList","numberOfFilesForRecovery","numberOfGhosts","renderRestoredText","Dashboard_1","DashboardUI","require$$13","require$$14","memoize","TAB_KEY","ESC_KEY","createPromise","defaultPickerIcon","_openFileEditorWhenFilesAdded","_attachRenderFunctionToTarget","_isTargetSupported","_getAcquirers","_getProgressIndicators","_getEditors","_this","newTargets","callerPluginId","callerPluginType","targets","editors","editor","promise","handler","manualClose","isClosing","_history$state","isDarkModeOn","isDarkModeOnNow","show","descriptors","uppyDashboardInnerEl","pluginState","isModalAndClosed","disable","currentTabIndex","_history$state2","_event$state","_this$opts$onDragOver","_this$opts","canSomePluginHandleRootDrop","somePluginCanHandleRootDrop","doesEventHaveFiles","types","hasFiles","_this$opts$onDragLeav","_this$opts2","_this$opts$onDrop","_this$opts3","executedDropErrorOnce","firstFile","showModalTrigger","trigger","isFocusInUppy","isFocusNowhere","isInformerHidden","isModal","progressindicators","theme","inline","closeAfterFinish","allowMultipleUploads","allowMultipleUploadBatches","pluginID","isDarkModeOnFromTheStart","informer","statusBar","thumbnail","shallowEqualObjects","objA","objB","aKeys","bKeys","len","isVue2","DashboardPlugin","old","createElement","Vue.h","DragDrop","defaultOpts","restrictions","dragDropClass","dragDropStyle","DragDrop_1","ProgressBar","ProgressBar_1","_sfc_main","open","computed","_createVNode","_component_Dashboard","$setup","_renderSlot","_ctx","UppyDashboard","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_component_b_row","_component_b_col","_component_b_card","_createElementVNode","_toDisplayString","_component_b_card_title","_component_b_card_text","_cache","_component_b_card_body","_component_uppy_dashboard"],"mappings":"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"}